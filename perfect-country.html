<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Which Country Should You Live In? Take The Perfect Country Quiz (2025)
    </title>
    <meta
      name="description"
      content="Answer 12 quick questions to reveal the country that fits your lifestyle, climate, and values. Free, research-backed quiz with personalized tips and next steps."
    />
    <meta
      name="keywords"
      content="perfect country quiz, best country to live in, country personality test, where should I live quiz, ideal country finder, expat destination quiz, lifestyle country match, immigration quiz, best places to live"
    />
    <meta name="author" content="Zinvana" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://zinvana.com/perfect-country.html" />

    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Sora:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Performance: preload og image and preconnect to analytics / host -->
    <link rel="preload" as="image" href="https://zinvana.com/philippines.jpg" />
    <link rel="preconnect" href="https://zinvana.com" />
    <link
      rel="preconnect"
      href="https://www.googletagmanager.com"
      crossorigin
    />
    <link
      rel="preconnect"
      href="https://www.google-analytics.com"
      crossorigin
    />

    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="Perfect Country Quiz 2025 - Find Your Ideal Country to Live In"
    />
    <meta
      property="og:description"
      content="Discover which country matches your personality and lifestyle with our comprehensive quiz. Get personalized recommendations based on climate, culture, work-life balance, and more."
    />
    <meta property="og:image" content="https://zinvana.com/ßphilippines.jpg" />
    <meta
      property="og:url"
      content="https://zinvana.com/perfect-country.html"
    />
    <meta property="og:type" content="website" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Perfect Country Quiz 2025 - Find Your Ideal Country"
    />
    <meta
      name="twitter:description"
      content="Take our free personality quiz to discover which country is perfect for you to live in."
    />
    <meta name="twitter:image" content="https://zinvana.com/philippines.jpg" />

    <!-- GA4 placeholder: replace G-XXXXXXXXXX with your Measurement ID -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-XXXXXXXXXX");
    </script>

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Quiz",
        "name": "Perfect Country Personality Quiz",
        "description": "A comprehensive personality quiz to help you discover which country is the perfect match for your lifestyle, preferences, and values.",
        "author": {
          "@type": "Organization",
          "name": "Zinvana"
        },
        "datePublished": "2025-09-30",
        "dateModified": "2025-09-30",
        "educationalLevel": "General",
        "interactivityType": "active",
        "learningResourceType": "Assessment",
        "typicalAgeRange": "18-99",
        "about": [
          {
            "@type": "Thing",
            "name": "International Living"
          },
          {
            "@type": "Thing",
            "name": "Expatriate Life"
          },
          {
            "@type": "Thing",
            "name": "Country Selection"
          }
        ]
      }
    </script>

    <!-- Article JSON-LD for better indexing and rich cards -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Which Country Should You Live In? Perfect Country Quiz (2025)",
        "description": "Answer 12 quick questions to reveal the country that fits your lifestyle, climate, and values. Free, research-backed quiz with personalized tips and next steps.",
        "image": "https://zinvana.com/images/perfect-country-quiz.gif",
        "author": { "@type": "Organization", "name": "Zinvana" },
        "publisher": { "@type": "Organization", "name": "Zinvana" },
        "datePublished": "2025-09-30",
        "dateModified": "2025-09-30"
      }
    </script>

    <!-- FAQ JSON-LD (mirrors on-page FAQ for rich results) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How reliable is the Perfect Country Quiz?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Our model synthesizes expat satisfaction data, Mercer and EIU indices, climate resilience research, cost-of-living datasets, and visa policy signals. It’s designed to give direction and clarity, not a random spin of the globe."
            }
          },
          {
            "@type": "Question",
            "name": "What factors does the quiz consider?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "We weigh 12 key factors: climate preference, daily pace, cultural vibe, lifestyle environment (nature/urban/coastal/calm), social services (healthcare, education, safety), cost of living, language accessibility, population density preference, residency/visa pathways, core values (innovation, heritage, wellbeing, adventure), economic energy, and environmental resilience."
            }
          },
          {
            "@type": "Question",
            "name": "Which countries are included?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Around 200 destinations across all regions. The guide can also include additional territories and regions when available."
            }
          },
          {
            "@type": "Question",
            "name": "Is the quiz free?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. It’s free to take and retake. You’ll receive a transparent breakdown of why your match fits you and practical next-step advice."
            }
          },
          {
            "@type": "Question",
            "name": "How long does it take?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "About 5-7 minutes. Twelve carefully crafted questions capture the lifestyle trade-offs that matter most so we can score every country consistently."
            }
          },
          {
            "@type": "Question",
            "name": "What is Lifestyle Fit?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "It’s a percentage score showing how closely a country matches your stated preferences across climate, cost, access, community, and long-term resilience factors. Higher doesn’t always mean ‘best’—it means ‘most aligned’."
            }
          },
          {
            "@type": "Question",
            "name": "Can I trust the flag and visuals?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. We render flags using standardized assets to avoid platform inconsistencies. Photos and illustrations are representative; always verify with official sources when making decisions."
            }
          },
          {
            "@type": "Question",
            "name": "Do you store my answers?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "We do not store personal identifiers. Aggregated, anonymous analytics help us improve question quality and coverage. See the site Privacy Policy for details."
            }
          },
          {
            "@type": "Question",
            "name": "Can I use the results for immigration planning?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Use the quiz as a discovery tool. For visas, taxation, or legal planning, consult official government resources or licensed immigration professionals."
            }
          },
          {
            "@type": "Question",
            "name": "What if multiple countries score the same?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "When multiple destinations tie for the top score, our algorithm uses your unique answer pattern to select the best single match. You can retake the quiz to explore other high-scoring options."
            }
          },
          {
            "@type": "Question",
            "name": "Can I retake the quiz?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Absolutely. If your priorities change—budget, climate, family needs—retake and compare how your results shift."
            }
          },
          {
            "@type": "Question",
            "name": "How do I share my result?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Use the share buttons on the result card to post your match to social platforms or copy a link with UTM tags for friends."
            }
          },
          {
            "@type": "Question",
            "name": "What if images or flags fail to load?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Check your connection and browser extensions, then refresh. If problems persist, try a different browser or device. Report bugs via our social profiles in the footer."
            }
          }
        ]
      }
    </script>

    <style>
      :root {
        --brand1: #667eea;
        --brand2: #764ba2;
        --text-strong: #2d3748;
        --text: #4a5568;
        --muted: #718096;
        --surface: #ffffff;
        --surface-2: #f7fafc;
        --border: #e2e8f0;

        --bg: #0c1324;
        --panel: #0f172a;
        --card: rgba(255, 255, 255, 0.02);
        --shadow: 0 20px 60px rgba(0, 0, 0, 0.45);
        --radius: 18px;
        --topbar-h: 76px;
        --glow: 0 12px 40px rgba(45, 212, 191, 0.12);
        --glow-2: 0 12px 40px rgba(249, 115, 22, 0.08);
        --professional-bg: linear-gradient(
          135deg,
          #0a0f1c 0%,
          #0c1324 50%,
          #0f172a 100%
        );
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Space Grotesk", "Sora", system-ui, sans-serif;
        background: var(--professional-bg);
        min-height: 100vh;
        color: var(--text);
        padding-top: var(--topbar-h);
        scroll-behavior: smooth;
      }

      body.theme-dark {
        --text-strong: #e4ecff;
        --text: #e4ecff;
        --muted: #7c8aa5;
        --surface: rgba(255, 255, 255, 0.02);
        --surface-2: rgba(255, 255, 255, 0.02);
        --border: rgba(255, 255, 255, 0.08);
        background: var(--professional-bg);
        color: var(--text);
      }

      body.theme-light {
        --bg: #f4f6fb;
        --panel: #ffffff;
        --text-strong: #0f172a;
        --text: #0f172a;
        --muted: #4b5563;
        --border: rgba(0, 0, 0, 0.08);
        --surface: #ffffff;
        --surface-2: #f8fafc;
        --card: #ffffff;
        --shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
        --professional-bg: linear-gradient(135deg, #eef2ff 0%, #f8fafc 100%);
        background: var(--professional-bg);
        color: var(--text);
      }

      a:focus-visible,
      button:focus-visible {
        outline: 2px solid rgba(45, 212, 191, 0.7);
        outline-offset: 3px;
      }

      body.nav-locked {
        overflow: hidden;
      }

      /* Legacy nav styles (kept for reference, but disabled unless a nav has .legacy-nav)
        This prevents the old rules from hijacking the new MBTI-style topbar nav. */
      nav.legacy-nav {
        display: flex;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 9999;
        justify-content: space-between;
        align-items: center;
        background: rgba(15, 15, 35, 0.95);
        backdrop-filter: blur(25px);
        padding: 16px 32px;
        box-shadow: 0 8px 40px rgba(0, 0, 0, 0.4);
        border-bottom: 1px solid rgba(99, 102, 241, 0.2);
        transition: all 0.3s ease;
        gap: 24px;
      }

      nav.legacy-nav::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(99, 102, 241, 0.6),
          transparent
        );
      }

      .nav-brand {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      nav.legacy-nav .nav-menu {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 32px;
        flex: 1;
      }

      nav.legacy-nav .nav-left,
      nav.legacy-nav .nav-right {
        display: flex;
        align-items: center;
        gap: 32px;
      }

      nav.legacy-nav a {
        color: #cbd5e1;
        font-weight: 500;
        font-size: 1rem;
        position: relative;
        transition: all 0.3s ease;
        text-decoration: none;
        padding: 8px 16px;
        border-radius: 8px;
      }

      nav.legacy-nav a:hover {
        color: #f8fafc;
        background: rgba(99, 102, 241, 0.15);
        transform: translateY(-1px);
      }

      nav.legacy-nav a::after {
        content: "";
        position: absolute;
        bottom: 2px;
        left: 50%;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #6366f1, #8b5cf6);
        transition: all 0.3s ease;
        transform: translateX(-50%);
      }

      nav.legacy-nav a:hover::after {
        width: 80%;
      }

      nav.legacy-nav img#brand-logo {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        box-shadow: 0 4px 16px rgba(102, 126, 234, 0.2);
        transition: transform 0.3s ease;
        flex-shrink: 0;
      }

      nav.legacy-nav img#brand-logo:hover {
        transform: scale(1.05);
      }

      .nav-toggle {
        width: 48px;
        height: 48px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(15, 23, 42, 0.6);
        display: none;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-toggle span {
        position: absolute;
        width: 22px;
        height: 2px;
        background: #f8fafc;
        border-radius: 999px;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .nav-toggle span:nth-child(1) {
        transform: translateY(-7px);
      }

      .nav-toggle span:nth-child(2) {
        transform: translateY(0);
      }

      .nav-toggle span:nth-child(3) {
        transform: translateY(7px);
      }

      nav.legacy-nav.menu-open .nav-toggle span:nth-child(1) {
        transform: rotate(45deg);
      }

      nav.legacy-nav.menu-open .nav-toggle span:nth-child(2) {
        opacity: 0;
      }

      nav.legacy-nav.menu-open .nav-toggle span:nth-child(3) {
        transform: rotate(-45deg);
      }

      .nav-overlay {
        position: fixed;
        inset: 0;
        background: rgba(5, 8, 16, 0.65);
        backdrop-filter: blur(6px);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        z-index: 999;
      }

      nav.legacy-nav.menu-open + .nav-overlay {
        opacity: 1;
        pointer-events: auto;
      }

      .main-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 24px 80px;
      }

      .hero-section {
        padding: 96px 0 64px;
        color: #fff;
        position: relative;
        overflow: hidden;
      }

      /* Light-theme hero readability: avoid white-on-light backgrounds */
      body.theme-light .hero-section {
        color: var(--text);
      }

      body.theme-light .hero-section::before {
        background: radial-gradient(
          circle,
          rgba(102, 126, 234, 0.18) 0%,
          transparent 70%
        );
      }

      body.theme-light .hero-section .eyebrow {
        color: var(--brand1);
        background: rgba(102, 126, 234, 0.12);
        border-color: rgba(102, 126, 234, 0.25);
      }

      body.theme-light .hero-section h1 {
        text-shadow: none;
      }

      body.theme-light .hero-highlights li {
        color: rgba(15, 23, 42, 0.9);
      }

      body.theme-light .ghost-btn {
        border-color: rgba(15, 23, 42, 0.2);
        color: var(--text);
      }

      body.theme-light .hero-panel {
        background: rgba(255, 255, 255, 0.78);
        border-color: var(--border);
        box-shadow: 0 25px 70px rgba(15, 23, 42, 0.14);
      }

      body.theme-light .hero-panel p {
        color: var(--muted);
      }

      body.theme-light .panel-eyebrow {
        color: var(--brand1);
        background: rgba(102, 126, 234, 0.12);
        border-color: rgba(102, 126, 234, 0.25);
      }

      body.theme-light .hero-factor {
        background: rgba(255, 255, 255, 0.7);
        border-color: var(--border);
      }

      body.theme-light .hero-factor .icon {
        background: rgba(102, 126, 234, 0.12);
      }

      body.theme-light .hero-factor h4 {
        color: var(--text);
      }

      body.theme-light .hero-factor p {
        color: var(--muted);
      }

      .hero-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 50%;
        width: 1400px;
        height: 1400px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 70%
        );
        transform: translateX(-50%);
        pointer-events: none;
      }

      .hero-section > * {
        position: relative;
        z-index: 1;
      }

      .hero-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 48px;
        align-items: center;
      }

      .hero-copy {
        text-align: left;
      }

      .hero-section .eyebrow {
        display: inline-block;
        font-size: 0.9rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: #c7d2fe;
        background: rgba(99, 102, 241, 0.2);
        border: 1px solid rgba(99, 102, 241, 0.35);
        padding: 6px 12px;
        border-radius: 999px;
        margin-bottom: 16px;
      }

      .hero-section h1 {
        font-size: 3.6rem;
        letter-spacing: -0.03em;
        margin-bottom: 16px;
        text-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);
        font-weight: 800;
      }

      .hero-section .subtitle {
        font-size: 1.4rem;
        opacity: 0.98;
        margin-bottom: 14px;
        font-weight: 500;
      }

      .hero-section .description {
        max-width: 780px;
        margin: 0 0 24px;
        opacity: 0.95;
        font-size: 1.1rem;
        line-height: 1.7;
      }

      .hero-cta {
        display: flex;
        justify-content: flex-start;
        gap: 16px;
        flex-wrap: wrap;
        margin-bottom: 32px;
      }

      .primary-btn,
      .ghost-btn {
        padding: 14px 28px;
        border-radius: 999px;
        font-weight: 600;
        font-size: 1rem;
        text-decoration: none;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .primary-btn {
        background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
        color: #1f2937;
        box-shadow: 0 12px 30px rgba(253, 160, 133, 0.35);
      }

      .ghost-btn {
        border: 1px solid rgba(255, 255, 255, 0.6);
        color: #fff;
      }

      .primary-btn:hover,
      .ghost-btn:hover {
        transform: translateY(-2px);
      }

      .hero-highlights {
        list-style: none;
        padding: 0;
        margin: 0 0 28px;
        display: grid;
        gap: 10px;
      }

      .hero-highlights li {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.92);
      }

      .hero-highlights li::before {
        content: "✔";
        color: #22d3ee;
        font-weight: 700;
      }

      .hero-stats {
        justify-content: flex-start;
        gap: 32px;
      }

      .hero-stats .stat {
        min-width: 120px;
        text-align: left;
      }

      .hero-panel {
        background: rgba(15, 23, 42, 0.65);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 28px;
        padding: 36px;
        backdrop-filter: blur(12px);
        box-shadow: 0 25px 70px rgba(15, 23, 42, 0.5);
      }

      .hero-panel h3 {
        margin: 6px 0 18px;
        font-size: 1.5rem;
        letter-spacing: -0.01em;
      }

      .hero-panel p {
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .panel-eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: #c7d2fe;
        background: rgba(99, 102, 241, 0.2);
        border: 1px solid rgba(99, 102, 241, 0.35);
        padding: 6px 12px;
        border-radius: 999px;
      }

      .hero-factor-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 14px;
      }

      .hero-factor {
        display: flex;
        gap: 12px;
        padding: 14px;
        border-radius: 16px;
        background: rgba(15, 23, 42, 0.55);
        border: 1px solid rgba(255, 255, 255, 0.08);
      }

      .hero-factor .icon {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background: rgba(34, 211, 238, 0.18);
        display: grid;
        place-items: center;
        font-size: 1.2rem;
      }

      .hero-factor h4 {
        margin: 0 0 6px;
        font-size: 1rem;
        color: #f3f4f6;
      }

      .hero-factor p {
        margin: 0;
        font-size: 0.9rem;
        color: rgba(226, 232, 240, 0.85);
      }

      .content-section {
        background: var(--surface);
        border-radius: 24px;
        box-shadow: 0 20px 45px rgba(15, 23, 42, 0.15);
        margin-bottom: 40px;
        padding: 64px 48px;
      }

      .quiz-shell {
        background: transparent;
        box-shadow: none;
        padding: 0;
      }

      .section-header {
        text-align: center;
        margin-bottom: 48px;
      }

      .section-header h2 {
        font-size: 2.6rem;
        font-weight: 800;
        color: #1f2937;
        margin-bottom: 16px;
        letter-spacing: -0.02em;
      }

      .section-header p {
        font-size: 1.12rem;
        color: #4b5563;
        max-width: 760px;
        margin: 0 auto;
        line-height: 1.75;
      }

      .eyebrow {
        display: inline-block;
        font-size: 0.85rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: #6366f1;
        background: rgba(99, 102, 241, 0.1);
        border: 1px solid rgba(99, 102, 241, 0.25);
        padding: 6px 10px;
        border-radius: 999px;
        margin-bottom: 12px;
      }

      .archetypes-grid {
        display: grid;
        grid-template-columns: 1.1fr 1fr;
        gap: 32px;
        align-items: stretch;
      }

      .archetypes-panel {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border: 2px solid #e8ecf4;
        border-radius: 20px;
        padding: 32px;
        position: relative;
        overflow: hidden;
        box-shadow: 0 12px 32px rgba(102, 126, 234, 0.12);
      }

      .pillars {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 12px;
        margin-bottom: 24px;
      }

      .pillar {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 14px;
        border: 1px solid #e6ebf3;
        border-radius: 14px;
        background: #ffffff;
      }

      .pillar .icon {
        width: 32px;
        height: 32px;
        display: grid;
        place-items: center;
        border-radius: 10px;
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.15),
          rgba(118, 75, 162, 0.15)
        );
        color: #4f46e5;
        font-size: 1rem;
      }

      .pillar span {
        color: #334155;
        font-weight: 600;
        font-size: 0.98rem;
      }

      .archetype-card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 18px;
      }

      .archetype-card {
        background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
        border: 2px solid #e8ecf4;
        border-radius: 14px;
        padding: 18px;
        transition: transform 0.25s ease, box-shadow 0.25s ease,
          border-color 0.25s ease;
      }

      .archetype-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 28px rgba(102, 126, 234, 0.14);
        border-color: var(--brand1);
      }

      .archetype-card h4 {
        margin: 0 0 8px;
        font-size: 1.15rem;
        color: #1f2937;
      }

      .archetype-card p {
        color: #5a6c7d;
        font-size: 0.96rem;
        line-height: 1.55;
      }

      .features-grid,
      .insight-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 24px;
        margin-top: 32px;
      }

      .feature-card {
        background: linear-gradient(135deg, #f8fafd 0%, #f3f6fb 100%);
        padding: 32px;
        border-radius: 18px;
        border: 2px solid #e8ecf4;
        text-align: left;
        transition: transform 0.3s ease, box-shadow 0.3s ease,
          border-color 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 40px rgba(102, 126, 234, 0.15);
        border-color: var(--brand1);
      }

      .feature-card h3 {
        font-size: 1.3rem;
        margin-bottom: 10px;
        color: #1f2937;
      }

      .feature-card p {
        color: #5a6c7d;
        line-height: 1.6;
      }

      .characters-grid,
      .country-spotlight {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 24px;
      }

      .country-card {
        background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
        border: 2px solid #e8ecf4;
        border-radius: 18px;
        padding: 24px;
        transition: transform 0.25s ease, box-shadow 0.25s ease,
          border-color 0.25s ease;
      }

      .country-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 32px rgba(102, 126, 234, 0.12);
        border-color: var(--brand1);
      }

      .country-card h4 {
        font-size: 1.2rem;
        margin-bottom: 8px;
      }

      .country-card p {
        color: #5a6c7d;
        line-height: 1.55;
      }

      .guide-header {
        text-align: center;
        max-width: 900px;
        margin: 0 auto 28px;
      }

      .guide-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        flex-wrap: wrap;
        margin: 18px 0 26px;
      }

      .search-input {
        position: relative;
        flex: 1 1 340px;
        max-width: 560px;
      }

      .search-input .icon {
        position: absolute;
        left: 14px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.95rem;
        color: #64748b;
        pointer-events: none;
      }

      .search-input input[type="search"] {
        width: 100%;
        padding: 12px 14px 12px 38px;
        border-radius: 12px;
        border: 2px solid #e6ebf3;
        background: #ffffff;
        font-size: 0.98rem;
        color: #1f2937;
        outline: none;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      .search-input input[type="search"]:focus {
        border-color: var(--brand1);
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.15);
      }

      .filter-chips {
        display: flex;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      .chip {
        padding: 8px 12px;
        border: 1px solid #e6ebf3;
        border-radius: 999px;
        background: #ffffff;
        color: #334155;
        font-weight: 600;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .chip:hover {
        border-color: var(--brand1);
      }

      .chip.active {
        background: linear-gradient(135deg, var(--brand1), var(--brand2));
        color: #ffffff;
        border-color: transparent;
        box-shadow: 0 6px 18px rgba(102, 126, 234, 0.22);
      }

      .guide-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 24px;
      }

      .guide-placeholder {
        grid-column: 1 / -1;
        border: 2px dashed #d7def1;
        border-radius: 16px;
        padding: 32px;
        text-align: center;
        color: #475569;
        font-weight: 600;
        background: rgba(255, 255, 255, 0.65);
        animation: guidePulse 2s ease-in-out infinite;
      }

      @keyframes guidePulse {
        0% {
          opacity: 0.6;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0.6;
        }
      }

      .guide-card {
        background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
        border: 2px solid #e8ecf4;
        border-radius: 16px;
        padding: 22px;
        transition: transform 0.25s ease, box-shadow 0.25s ease,
          border-color 0.25s ease;
        content-visibility: auto;
        contain-intrinsic-size: 380px;
      }

      .guide-card .card-cover {
        border-radius: 14px;
        overflow: hidden;
        margin: -6px -6px 14px;
        position: relative;
        background: linear-gradient(135deg, #e2e8f0, #f8fafc);
        aspect-ratio: 16 / 9;
        min-height: 0;
      }

      .guide-card .card-cover picture,
      .guide-card .card-cover img {
        width: 100%;
        height: 100%;
        display: block;
      }

      .guide-card .card-cover img {
        object-fit: cover;
        transition: transform 0.4s ease;
        filter: saturate(1.05);
      }

      .guide-card:hover .card-cover img {
        transform: scale(1.02);
      }

      .guide-card .img-credit {
        position: absolute;
        right: 12px;
        bottom: 12px;
        max-width: calc(100% - 120px);
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.8);
        color: #ffffff;
        font-size: 0.72rem;
        line-height: 1.2;
        font-weight: 600;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .guide-card .img-credit a {
        color: inherit;
        text-decoration: underline;
        text-underline-offset: 2px;
      }

      .guide-card .img-credit:empty {
        display: none;
      }

      .result-media .img-credit {
        margin-top: 8px;
        font-size: 0.8rem;
        color: var(--muted);
      }

      .result-media .img-credit a {
        color: inherit;
        text-decoration: underline;
        text-underline-offset: 2px;
      }

      .guide-card .flag-chip {
        position: absolute;
        bottom: 12px;
        left: 12px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.85);
        color: #ffffff;
        font-size: 0.9rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-weight: 600;
        box-shadow: 0 8px 18px rgba(15, 23, 42, 0.25);
        backdrop-filter: blur(10px);
      }

      .guide-card .card-head {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
      }

      .guide-card .avatar {
        width: 46px;
        height: 46px;
        border-radius: 14px;
        background: rgba(79, 70, 229, 0.08);
        display: grid;
        place-items: center;
        font-size: 1.4rem;
      }

      /* Flags: force consistent rendering (avoids "AD" fallback squares) */
      .flag-img {
        display: inline-block;
        width: 28px;
        height: 20px;
        object-fit: cover;
        border-radius: 3px;
        vertical-align: middle;
      }

      .guide-card .flag-chip .flag-img {
        width: 22px;
        height: 16px;
        border-radius: 3px;
      }

      .guide-card .avatar .flag-img {
        width: 34px;
        height: 24px;
        border-radius: 8px;
      }

      .result-flag {
        line-height: 1;
      }

      .result-flag .flag-img {
        width: 84px;
        height: 60px;
        border-radius: 10px;
      }

      .guide-card .card-meta {
        font-size: 0.85rem;
        color: #64748b;
        margin: 2px 0 0;
      }

      .guide-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 32px rgba(102, 126, 234, 0.12);
        border-color: var(--brand1);
      }

      .guide-card h4 {
        font-size: 1.2rem;
        margin-bottom: 8px;
        color: #1f2937;
      }

      /* Dark-theme: ensure guide country names are white */
      body.theme-dark #countryGuide .guide-card h4 {
        color: black !important;
      }

      body.theme-dark #countryGuide .guide-card .card-meta,
      body.theme-dark #countryGuide .guide-card .summary {
        color: var(--muted) !important;
      }

      .guide-card .summary {
        color: #5a6c7d;
        margin-bottom: 12px;
        line-height: 1.6;
      }

      .traits {
        list-style: none;
        padding: 0;
        margin: 0 0 16px;
        display: grid;
        gap: 6px;
      }

      .traits li {
        position: relative;
        padding-left: 18px;
        color: #475569;
        font-size: 0.93rem;
      }

      .traits li::before {
        content: "✓";
        position: absolute;
        left: 0;
        top: 0;
        color: #10b981;
        font-weight: 700;
      }

      .guide-cta {
        display: inline-block;
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid #e6ebf3;
        background: #ffffff;
        text-decoration: none;
        color: #334155;
        font-weight: 700;
        font-size: 0.92rem;
        transition: all 0.2s ease;
      }

      .guide-cta:hover {
        border-color: var(--brand1);
        color: #1f2937;
        box-shadow: 0 6px 18px rgba(102, 126, 234, 0.12);
      }

      .cta-section {
        background: linear-gradient(120deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 72px 48px;
        text-align: center;
        margin-top: 40px;
        border-radius: 24px;
        box-shadow: 0 8px 40px rgba(102, 126, 234, 0.25);
        position: relative;
        overflow: hidden;
      }

      .cta-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 50%;
        width: 1000px;
        height: 1000px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 70%
        );
        transform: translateX(-50%);
        pointer-events: none;
      }

      .cta-section > * {
        position: relative;
        z-index: 1;
      }

      .cta-section h3 {
        font-size: 2.3rem;
        margin-bottom: 18px;
        font-weight: 800;
        letter-spacing: -0.02em;
      }

      .cta-section p {
        font-size: 1.15rem;
        opacity: 0.97;
        max-width: 620px;
        margin: 0 auto 24px;
        line-height: 1.7;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
        padding: 40px 20px;
      }

      .header h1 {
        font-size: 3rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
      }

      .quiz-container {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.95),
          rgba(248, 250, 255, 0.92)
        );
        border-radius: 32px;
        box-shadow: 0 32px 80px rgba(15, 23, 42, 0.35);
        margin-bottom: 40px;
        border: 1px solid rgba(99, 102, 241, 0.18);
        padding: 48px 40px;
        position: relative;
        overflow: visible;
      }

      .quiz-container::after {
        content: "";
        position: absolute;
        inset: 24px;
        border-radius: 28px;
        border: 1px solid rgba(255, 255, 255, 0.25);
        pointer-events: none;
        opacity: 0.6;
      }

      .quiz-header {
        text-align: center;
        margin-bottom: 36px;
        position: relative;
        z-index: 2;
      }

      .quiz-header h2 {
        font-size: 2.4rem;
        font-weight: 800;
        color: #0f172a;
        margin-bottom: 12px;
        letter-spacing: -0.02em;
      }

      .quiz-header p {
        font-size: 1.08rem;
        color: #475569;
        max-width: 620px;
        margin: 0 auto;
        line-height: 1.7;
      }

      .quiz-layout {
        position: relative;
        z-index: 2;
        display: grid;
        grid-template-columns: 320px minmax(0, 1fr);
        gap: 32px;
        align-items: flex-start;
      }

      .quiz-status-card {
        background: linear-gradient(
          180deg,
          rgba(15, 23, 42, 0.95),
          rgba(15, 23, 42, 0.8)
        );
        border-radius: 28px;
        border: 1px solid rgba(148, 163, 184, 0.2);
        padding: 32px;
        color: #e2e8ff;
        box-shadow: 0 25px 60px rgba(15, 23, 42, 0.35);
        display: flex;
        flex-direction: column;
        gap: 18px;
        position: sticky;
        top: 120px;
      }

      .status-eyebrow {
        font-size: 0.8rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: rgba(226, 232, 255, 0.7);
        border: 1px solid rgba(226, 232, 255, 0.2);
        border-radius: 999px;
        padding: 5px 12px;
      }

      .quiz-status-card h3 {
        margin: 0;
        font-size: 1.35rem;
        letter-spacing: -0.01em;
      }

      .quiz-status-card p {
        margin: 0;
        color: rgba(226, 232, 255, 0.85);
        line-height: 1.6;
        font-size: 0.98rem;
      }

      .status-pill-list {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 8px 0 0;
        padding: 0;
      }

      .status-pill {
        background: rgba(99, 102, 241, 0.15);
        border: 1px solid rgba(148, 163, 255, 0.2);
        border-radius: 999px;
        padding: 6px 14px;
        font-size: 0.85rem;
        color: #f1f5ff;
      }

      .progress-orb {
        --progress: 0%;
        width: 200px;
        height: 200px;
        border-radius: 50%;
        margin: 4px auto;
        background: conic-gradient(
          rgba(251, 191, 36, 0.85) var(--progress),
          rgba(255, 255, 255, 0.12) 0
        );
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .progress-orb::before {
        content: "";
        position: absolute;
        inset: 18px;
        border-radius: 50%;
        background: rgba(15, 23, 42, 0.85);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: inset 0 0 30px rgba(99, 102, 241, 0.15);
      }

      .progress-orb-inner {
        position: relative;
        z-index: 2;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
      }

      .progress-orb-value {
        font-size: 2.8rem;
        font-weight: 700;
        color: #fef9c3;
      }

      .progress-orb small {
        text-transform: uppercase;
        letter-spacing: 0.2em;
        font-size: 0.65rem;
        color: rgba(226, 232, 255, 0.65);
      }

      .status-footnote {
        font-size: 0.9rem;
        color: rgba(226, 232, 255, 0.75);
        line-height: 1.6;
      }

      .quiz-main {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 28px;
        border: 1px solid rgba(148, 163, 184, 0.25);
        padding: 32px;
        box-shadow: 0 18px 45px rgba(15, 23, 42, 0.12);
      }

      .progress-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        margin-bottom: 16px;
        color: #0f172a;
        font-size: 0.95rem;
        background: #f7f9ff;
        border: 1px solid #e4e9fb;
        border-radius: 18px;
        padding: 14px 20px;
        font-weight: 600;
      }

      .progress {
        background: #e4e9fb;
        height: 12px;
        border-radius: 999px;
        margin-bottom: 24px;
        overflow: hidden;
        box-shadow: inset 0 2px 6px rgba(15, 23, 42, 0.08);
      }

      .progress-bar {
        background: linear-gradient(90deg, #818cf8 0%, #c084fc 100%);
        height: 100%;
        width: 0%;
        transition: width 0.3s ease;
      }

      .question-counter {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        color: #4c1d95;
        margin: 0 auto 28px;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.25em;
        background: #eef2ff;
        border-radius: 999px;
        padding: 10px 20px;
      }

      .question {
        display: none;
        animation: fadeIn 0.5s ease-in;
        background: linear-gradient(135deg, #ffffff 0%, #f7f9ff 100%);
        border: 1px solid #e4e9fb;
        border-radius: 24px;
        padding: 28px;
        margin-bottom: 24px;
        box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
        position: relative;
        overflow: hidden;
      }

      .question::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          120deg,
          rgba(129, 140, 248, 0.08),
          transparent 45%
        );
        pointer-events: none;
      }

      .question.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .question h3 {
        font-size: 1.65rem;
        margin-bottom: 22px;
        color: #0f172a;
        text-align: left;
        letter-spacing: -0.01em;
        position: relative;
        padding-left: 36px;
      }

      .question h3::before {
        content: "✦";
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        color: #6366f1;
        font-size: 1.2rem;
      }

      .answers {
        display: grid;
        gap: 18px;
        margin-bottom: 10px;
      }

      .answer-btn {
        position: relative;
        display: flex;
        align-items: flex-start;
        gap: 16px;
        background: rgba(255, 255, 255, 0.96);
        border: 1px solid #e2e8f0;
        padding: 22px 26px 22px 90px;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.35s cubic-bezier(0.19, 1, 0.22, 1);
        font-size: 1.05rem;
        font-weight: 500;
        line-height: 1.4;
        text-align: left;
        color: var(--text-strong);
        box-shadow: 0 15px 30px rgba(15, 23, 42, 0.08);
        overflow: hidden;
        min-height: 120px;
      }

      .answer-btn::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          135deg,
          rgba(99, 102, 241, 0.05),
          rgba(118, 75, 162, 0.05)
        );
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 0;
      }

      .answer-btn::after {
        content: "";
        position: absolute;
        inset: 1px;
        border-radius: 18px;
        border: 1px solid rgba(99, 102, 241, 0.08);
        pointer-events: none;
        transition: border-color 0.3s ease;
      }

      .answer-btn:hover {
        border-color: rgba(99, 102, 241, 0.45);
        box-shadow: 0 25px 50px rgba(99, 102, 241, 0.18);
        transform: translateY(-2px) scale(1.01);
      }

      .answer-btn:hover::before,
      .answer-btn.selected::before {
        opacity: 1;
      }

      .answer-btn:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3),
          0 25px 50px rgba(99, 102, 241, 0.2);
        border-color: rgba(99, 102, 241, 0.6);
      }

      .answer-btn.selected {
        border-color: rgba(99, 102, 241, 0.8);
        box-shadow: 0 30px 60px rgba(99, 102, 241, 0.25);
        transform: translateY(-3px) scale(1.012);
      }

      .answer-badge {
        position: absolute;
        left: 24px;
        top: 24px;
        width: 48px;
        height: 48px;
        border-radius: 14px;
        background: linear-gradient(135deg, #eef2ff 0%, #fdf4ff 100%);
        border: 1px solid rgba(99, 102, 241, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 16px rgba(99, 102, 241, 0.12);
        transition: all 0.3s ease;
        font-size: 1.35rem;
        z-index: 3;
      }

      .answer-btn:hover .answer-badge,
      .answer-btn.selected .answer-badge {
        border-color: rgba(99, 102, 241, 0.6);
        background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
        box-shadow: 0 10px 26px rgba(99, 102, 241, 0.25);
        transform: translateY(-2px) scale(1.05);
      }

      .answer-content {
        position: relative;
        z-index: 2;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .answer-title {
        font-size: 1.15rem;
        font-weight: 600;
        color: #0f172a;
      }

      .answer-description {
        font-size: 0.98rem;
        color: #475569;
        line-height: 1.6;
      }

      .answer-btn:hover .answer-description,
      .answer-btn.selected .answer-description {
        color: #1e293b;
      }

      .chevron {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: rgba(99, 102, 241, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #6366f1;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease;
        z-index: 3;
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.18);
      }

      .answer-btn:hover .chevron,
      .answer-btn.selected .chevron {
        background: rgba(99, 102, 241, 0.2);
        color: #312e81;
        transform: translateY(-50%) translateX(4px) scale(1.07);
      }

      /* Result Experience */
      .result {
        display: none;
        max-width: 1160px;
        margin: 40px auto;
        border-radius: 36px;
        padding: 3px;
        background: linear-gradient(
          135deg,
          rgba(99, 102, 241, 0.5),
          rgba(236, 72, 153, 0.45)
        );
        box-shadow: 0 45px 90px rgba(15, 23, 42, 0.35);
        opacity: 0;
        transform: translateY(30px) scale(0.97);
        transition: all 0.65s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .result.show {
        display: block;
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      .result-placeholder {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 14px;
        padding: 80px 20px;
        border-radius: 28px;
        border: 1px dashed rgba(148, 163, 184, 0.55);
        color: #94a3b8;
        background: rgba(15, 23, 42, 0.04);
        text-align: center;
      }

      .result-placeholder span {
        font-size: 2.2rem;
      }

      body.theme-light .result-placeholder {
        color: var(--muted);
        background: rgba(255, 255, 255, 0.7);
        border-color: rgba(15, 23, 42, 0.18);
      }

      .result-shell {
        background: linear-gradient(135deg, #ffffff 0%, #f6f8ff 100%);
        border-radius: 32px;
        overflow: hidden;
        position: relative;
      }

      .result-shell::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at 18% 20%,
          rgba(99, 102, 241, 0.08),
          transparent 45%
        );
        pointer-events: none;
      }

      .result-hero {
        display: flex;
        flex-wrap: wrap;
        gap: 32px;
        padding: 48px;
        background: linear-gradient(
          135deg,
          rgba(248, 250, 255, 0.95),
          rgba(237, 233, 254, 0.9)
        );
        position: relative;
        z-index: 1;
      }

      .result-identity {
        flex: 1 1 320px;
      }

      .result-label {
        font-size: 0.82rem;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        color: #64748b;
        margin-bottom: 14px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .result-label::before {
        content: "•";
        font-size: 1.4rem;
        line-height: 0;
        color: #6366f1;
      }

      .result-flag {
        font-size: 4rem;
        margin-bottom: 12px;
      }

      .result-name {
        font-size: 3.3rem;
        color: #0f172a;
        letter-spacing: -0.02em;
        margin-bottom: 10px;
        line-height: 1.1;
      }

      .result-tagline {
        font-size: 1.25rem;
        color: #475569;
        max-width: 520px;
        line-height: 1.45;
      }

      .result-pills {
        margin-top: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .result-pill {
        background: rgba(99, 102, 241, 0.12);
        border: 1px solid rgba(99, 102, 241, 0.2);
        color: #312e81;
        border-radius: 999px;
        padding: 6px 14px;
        font-size: 0.85rem;
        font-weight: 600;
      }

      .result-media {
        flex: 0 0 320px;
        position: relative;
      }

      .result-media img {
        width: 100%;
        height: 240px;
        object-fit: cover;
        border-radius: 24px;
        box-shadow: 0 25px 50px rgba(15, 23, 42, 0.25);
        border: 1px solid rgba(15, 23, 42, 0.08);
      }

      .result-score-chip {
        position: absolute;
        bottom: -20px;
        right: 24px;
        background: #0f172a;
        color: #fef9c3;
        padding: 16px 22px;
        border-radius: 20px;
        box-shadow: 0 20px 35px rgba(15, 23, 42, 0.45);
        text-align: center;
      }

      .result-score-chip span {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.2em;
        display: block;
        color: rgba(254, 249, 195, 0.8);
        margin-bottom: 6px;
      }

      .result-score-chip strong {
        font-size: 2rem;
        letter-spacing: -0.02em;
      }

      /* Dark-theme: make the score label and value clearly white for contrast */
      body.theme-dark .result-score-chip span,
      body.theme-dark .result-score-chip strong {
        color: #ffffff !important;
      }

      .result-body {
        padding: 48px;
        display: flex;
        flex-direction: column;
        gap: 32px;
        position: relative;
        z-index: 1;
      }

      .result-story {
        background: linear-gradient(
          120deg,
          rgba(248, 250, 255, 0.95),
          rgba(255, 255, 255, 0.9)
        );
        border: 1px solid rgba(148, 163, 184, 0.35);
        border-radius: 24px;
        padding: 28px 32px;
        color: #0f172a;
        line-height: 1.75;
        font-size: 1.08rem;
        box-shadow: 0 12px 40px rgba(99, 102, 241, 0.12);
      }

      .result-stack {
        display: grid;
        grid-template-columns: 1.15fr 0.85fr;
        gap: 24px;
      }

      .result-stats {
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
        border-radius: 24px;
        padding: 28px;
        color: #f8fafc;
        position: relative;
        overflow: hidden;
      }

      .result-stats::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at top right,
          rgba(255, 255, 255, 0.25),
          transparent 55%
        );
      }

      .result-stats-head {
        position: relative;
        z-index: 1;
        margin-bottom: 22px;
      }

      .result-stats-head h3 {
        margin: 0;
        font-size: 1.6rem;
      }

      .result-stats-head p {
        margin: 6px 0 0;
        color: rgba(248, 250, 252, 0.85);
      }

      .stats-grid {
        position: relative;
        z-index: 1;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 18px;
      }

      .stat-item {
        background: rgba(255, 255, 255, 0.12);
        border-radius: 18px;
        padding: 18px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .stat-number {
        font-size: 2.1rem;
        font-weight: 700;
        display: block;
        margin-bottom: 4px;
      }

      .stat-label {
        font-size: 0.85rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      .result-next {
        border: 1px solid rgba(148, 163, 184, 0.35);
        border-radius: 24px;
        padding: 28px;
        background: linear-gradient(135deg, rgba(248, 250, 255, 0.9), #ffffff);
      }

      .result-next h3 {
        margin-top: 0;
        margin-bottom: 16px;
        color: #1e1b4b;
      }

      .next-steps {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .next-steps li {
        position: relative;
        padding-left: 28px;
        color: #475569;
        font-weight: 500;
      }

      .next-steps li::before {
        content: "➤";
        position: absolute;
        left: 0;
        color: #6366f1;
        font-size: 0.85rem;
        top: 2px;
      }

      .result-highlights,
      #countryHighlights {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 20px;
      }

      .highlight-card {
        background: #ffffff;
        border: 1px solid rgba(148, 163, 184, 0.35);
        border-radius: 20px;
        padding: 22px;
        box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
        position: relative;
        overflow: hidden;
      }

      .highlight-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          120deg,
          rgba(99, 102, 241, 0.06),
          transparent 55%
        );
        pointer-events: none;
      }

      .highlight-card h4 {
        margin: 0 0 10px;
        font-size: 1.2rem;
        color: #312e81;
      }

      .highlight-card p {
        margin: 0;
        color: #475569;
        line-height: 1.5;
      }

      .result-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
        align-items: stretch;
      }

      .restart-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        background: linear-gradient(135deg, #f97316 0%, #facc15 100%);
        color: #0f172a;
        border: none;
        padding: 16px 34px;
        border-radius: 999px;
        font-size: 1.05rem;
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 20px 40px rgba(249, 115, 22, 0.35);
      }

      .restart-btn:hover {
        transform: translateY(-2px) scale(1.01);
        box-shadow: 0 25px 45px rgba(249, 115, 22, 0.45);
      }

      /* Stats Section */
      .stats {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .stat {
        text-align: center;
        color: black;
      }

      .stat strong {
        display: block;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 5px;
      }

      .stat span {
        font-size: 0.9rem;
        opacity: 0.9;
      }

      /* SEO Content Section */
      .seo-content {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        padding: 40px;
        margin-bottom: 30px;
        line-height: 1.7;
      }

      .seo-content h2 {
        color: #4a5568;
        font-size: 2.2rem;
        margin-bottom: 20px;
        text-align: center;
      }

      .seo-content h3 {
        color: #667eea;
        font-size: 1.6rem;
        margin: 30px 0 15px 0;
        border-bottom: 2px solid #e2e8f0;
        padding-bottom: 10px;
      }

      .seo-content h4 {
        color: #4a5568;
        font-size: 1.3rem;
        margin: 20px 0 10px 0;
      }

      .seo-content p {
        color: #666;
        margin-bottom: 15px;
        font-size: 1.1rem;
      }

      .seo-content ul {
        margin: 15px 0 15px 30px;
        color: #666;
      }

      .seo-content li {
        margin-bottom: 8px;
        font-size: 1.1rem;
      }

      .factors-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .factor {
        background: #f8fafc;
        padding: 20px;
        border-radius: 12px;
        border-left: 4px solid #667eea;
      }

      .factor h4 {
        color: #667eea;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .factor p {
        color: #666;
        font-size: 1rem;
        margin: 0;
      }

      .countries-preview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .country-preview {
        background: #f8fafc;
        padding: 20px;
        border-radius: 12px;
        border-top: 4px solid #667eea;
      }

      .country-preview h4 {
        color: #4a5568;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .country-preview p {
        color: #666;
        font-size: 1rem;
        margin: 0;
      }

      /* FAQ Section */
      .faq-section {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        padding: 40px;
        margin-bottom: 30px;
      }

      .faq-item {
        border-bottom: 1px solid #e2e8f0;
        padding: 20px 0;
      }

      .faq-item:last-child {
        border-bottom: none;
      }

      .faq-question {
        color: #4a5568;
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 10px;
      }

      .faq-answer {
        color: #666;
        font-size: 1.1rem;
        line-height: 1.6;
      }

      /* Ensure FAQ text remains dark/legible when the page uses the dark theme but FAQ cards keep a light surface */
      body.theme-dark .faq-section .faq-question,
      body.theme-dark .faq-section .faq-answer {
        color: #0f172a !important;
      }

      /* Related Articles */
      .related-articles {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        padding: 40px;
        margin-bottom: 30px;
      }

      .related-articles h3 {
        color: #4a5568;
        font-size: 1.8rem;
        margin-bottom: 20px;
        text-align: center;
      }

      .articles-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .article-card {
        background: #f8fafc;
        padding: 20px;
        border-radius: 12px;
        border-left: 4px solid #667eea;
        text-decoration: none;
        color: inherit;
        transition: transform 0.3s ease;
      }

      .article-card:hover {
        transform: translateY(-2px);
      }

      .article-card h4 {
        color: #667eea;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .article-card p {
        color: #666;
        font-size: 1rem;
        margin: 0;
      }

      /* Share buttons styling */
      .share-buttons {
        background: #0f172a;
        border: 1px solid rgba(99, 102, 241, 0.35);
        border-radius: 24px;
        padding: 28px;
        color: #e2e8f0;
        box-shadow: 0 20px 45px rgba(15, 23, 42, 0.45);
      }

      .share-buttons h4 {
        color: #f8fafc;
        margin-bottom: 16px;
        font-size: 1.2rem;
      }

      .share-row {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }

      .share-btn {
        background: rgba(99, 102, 241, 0.95);
        color: #fff;
        border: none;
        padding: 14px 24px;
        border-radius: 999px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 12px 28px rgba(99, 102, 241, 0.35);
      }

      .share-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 35px rgba(99, 102, 241, 0.45);
      }

      .share-btn.twitter {
        background: linear-gradient(135deg, #1d9bf0, #1a8cd8);
      }

      .share-btn.linkedin {
        background: linear-gradient(135deg, #0a66c2, #005693);
      }

      .share-btn.copy {
        background: linear-gradient(135deg, #22c55e, #16a34a);
      }

      @media (max-width: 1024px) {
        nav.legacy-nav {
          padding: 14px 20px;
        }

        .quiz-layout {
          grid-template-columns: 1fr;
        }

        .quiz-status-card {
          position: static;
          order: 2;
        }

        .quiz-main {
          order: 1;
          padding: 28px;
        }

        .progress-orb {
          width: 180px;
          height: 180px;
        }

        .nav-toggle {
          display: inline-flex;
        }

        nav.legacy-nav .nav-menu {
          position: fixed;
          top: 80px;
          left: 16px;
          right: 16px;
          background: rgba(15, 15, 35, 0.95);
          border: 1px solid rgba(99, 102, 241, 0.3);
          border-radius: 24px;
          box-shadow: 0 30px 60px rgba(15, 23, 42, 0.5);
          flex-direction: column;
          align-items: stretch;
          gap: 24px;
          padding: 28px;
          transform: translateY(-25px) scale(0.98);
          opacity: 0;
          pointer-events: none;
          visibility: hidden;
          transition: transform 0.4s ease, opacity 0.3s ease;
          max-height: calc(100vh - 120px);
          overflow-y: auto;
        }

        nav.legacy-nav.menu-open .nav-menu {
          transform: translateY(0) scale(1);
          opacity: 1;
          pointer-events: auto;
          visibility: visible;
        }

        nav.legacy-nav .nav-left,
        nav.legacy-nav .nav-right {
          flex-direction: column;
          align-items: flex-start;
          gap: 18px;
          width: 100%;
        }

        nav.legacy-nav .nav-right {
          border-top: 1px solid rgba(255, 255, 255, 0.08);
          padding-top: 12px;
          margin-top: 4px;
        }

        nav.legacy-nav a {
          width: 100%;
          padding: 12px 0;
        }
      }

      /* Tablet Styles */
      @media (max-width: 1024px) and (min-width: 769px) {
        .main-container {
          padding: 0 24px 60px;
        }

        .hero-section {
          padding: 80px 0 56px;
        }

        .hero-section h1 {
          font-size: 3rem;
        }

        .hero-panel {
          padding: 30px;
        }

        .result {
          margin: 24px;
          max-width: calc(100% - 48px);
        }

        .result-hero {
          padding: 40px;
          gap: 24px;
        }

        .result-name {
          font-size: 2.8rem;
        }

        .result-body {
          padding: 36px;
        }

        .result-stack {
          grid-template-columns: 1fr;
        }

        .result-media img {
          height: 220px;
        }

        #countryHighlights {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      /* Mobile Styles */
      @media (max-width: 768px) {
        body {
          padding-top: 80px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .quiz-container {
          padding: 32px 20px;
          border-radius: 24px;
        }

        .quiz-main {
          padding: 22px;
        }

        .quiz-status-card {
          padding: 24px;
        }

        .progress-orb {
          width: 160px;
          height: 160px;
        }

        .question h3 {
          font-size: 1.35rem;
          padding-left: 28px;
        }

        .answer-btn {
          padding: 18px 18px 18px 70px;
          min-height: auto;
        }

        .answer-badge {
          width: 44px;
          height: 44px;
          left: 18px;
          top: 18px;
        }

        .main-container {
          padding: 0 18px 56px;
        }

        .hero-section {
          padding: 70px 0 40px;
        }

        .hero-section h1 {
          font-size: 2.4rem;
        }

        .hero-section .subtitle {
          font-size: 1.15rem;
        }

        .hero-section .description {
          font-size: 1rem;
        }

        .hero-highlights {
          grid-template-columns: 1fr;
        }

        .hero-cta {
          flex-direction: column;
        }

        .primary-btn,
        .ghost-btn {
          width: 100%;
          justify-content: center;
        }

        .hero-stats {
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
        }

        .hero-panel {
          padding: 24px;
        }

        .hero-factor-grid {
          grid-template-columns: minmax(0, 1fr);
        }

        .quiz-container,
        .seo-content,
        .faq-section,
        .related-articles {
          padding: 20px;
        }

        .result {
          margin: 10px;
          border-radius: 20px;
          max-width: calc(100% - 20px);
        }

        .result-header {
          padding: 35px 20px 30px;
        }

        .country-image {
          width: 280px;
          height: 175px;
          border-radius: 16px;
          margin-bottom: 20px;
          max-width: 90%;
        }

        .country-flag {
          font-size: 3.2rem;
          margin-bottom: 12px;
        }

        .country-name {
          font-size: 2.5rem;
          line-height: 1.2;
          margin-bottom: 8px;
          padding: 0 10px;
        }

        .result {
          margin: 20px 12px;
          border-radius: 28px;
          max-width: calc(100% - 24px);
        }

        .result-shell {
          border-radius: 24px;
        }

        .result-hero {
          padding: 32px 24px;
          flex-direction: column;
        }

        .result-media {
          width: 100%;
        }

        .result-media img {
          height: 220px;
        }

        .result-score-chip {
          position: static;
          margin-top: 16px;
          align-self: flex-start;
        }

        .result-name {
          font-size: 2.4rem;
        }

        .result-tagline {
          font-size: 1.1rem;
        }

        .result-body {
          padding: 30px 22px;
        }

        .result-story {
          font-size: 1rem;
          padding: 22px;
        }

        .result-stack {
          grid-template-columns: 1fr;
        }

        .result-stats,
        .result-next {
          padding: 24px;
        }

        #countryHighlights {
          grid-template-columns: 1fr;
        }

        .highlight-card {
          padding: 20px;
        }

        .result-actions {
          flex-direction: column;
        }

        .result-actions .restart-btn,
        .share-buttons {
          width: 100%;
        }

        .share-row {
          flex-direction: column;
          align-items: stretch;
        }

        .stats {
          gap: 20px;
        }

        .stat strong {
          font-size: 1.5rem;
        }

        .factors-grid,
        .countries-preview,
        .articles-grid {
          grid-template-columns: 1fr;
        }

        .seo-content h2 {
          font-size: 1.8rem;
        }

        .seo-content h3 {
          font-size: 1.4rem;
        }

        .share-buttons {
          padding: 25px 20px;
          margin-top: 25px;
          border-radius: 16px;
        }

        .share-buttons h4 {
          font-size: 1.2rem;
          margin-bottom: 18px;
        }

        .share-row {
          gap: 10px;
          flex-direction: column;
          align-items: center;
        }

        .share-btn {
          padding: 14px 30px;
          font-size: 0.9rem;
          min-width: 220px;
          border-radius: 25px;
          justify-content: center;
        }
      }

      /* Extra Small Screens */
      @media (max-width: 480px) {
        .result {
          margin: 16px 8px;
          border-radius: 22px;
          max-width: calc(100% - 16px);
        }

        .result-hero {
          padding: 24px 18px;
        }

        .result-name {
          font-size: 2.2rem;
        }

        .result-tagline {
          font-size: 1rem;
        }

        .result-media img {
          height: 200px;
        }

        .result-score-chip {
          width: 100%;
          text-align: center;
        }

        .result-score-chip strong {
          font-size: 1.6rem;
        }

        .result-body {
          padding: 24px 16px;
        }

        .result-story,
        .result-stats,
        .result-next {
          padding: 18px;
        }

        .stats-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 12px;
        }

        #countryHighlights {
          gap: 14px;
        }

        .highlight-card {
          padding: 18px;
        }

        .share-buttons {
          padding: 20px 16px;
        }

        .share-btn {
          width: 100%;
          min-width: 0;
        }

        .result-actions .restart-btn {
          width: 100%;
        }

        .quiz-main {
          padding: 18px;
        }

        .quiz-status-card {
          padding: 20px;
        }

        .progress-orb {
          width: 140px;
          height: 140px;
        }

        .answer-btn {
          padding: 16px 16px 16px 64px;
        }

        .hero-section {
          padding: 60px 0 32px;
        }

        .hero-section h1 {
          font-size: 2rem;
        }

        .hero-section .description {
          font-size: 0.95rem;
        }

        .hero-panel {
          padding: 20px;
        }

        .hero-factor {
          flex-direction: column;
          align-items: flex-start;
        }

        /* Keep the quiz content visible in the viewport by constraining
           the quiz panel and enabling internal scrolling when needed. */
        .quiz-main {
          max-height: calc(100vh - 200px);
          overflow: auto;
          -webkit-overflow-scrolling: touch;
          padding-right: 6px; /* room for scrollbar */
        }

        /* Make answer buttons more compact so more options fit on screen. */
        .answer-btn {
          min-height: 64px;
          padding: 12px 14px 12px 60px;
          font-size: 1rem;
        }

        /* Mobile: layout answers as a simple 3-column grid (badge / content / chevron)
           so badges don't overlap and text flows naturally on small screens. */
        .answers {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .answer-btn {
          display: grid;
          grid-template-columns: auto 1fr auto;
          align-items: center;
          gap: 12px;
          padding: 12px 14px;
          padding-left: 12px;
          min-height: 56px;
          border-radius: 14px;
        }

        /* Make the badge participate in the flow instead of being absolutely positioned */
        .answer-badge {
          position: static;
          margin: 0 6px 0 6px;
          left: auto;
          top: auto;
          width: 40px;
          height: 40px;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-size: 1.1rem;
          transform: none;
          box-shadow: none;
        }

        /* Place chevron inline at the end so it doesn't overlap content */
        .chevron {
          position: static;
          width: auto;
          height: auto;
          background: transparent;
          box-shadow: none;
          font-size: 1.25rem;
          color: #6366f1;
          justify-self: end;
        }

        @media (max-width: 768px) {
          .quiz-main {
            max-height: calc(100vh - 140px);
          }

          .answer-btn {
            min-height: 56px;
            padding: 10px 12px 10px 58px;
            font-size: 0.98rem;
          }
        }

        /* Extra-tight layout for small phones */
        @media (max-width: 420px) {
          .quiz-container {
            padding: 18px 12px;
          }

          .quiz-layout {
            gap: 18px;
            grid-template-columns: 1fr;
          }

          .quiz-status-card {
            position: static;
            order: 2;
            padding: 16px;
            top: auto;
          }

          .progress-orb {
            width: 120px;
            height: 120px;
          }

          .quiz-main {
            max-height: calc(100vh - 120px);
            padding: 8px 4px 8px 4px;
          }

          .answer-btn {
            min-height: 48px;
            padding: 8px 10px 8px 52px;
            font-size: 0.92rem;
          }

          .answer-title {
            font-size: 0.98rem;
          }

          .answer-description {
            font-size: 0.86rem;
            line-height: 1.2;
            color: #55606a;
          }

          .chevron {
            width: 26px;
            height: 26px;
            font-size: 14px;
          }

          /* Smaller emoji/badge for phones */
          .answer-badge {
            width: 36px;
            height: 36px;
            left: 12px;
            top: 12px;
            font-size: 1.05rem;
          }

          /* Adjust left padding so text aligns with smaller badge */
          .answer-btn {
            padding-left: 56px;
          }

          /* Further tighten for very small phones: hide long descriptions to show more options */
          .answer-description,
          .question-description,
          .hero-section .description,
          .result-story {
            display: none !important;
          }

          .answer-badge {
            width: 34px;
            height: 34px;
            font-size: 0.95rem;
          }

          .answer-btn {
            min-height: 44px;
            padding-left: 52px;
          }
        }
      }

      /* ===== MBTI-style topbar + footer (ported) ===== */
      header.topbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
        backdrop-filter: blur(14px);
        background: rgba(12, 19, 36, 0.95);
        border-bottom: 1px solid var(--border);
      }

      body.theme-light header.topbar {
        background: rgba(255, 255, 255, 0.92);
        box-shadow: 0 14px 30px rgba(0, 0, 0, 0.08);
      }

      .topbar__inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 14px 16px;
        display: grid;
        grid-template-columns: auto minmax(0, 1fr) auto;
        align-items: center;
        gap: 12px;
        width: 100%;
      }

      .topbar__inner > * {
        min-width: 0;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 700;
        letter-spacing: -0.02em;
        flex-shrink: 0;
        color: var(--text);
        text-decoration: none;
      }

      .brand img {
        width: 46px;
        height: 46px;
        border-radius: 50%;
      }

      .brand span {
        font-size: 20px;
        line-height: 1;
        white-space: nowrap;
      }

      nav.primary-nav {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        min-width: 0;
        flex-wrap: wrap;
        row-gap: 6px;
      }

      .nav-link {
        color: var(--muted);
        font-weight: 500;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        white-space: nowrap;
        transition: all 0.2s ease;
      }

      .nav-link:hover,
      .nav-link:focus-visible {
        color: var(--text);
        background: rgba(45, 212, 191, 0.1);
        outline: none;
      }

      .nav-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-shrink: 0;
        justify-self: end;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 10px 16px;
        border-radius: 999px;
        border: 1px solid transparent;
        font-weight: 600;
        font-size: 14px;
        transition: all 0.2s ease;
        cursor: pointer;
        white-space: nowrap;
      }

      .btn--ghost {
        border-color: var(--border);
        color: var(--text);
        background: rgba(255, 255, 255, 0.04);
      }

      body.theme-light .btn--ghost {
        background: rgba(0, 0, 0, 0.04);
      }

      body.theme-light .hamburger {
        background: rgba(0, 0, 0, 0.04);
      }

      body.theme-light .hamburger:hover {
        background: rgba(0, 0, 0, 0.08);
      }

      .btn--ghost:hover {
        transform: translateY(-2px);
        box-shadow: 0 16px 40px rgba(0, 0, 0, 0.25);
      }

      .theme-toggle {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 14px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: var(--card);
        color: var(--text);
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        transition: transform 0.18s ease, box-shadow 0.18s ease,
          border-color 0.18s ease;
      }

      .theme-toggle:hover,
      .theme-toggle:focus-visible {
        transform: translateY(-1px);
        border-color: rgba(45, 212, 191, 0.35);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18);
        outline: none;
      }

      .theme-toggle__icon {
        width: 16px;
        height: 16px;
        fill: currentColor;
      }

      .hamburger {
        display: none;
        width: 44px;
        height: 44px;
        border-radius: 10px;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.04);
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 0;
        flex-shrink: 0;
      }

      .hamburger:hover {
        background: rgba(255, 255, 255, 0.08);
      }

      .hamburger span {
        width: 18px;
        height: 2px;
        background: var(--text);
        position: relative;
        display: block;
        transition: all 0.3s ease;
      }

      .hamburger span::before,
      .hamburger span::after {
        content: "";
        position: absolute;
        left: 0;
        width: 18px;
        height: 2px;
        background: var(--text);
        transition: all 0.3s ease;
      }

      .hamburger span::before {
        top: -6px;
      }

      .hamburger span::after {
        top: 6px;
      }

      .hamburger.active span {
        background: transparent;
      }

      .hamburger.active span::before {
        transform: rotate(45deg) translate(8px, 8px);
      }

      .hamburger.active span::after {
        transform: rotate(-45deg) translate(7px, -7px);
      }

      .mobile-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(12, 19, 36, 0.98);
        border-bottom: 1px solid var(--border);
        backdrop-filter: blur(14px);
        padding: 16px;
        flex-direction: column;
        gap: 4px;
        animation: slideDown 0.3s ease;
      }

      body.theme-light .mobile-menu {
        background: rgba(255, 255, 255, 0.96);
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.12);
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .mobile-menu.open {
        display: flex;
      }

      .mobile-menu .nav-link {
        padding: 10px 12px;
        display: block;
      }

      @media (max-width: 980px) {
        nav.primary-nav {
          display: none;
        }

        .hamburger {
          display: inline-flex;
        }
      }

      @media (max-width: 520px) {
        .theme-toggle__text {
          display: none;
        }
      }

      /* Dark-mode readability for existing (light-authored) sections */
      body.theme-dark .content-section,
      body.theme-dark .quiz-container {
        background: rgba(255, 255, 255, 0.02) !important;
        border: 1px solid var(--border) !important;
        box-shadow: var(--shadow) !important;
      }

      body.theme-dark .content-section h1,
      body.theme-dark .content-section h2,
      body.theme-dark .content-section h3,
      body.theme-dark .stat,
      body.theme-dark .content-section h4,
      body.theme-dark .quiz-container h1,
      body.theme-dark .quiz-container h2,
      body.theme-dark .quiz-container h4 {
        color: white !important;
      }

      body.theme-dark .content-section p,
      body.theme-dark .content-section li,
      body.theme-dark .quiz-container p,
      body.theme-dark .quiz-container li {
        color: var(--muted) !important;
      }

      /* Result cards stay light; ensure text stays dark even in dark mode */
      body.theme-dark .result-shell,
      body.theme-dark .faq-question,
      body.theme-dark .faq-answer,
      body.theme-dark .result-shell * {
        color: #0f172a !important;
      }

      /* Footer (MBTI-style) */
      .site-footer {
        margin-top: 56px;
        border-top: 1px solid var(--border);
        background: rgba(12, 19, 36, 0.96);
      }

      body.theme-light .site-footer {
        background: rgba(255, 255, 255, 0.92);
        box-shadow: 0 -14px 30px rgba(0, 0, 0, 0.08);
      }

      .site-footer__inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 20px;
        display: grid;
        grid-template-columns: 1.3fr 1fr 1fr;
        gap: 22px;
      }

      .site-footer__logo {
        width: 46px;
        height: 46px;
        border-radius: 50%;
      }

      .site-footer__title,
      .site-footer__heading {
        margin: 10px 0 10px;
        color: var(--text);
        font-family: "Sora", "Space Grotesk", system-ui, sans-serif;
        letter-spacing: -0.02em;
      }

      .site-footer__description,
      .site-footer__note,
      .site-footer__bottom p,
      .site-footer__disclaimer {
        color: var(--muted);
      }

      .site-footer__list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 10px;
      }

      .site-footer__link {
        color: var(--muted);
        transition: color 0.2s ease;
      }

      .site-footer__link:hover,
      .site-footer__social-link:hover {
        color: var(--text);
      }

      .site-footer__social {
        display: flex;
        gap: 10px;
        margin: 12px 0;
      }

      .site-footer__social-link {
        width: 42px;
        height: 42px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.04);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color: var(--text);
      }

      body.theme-light .site-footer__social-link {
        background: rgba(0, 0, 0, 0.04);
        color: var(--text);
      }

      .site-footer__bottom {
        border-top: 1px solid var(--border);
        padding: 22px 20px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .site-footer__bottom-row {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: space-between;
        align-items: center;
      }

      @media (max-width: 860px) {
        .site-footer__inner {
          grid-template-columns: 1fr;
        }
      }

      /* Footer text black in light theme, disclaimer navy */
      body.theme-light .site-footer,
      body.theme-light .site-footer * {
        color: #000000 !important;
      }

      body.theme-light .site-footer__disclaimer {
        color: navy !important;
      }
    </style>
  </head>
  <body class="theme-dark">
    <header class="topbar">
      <div class="topbar__inner">
        <a class="brand" href="index.html">
          <img src="zinvanalogo.png" alt="Zinvana logo" />
          <span>Zinvana</span>
        </a>
        <nav class="primary-nav" aria-label="Main navigation">
          <a class="nav-link" href="#quizSection">Quiz</a>
          <a class="nav-link" href="#countryGuide">Country guide</a>
          <a class="nav-link" href="#faq">FAQ</a>
        </nav>
        <div class="nav-actions">
          <button
            class="theme-toggle"
            id="themeToggle"
            type="button"
            aria-label="Toggle color theme"
            aria-pressed="false"
          >
            <svg
              class="theme-toggle__icon"
              id="themeToggleIcon"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0-5v2m0 16v2M4 12H2m20 0h-2M5.64 5.64 4.22 4.22m15.56 15.56-1.42-1.42M18.36 5.64l1.42-1.42M5.64 18.36 4.22 19.78"
              />
            </svg>
            <span class="theme-toggle__text" id="themeToggleText"
              >Light mode</span
            >
          </button>
          <a class="btn btn--ghost" href="index.html#quizzes">All quizzes</a>
          <button
            class="hamburger"
            id="menuToggle"
            aria-label="Toggle menu"
            aria-expanded="false"
          >
            <span></span>
          </button>
        </div>
      </div>
      <nav class="mobile-menu" id="mobileMenu" aria-label="Mobile navigation">
        <a class="nav-link" href="#quizSection">Quiz</a>
        <a class="nav-link" href="#countryGuide">Country guide</a>
        <a class="nav-link" href="#faq">FAQ</a>
        <a class="nav-link" href="about.html">About</a>
      </nav>
    </header>

    <header class="hero-section" id="overview">
      <div class="main-container hero-grid">
        <div class="hero-copy">
          <span class="eyebrow">Global Relocation Readiness</span>
          <h1>🌍 Perfect Country Quiz 2025</h1>
          <p class="subtitle">
            Which nation matches your climate, culture, and career energy?
          </p>
          <p class="description">
            Discover the destination that fits your lifestyle across climate
            preferences, work-life balance, language comfort, social services,
            and more. Our 2025 signal stack blends expat surveys, Mercer and EIU
            benchmarks, visa intel, and deterministic scoring—so your match is
            inspiring <em>and</em> actionable.
          </p>

          <ul class="hero-highlights">
            <li>Around 200 destinations across the Global Country Guide</li>
            <li>Deterministic results with transparent point weighting</li>
            <li>
              Immediate guidance on visas, cost of living, and quality of life
            </li>
          </ul>

          <div class="hero-cta">
            <a href="#quizSection" class="primary-btn">Start The Quiz</a>
            <a href="#countryGuide" class="ghost-btn">Browse Country Guide</a>
          </div>

          <div class="stats hero-stats">
            <div class="stat">
              <strong id="countryCountStat">—</strong>
              <span>Countries scored</span>
            </div>
            <div class="stat">
              <strong>12</strong>
              <span>Lifestyle questions</span>
            </div>
            <div class="stat">
              <strong>2 min</strong>
              <span>To get matched</span>
            </div>
          </div>
        </div>

        <div class="hero-panel">
          <span class="panel-eyebrow">Lifestyle pillars</span>
          <h3>Signals we benchmark before recommending your move</h3>
          <p>
            Each recommendation blends quantitative indicators with human inputs
            from expats, digital nomads, and relocation advisors worldwide.
          </p>

          <div class="hero-factor-grid">
            <div class="hero-factor">
              <div class="icon">🏙️</div>
              <div>
                <h4>Lifestyle Environment</h4>
                <p>
                  Urban energy, natural beauty, or slow coasts calibrated to
                  you.
                </p>
              </div>
            </div>
            <div class="hero-factor">
              <div class="icon">🏥</div>
              <div>
                <h4>Social Services</h4>
                <p>
                  Healthcare, education, and safety baselines by city cluster.
                </p>
              </div>
            </div>
            <div class="hero-factor">
              <div class="icon">💰</div>
              <div>
                <h4>Cost &amp; Access</h4>
                <p>Visa pathways and affordability scores for each match.</p>
              </div>
            </div>
            <div class="hero-factor">
              <div class="icon">🗣️</div>
              <div>
                <h4>Language Fit</h4>
                <p>
                  English prevalence or immersion options for rapid onboarding.
                </p>
              </div>
            </div>
            <div class="hero-factor">
              <div class="icon">👥</div>
              <div>
                <h4>Density &amp; Pace</h4>
                <p>
                  Megacity buzz, suburban calm, or rural focus by preference.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <section class="quiz-shell" id="quizSection">
      <div class="quiz-container">
        <div class="quiz-header">
          <h2>Take the Perfect Country Quiz</h2>
          <p>
            Answer 12 quick questions to reveal which country matches your
            lifestyle, values, and future goals.
          </p>
        </div>
        <div class="quiz-layout">
          <aside class="quiz-status-card" aria-live="polite">
            <span class="status-eyebrow">Match engine</span>
            <h3>Result readiness</h3>
            <p>
              We weigh climate, belonging, cost, and future-proof access every
              time you choose an option.
            </p>
            <div class="progress-orb" id="progressOrb">
              <div class="progress-orb-inner">
                <span class="progress-orb-value" id="progressDialValue"
                  >0%</span
                >
                <small>complete</small>
              </div>
            </div>
            <ul class="status-pill-list">
              <li class="status-pill">Climate &amp; vibe</li>
              <li class="status-pill">Cost &amp; access</li>
              <li class="status-pill">Community fit</li>
              <li class="status-pill">Future proofing</li>
            </ul>
            <p class="status-footnote">
              Finish all twelve to unlock a luxe result card with transparent
              scoring and next-step advice.
            </p>
          </aside>

          <div class="quiz-main">
            <div class="progress-meta">
              <span><strong id="progressLabel">0%</strong></span>
              <span
                >Question <strong id="questionNumberTop">1</strong> /
                <strong id="questionTotalTop">12</strong></span
              >
            </div>
            <div class="progress" aria-label="Quiz progress">
              <div
                class="progress-bar"
                id="progressBar"
                role="progressbar"
                aria-valuemin="0"
                aria-valuemax="100"
                aria-valuenow="0"
              ></div>
            </div>

            <div class="question-counter" aria-live="polite">
              <span id="questionNumber">1</span> /
              <span id="questionTotal">12</span>
            </div>

            <!-- Question 1 -->
            <div class="question active" data-question="1">
              <h3>What's your ideal climate?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="tropical"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌴</span>
                  <span class="answer-content">
                    <span class="answer-title">Tropical Paradise</span>
                    <span class="answer-description"
                      >Warm beaches, sunshine year-round, and palm trees
                      everywhere.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="temperate"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🍂</span>
                  <span class="answer-content">
                    <span class="answer-title">Four Seasons</span>
                    <span class="answer-description"
                      >Distinct springs, warm summers, colorful autumns, and
                      snowy winters.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="mediterranean"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">☀️</span>
                  <span class="answer-content">
                    <span class="answer-title">Mediterranean Magic</span>
                    <span class="answer-description"
                      >Mild winters, warm dry summers, perfect for outdoor
                      living.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="cool"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">❄️</span>
                  <span class="answer-content">
                    <span class="answer-title">Cool &amp; Crisp</span>
                    <span class="answer-description"
                      >Fresh air, cozy winters, and an outdoorsy, brisk everyday
                      vibe.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 2 -->
            <div class="question" data-question="2">
              <h3>What pace do you want day-to-day?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="relaxed"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌿</span>
                  <span class="answer-content">
                    <span class="answer-title">Relaxed</span>
                    <span class="answer-description"
                      >Slow mornings, nature breaks, and plenty of breathing
                      room.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="balanced"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">⚖️</span>
                  <span class="answer-content">
                    <span class="answer-title">Balanced</span>
                    <span class="answer-description"
                      >A steady rhythm: productive weeks with protected personal
                      time.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="ambitious"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🚀</span>
                  <span class="answer-content">
                    <span class="answer-title">Ambitious</span>
                    <span class="answer-description"
                      >Fast-paced cities, ambitious networks, and big career
                      momentum.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="flexible"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🧳</span>
                  <span class="answer-content">
                    <span class="answer-title">Flexible</span>
                    <span class="answer-description"
                      >A mix: you adapt easily and want options rather than one
                      fixed tempo.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 3 -->
            <div class="question" data-question="3">
              <h3>Which culture vibe fits you best?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="diverse"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌈</span>
                  <span class="answer-content">
                    <span class="answer-title"
                      >Diverse &amp; Multicultural</span
                    >
                    <span class="answer-description"
                      >Many communities, languages, cuisines, and perspectives
                      side-by-side.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="traditional"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏛️</span>
                  <span class="answer-content">
                    <span class="answer-title">Traditional</span>
                    <span class="answer-description"
                      >Deep heritage, strong rituals, and a timeless social
                      fabric.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="progressive"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🧠</span>
                  <span class="answer-content">
                    <span class="answer-title">Progressive</span>
                    <span class="answer-description"
                      >Innovation, equality, and modern systems that keep
                      evolving.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="artistic"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🎭</span>
                  <span class="answer-content">
                    <span class="answer-title">Artistic</span>
                    <span class="answer-description"
                      >Museums, music, design, and a culture that celebrates
                      expression.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <div class="question" data-question="4">
              <h3>What's most important for your lifestyle?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="nature"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏔️</span>
                  <span class="answer-content">
                    <span class="answer-title">Natural Beauty</span>
                    <span class="answer-description"
                      >Mountains, forests, lakes, and outdoor adventures steps
                      away.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="urban"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏙️</span>
                  <span class="answer-content">
                    <span class="answer-title">City Life</span>
                    <span class="answer-description"
                      >Nightlife, restaurants, and cultural buzz in a vibrant
                      metropolis.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="coastal"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌊</span>
                  <span class="answer-content">
                    <span class="answer-title">Coastal Living</span>
                    <span class="answer-description"
                      >Beach access, water sports, and breezy seaside
                      communities.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="peaceful"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🕊️</span>
                  <span class="answer-content">
                    <span class="answer-title">Tranquil Environment</span>
                    <span class="answer-description"
                      >Quiet towns, low crime, and a calm, restorative pace of
                      life.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 5 -->
            <div class="question" data-question="5">
              <h3>What's your priority for social services?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="healthcare"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏥</span>
                  <span class="answer-content">
                    <span class="answer-title">Universal Healthcare</span>
                    <span class="answer-description"
                      >Access to excellent public healthcare for you and your
                      family.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="education"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🎓</span>
                  <span class="answer-content">
                    <span class="answer-title">World-Class Education</span>
                    <span class="answer-description"
                      >Top schools and universities with affordable
                      access.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="safety"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🛡️</span>
                  <span class="answer-content">
                    <span class="answer-title">Safety & Security</span>
                    <span class="answer-description"
                      >Low crime rates and a strong social safety net.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="freedom"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🗽</span>
                  <span class="answer-content">
                    <span class="answer-title">Personal Freedom</span>
                    <span class="answer-description"
                      >Individual liberties with minimal government
                      interference.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 6 -->
            <div class="question" data-question="6">
              <h3>What's your preferred cost of living?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="affordable"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">💰</span>
                  <span class="answer-content">
                    <span class="answer-title">Budget-Friendly</span>
                    <span class="answer-description"
                      >Comfortable lifestyle with lower living costs and great
                      value.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="moderate"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">💳</span>
                  <span class="answer-content">
                    <span class="answer-title">Moderate Spending</span>
                    <span class="answer-description"
                      >Balanced costs with reliable services and quality of
                      life.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="premium"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">💎</span>
                  <span class="answer-content">
                    <span class="answer-title">Premium Lifestyle</span>
                    <span class="answer-description"
                      >Higher costs in exchange for premium amenities and
                      experiences.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="investment"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">📈</span>
                  <span class="answer-content">
                    <span class="answer-title">Investment Potential</span>
                    <span class="answer-description"
                      >Strong property markets and long-term economic
                      growth.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 7 -->
            <div class="question" data-question="7">
              <h3>How important is language accessibility?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="english"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🇬🇧</span>
                  <span class="answer-content">
                    <span class="answer-title">English Speaking</span>
                    <span class="answer-description"
                      >English is primary or widely spoken for easy
                      communication.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="multilingual"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🗣️</span>
                  <span class="answer-content">
                    <span class="answer-title">Multilingual Environment</span>
                    <span class="answer-description"
                      >Multiple languages, international communities, and global
                      hubs.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="learning"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">📚</span>
                  <span class="answer-content">
                    <span class="answer-title">Language Adventure</span>
                    <span class="answer-description"
                      >Excited to learn a new language and fully immerse in
                      culture.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="similar"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🔤</span>
                  <span class="answer-content">
                    <span class="answer-title">Familiar Languages</span>
                    <span class="answer-description"
                      >Prefer languages similar to ones you already know
                      well.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 8 -->
            <div class="question" data-question="8">
              <h3>What's your ideal population density?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="megacity"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌃</span>
                  <span class="answer-content">
                    <span class="answer-title">Megacity Energy</span>
                    <span class="answer-description"
                      >Millions of people, endless opportunities, and fast-paced
                      living.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="city"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏙️</span>
                  <span class="answer-content">
                    <span class="answer-title">Big City</span>
                    <span class="answer-description"
                      >Major city life with culture, amenities, and manageable
                      scale.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="town"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏘️</span>
                  <span class="answer-content">
                    <span class="answer-title">Small Town Charm</span>
                    <span class="answer-description"
                      >Close-knit communities where neighbors know each
                      other.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="rural"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌾</span>
                  <span class="answer-content">
                    <span class="answer-title">Rural Tranquility</span>
                    <span class="answer-description"
                      >Open spaces, nature nearby, and room to breathe.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 9 -->
            <div class="question" data-question="9">
              <h3>What's your ideal residency pathway?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="remotevisa"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🛂</span>
                  <span class="answer-content">
                    <span class="answer-title">Remote-Ready Visas</span>
                    <span class="answer-description"
                      >Countries with digital nomad or simplified remote work
                      permits.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="investorfriendly"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">💼</span>
                  <span class="answer-content">
                    <span class="answer-title">Investment & Golden Visas</span>
                    <span class="answer-description"
                      >Places that reward capital investment with residency
                      benefits.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="careertrack"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏢</span>
                  <span class="answer-content">
                    <span class="answer-title">Career Track Programs</span>
                    <span class="answer-description"
                      >Strong work visa options and thriving professional job
                      markets.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="easysettlement"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏡</span>
                  <span class="answer-content">
                    <span class="answer-title">Simple Long-Term Stays</span>
                    <span class="answer-description"
                      >Laid-back residency paths, retirement visas, or extended
                      stays.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 10 -->
            <div class="question" data-question="10">
              <h3>Which core vibe should your new home highlight?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="innovation"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">💡</span>
                  <span class="answer-content">
                    <span class="answer-title">Innovation & Future Focus</span>
                    <span class="answer-description"
                      >High-tech hubs pushing forward with research, startups,
                      and R&D.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="heritage"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏛️</span>
                  <span class="answer-content">
                    <span class="answer-title">History & Heritage</span>
                    <span class="answer-description"
                      >Story-rich nations with timeless architecture, art, and
                      tradition.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="wellbeing"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">💆</span>
                  <span class="answer-content">
                    <span class="answer-title">Wellbeing & Balance</span>
                    <span class="answer-description"
                      >Places built around happiness, healthcare, and life
                      satisfaction.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="adventure"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🧗</span>
                  <span class="answer-content">
                    <span class="answer-title">Adventure & Energy</span>
                    <span class="answer-description"
                      >Dynamic destinations famed for outdoor thrills and
                      vibrant scenes.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 11 -->
            <div class="question" data-question="11">
              <h3>What kind of economic energy motivates you most?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="emerging"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">📈</span>
                  <span class="answer-content">
                    <span class="answer-title">Emerging Momentum</span>
                    <span class="answer-description"
                      >Frontier markets and up-and-coming ecosystems you can
                      help shape.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="stablegrowth"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🏦</span>
                  <span class="answer-content">
                    <span class="answer-title">Stable Growth</span>
                    <span class="answer-description"
                      >Diversified economies with steady GDP, strong services,
                      and reliable jobs.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="hyperinnovation"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🤖</span>
                  <span class="answer-content">
                    <span class="answer-title">Hyper-Innovation</span>
                    <span class="answer-description"
                      >Tech-heavy hubs pushing AI, biotech, aerospace, and deep
                      research.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="resource"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌍</span>
                  <span class="answer-content">
                    <span class="answer-title">Resource Powerhouses</span>
                    <span class="answer-description"
                      >Energy, mining, and agricultural centers shaping regional
                      supply chains.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>

            <!-- Question 12 -->
            <div class="question" data-question="12">
              <h3>How important is environmental resilience where you live?</h3>
              <div class="answers">
                <button
                  class="answer-btn"
                  data-value="climateresilient"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🛰️</span>
                  <span class="answer-content">
                    <span class="answer-title">Climate-Resilient Systems</span>
                    <span class="answer-description"
                      >Cutting-edge infrastructure for floods, heatwaves, and
                      severe weather.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="sustainability"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🌱</span>
                  <span class="answer-content">
                    <span class="answer-title">Sustainable Lifestyle</span>
                    <span class="answer-description"
                      >Places that center renewables, public transit, and
                      eco-minded living.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="adaptive"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🧭</span>
                  <span class="answer-content">
                    <span class="answer-title">Adaptive Pioneers</span>
                    <span class="answer-description"
                      >Communities comfortable innovating around changing
                      climates and risks.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
                <button
                  class="answer-btn"
                  data-value="lowimpact"
                  onclick="selectOption(this)"
                >
                  <span class="answer-badge">🍃</span>
                  <span class="answer-content">
                    <span class="answer-title">Low-Impact Escape</span>
                    <span class="answer-description"
                      >Remote or nature-first lifestyles with smaller footprints
                      and slower pace.</span
                    >
                  </span>
                  <span class="chevron">›</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="result" id="result">
        <div class="result-placeholder">
          <span>✨</span>
          <p>Complete the quiz to reveal your bespoke relocation blueprint.</p>
        </div>
      </div>
    </section>

    <section class="content-section" id="countryGuide">
      <div class="guide-header">
        <span class="eyebrow">Reference</span>
        <h2>Global Country Archetype Guide</h2>
        <p>
          Browse curated archetypes before or after you take the quiz. Search
          for keywords, filter by lifestyle lens, and see how flagship
          destinations stack up.
        </p>
      </div>

      <div class="guide-toolbar" role="region" aria-label="Guide tools">
        <div class="search-input">
          <span class="icon" aria-hidden="true">🔎</span>
          <input
            id="countryGuideSearch"
            type="search"
            placeholder="Search countries (sunny visas, tech hubs, calm coasts)"
            aria-label="Search country archetypes"
          />
        </div>

        <div
          class="filter-chips"
          role="listbox"
          aria-label="Filter country archetypes"
        >
          <button
            class="chip active"
            type="button"
            data-filter="all"
            aria-selected="true"
          >
            All
          </button>
          <button
            class="chip"
            type="button"
            data-filter="career"
            aria-selected="false"
          >
            Career
          </button>
          <button
            class="chip"
            type="button"
            data-filter="calm"
            aria-selected="false"
          >
            Calm
          </button>
          <button
            class="chip"
            type="button"
            data-filter="adventure"
            aria-selected="false"
          >
            Adventure
          </button>
          <button
            class="chip"
            type="button"
            data-filter="culture"
            aria-selected="false"
          >
            Culture
          </button>
          <button
            class="chip"
            type="button"
            data-filter="nature"
            aria-selected="false"
          >
            Nature
          </button>
          <button
            class="chip"
            type="button"
            data-filter="budget"
            aria-selected="false"
          >
            Budget
          </button>
        </div>
      </div>

      <div class="guide-grid" id="countryGuideGrid" aria-live="polite"></div>
    </section>

    <section class="content-section" id="faq" aria-labelledby="faqTitle">
      <div class="faq-section">
        <span class="eyebrow">Answers</span>
        <h2 id="faqTitle">Perfect Country Quiz FAQ</h2>
        <div class="faq-item">
          <h3 class="faq-question">
            How reliable is the Perfect Country Quiz?
          </h3>
          <p class="faq-answer">
            Our model synthesizes expat satisfaction data, Mercer and EIU
            indices, climate resilience research, cost-of-living datasets, and
            visa policy signals. It’s designed to give direction and clarity,
            not a random spin of the globe.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What factors does the quiz consider?</h3>
          <p class="faq-answer">
            We weigh 12 key factors: climate preference, daily pace, cultural
            vibe, lifestyle environment (nature/urban/coastal/calm), social
            services (healthcare, education, safety), cost of living, language
            accessibility, population density preference, residency/visa
            pathways, core values (innovation, heritage, wellbeing, adventure),
            economic energy, and environmental resilience.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Which countries are included?</h3>
          <p class="faq-answer">
            Around 200 destinations across all regions. The guide can also
            include additional territories and regions when available.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Is the quiz free?</h3>
          <p class="faq-answer">
            Yes. It’s free to take and retake. You’ll receive a transparent
            breakdown of why your match fits you and practical next-step advice.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How long does it take?</h3>
          <p class="faq-answer">
            About 5-7 minutes. Twelve carefully crafted questions capture the
            lifestyle trade-offs that matter most so we can score every country
            consistently.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What is “Lifestyle Fit”?</h3>
          <p class="faq-answer">
            It’s a percentage score showing how closely a country matches your
            stated preferences across climate, cost, access, community, and
            long-term resilience factors. Higher doesn’t always mean “best”—it
            means “most aligned”.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I trust the flag and visuals?</h3>
          <p class="faq-answer">
            Yes. We render flags using standardized assets to avoid platform
            inconsistencies. Photos and illustrations are representative; always
            verify with official sources when making decisions.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Do you store my answers?</h3>
          <p class="faq-answer">
            We do not store personal identifiers. Aggregated, anonymous
            analytics help us improve question quality and coverage. See
            <a href="/privacy.html">Privacy Policy</a> for details.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">
            Can I use the results for immigration planning?
          </h3>
          <p class="faq-answer">
            Use the quiz as a discovery tool. For visas, taxation, or legal
            planning, consult official government resources or licensed
            immigration professionals.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">
            What if multiple countries score the same?
          </h3>
          <p class="faq-answer">
            When multiple destinations tie for the top score, our algorithm uses
            your unique answer pattern to select the best single match. You can
            retake the quiz to explore other high-scoring options.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I retake the quiz?</h3>
          <p class="faq-answer">
            Absolutely. If your priorities change—budget, climate, family
            needs—retake and compare how your results shift.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How do I share my result?</h3>
          <p class="faq-answer">
            Use the share buttons on the result card to post your match to
            social platforms or copy a link with UTM tags for friends.
          </p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">
            What if I experience issues loading images or flags?
          </h3>
          <p class="faq-answer">
            Check your connection and browser extensions, then refresh. If
            problems persist, try a different browser or device. Report bugs via
            our social profiles in the footer.
          </p>
        </div>
      </div>
    </section>

    <footer class="site-footer">
      <div class="site-footer__inner">
        <div class="site-footer__brand">
          <img src="zinvanalogo.png" alt="Zinvana" class="site-footer__logo" />
          <h3 class="site-footer__title">Zinvana</h3>
          <p class="site-footer__description">
            Discover your next chapter through evidence-informed quizzes and
            practical guides. From personality frameworks to relocation
            readiness, we turn curiosity into clear next steps.
          </p>
          <div class="site-footer__social">
            <a
              href="https://x.com/farazglori80528"
              target="_blank"
              rel="noopener"
              class="site-footer__social-link site-footer__social-link--x"
              aria-label="Follow Zinvana on X"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"
                />
              </svg>
            </a>
            <a
              href="https://www.instagram.com/zinvana_official/?igsh=ZGRpaTR0ZW90bnho#"
              target="_blank"
              rel="noopener"
              class="site-footer__social-link site-footer__social-link--instagram"
              aria-label="Follow Zinvana on Instagram"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"
                />
                <path
                  d="M12 5.838c-3.403 0-6.162 2.759-6.162 6.162S8.597 18.163 12 18.163s6.162-2.759 6.162-6.163S15.403 5.838 12 5.838zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4z"
                />
                <circle cx="18.406" cy="5.594" r="1.44" />
              </svg>
            </a>
          </div>
          <p class="site-footer__note">Stay updated with our newest quizzes.</p>
        </div>

        <div class="site-footer__column">
          <h4 class="site-footer__heading">Popular Quizzes</h4>
          <ul class="site-footer__list">
            <li>
              <a class="site-footer__link" href="leaders.html"
                >Historical Leaders Personality Quiz</a
              >
            </li>
            <li>
              <a class="site-footer__link" href="football-personality-quiz.html"
                >Football Personality Quiz</a
              >
            </li>
            <li>
              <a class="site-footer__link" href="mbti-personality-quiz.html"
                >MBTI Personality Quiz</a
              >
            </li>
            <li>
              <a class="site-footer__link" href="perfect-country.html"
                >Perfect Country Quiz</a
              >
            </li>
            <li>
              <a
                class="site-footer__link"
                href="youtubers-personality-quiz.html"
                >YouTubers Personality Quiz</a
              >
            </li>
          </ul>
        </div>

        <div class="site-footer__column">
          <h4 class="site-footer__heading">Resources</h4>
          <ul class="site-footer__list">
            <li>
              <a class="site-footer__link" href="/about.html">About Us</a>
            </li>
            <li>
              <a class="site-footer__link" href="/privacy.html"
                >Privacy Policy</a
              >
            </li>
          </ul>
        </div>
      </div>

      <div class="site-footer__bottom">
        <div class="site-footer__bottom-row">
          <p>&copy; 2025 Zinvana. All rights reserved.</p>
          <p>Made with ❤️ by the Zinvana Team</p>
        </div>
        <p class="site-footer__disclaimer">
          This perfect country quiz is for educational and entertainment
          purposes only. Results are based on your responses and should not be
          considered professional relocation advice.
        </p>
      </div>
    </footer>

    <script>
      // Theme toggle (dark/light) — shared with mbti-personality-quiz.html
      const themeToggle = document.getElementById("themeToggle");
      const themeToggleText = document.getElementById("themeToggleText");
      const themeToggleIcon = document
        .getElementById("themeToggleIcon")
        ?.querySelector("path");
      const sunPath =
        "M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0-5v2m0 16v2M4 12H2m20 0h-2M5.64 5.64 4.22 4.22m15.56 15.56-1.42-1.42M18.36 5.64l1.42-1.42M5.64 18.36 4.22 19.78";
      const moonPath = "M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79Z";

      const setTheme = (mode) => {
        const isLight = mode === "light";
        document.body.classList.toggle("theme-light", isLight);
        document.body.classList.toggle("theme-dark", !isLight);
        localStorage.setItem("zinvana-theme", isLight ? "light" : "dark");
        themeToggle?.setAttribute("aria-pressed", isLight ? "true" : "false");
        if (themeToggleText) {
          themeToggleText.textContent = isLight ? "Dark mode" : "Light mode";
        }
        themeToggleIcon?.setAttribute("d", isLight ? moonPath : sunPath);
      };

      const storedTheme = localStorage.getItem("zinvana-theme");
      const prefersLight = window.matchMedia?.(
        "(prefers-color-scheme: light)"
      ).matches;
      setTheme(storedTheme || (prefersLight ? "light" : "dark"));

      themeToggle?.addEventListener("click", () => {
        const isLight = document.body.classList.contains("theme-light");
        setTheme(isLight ? "dark" : "light");
      });

      // Mobile menu toggle — shared with mbti-personality-quiz.html
      const toggle = document.getElementById("menuToggle");
      const menu = document.getElementById("mobileMenu");
      const navLinks = menu?.querySelectorAll(".nav-link");

      if (toggle && menu) {
        toggle.addEventListener("click", () => {
          const isOpen = menu.classList.toggle("open");
          toggle.classList.toggle("active");
          toggle.setAttribute("aria-expanded", isOpen);
        });

        navLinks?.forEach((link) => {
          link.addEventListener("click", () => {
            menu.classList.remove("open");
            toggle.classList.remove("active");
            toggle.setAttribute("aria-expanded", "false");
          });
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && menu.classList.contains("open")) {
            menu.classList.remove("open");
            toggle.classList.remove("active");
            toggle.setAttribute("aria-expanded", "false");
          }
        });
      }
    </script>

    <script>
      let currentQuestion = 1;
      const totalQuestions = 12;
      let answers = {};
      const resultTemplate = (
        document.getElementById("result") || { innerHTML: "" }
      ).innerHTML;

      const countries = {
        canada: {
          flag: "🇨🇦",
          name: "Canada",
          tagline: "The Great White North - Where Nature Meets Opportunity",
          image: "canada.jpg",
          description:
            "The Great White North offers an excellent quality of life with universal healthcare, stunning natural beauty, and a welcoming multicultural society. From vibrant cities like Toronto and Vancouver to breathtaking wilderness, Canada provides a great balance of urban sophistication and natural wonder. With good work-life balance and quality education systems, Canada is a popular choice for international residents.",
          highlights: [
            {
              title: "Healthcare",
              text: "Universal healthcare system accessible to all residents",
            },
            {
              title: "Nature",
              text: "39 national parks and vast wilderness areas",
            },
            {
              title: "Culture",
              text: "Multicultural society with diverse communities",
            },
            {
              title: "Economy",
              text: "Strong, stable economy with good job opportunities",
            },
            {
              title: "Education",
              text: "High-quality universities and public education system",
            },
            { title: "Safety", text: "Low crime rates and peaceful society" },
          ],
          stats: [
            { number: "High", label: "Quality of Life" },
            { number: "37M", label: "Population" },
            { number: "$46K", label: "GDP per Capita" },
            { number: "83", label: "Life Expectancy" },
          ],
        },
        australia: {
          flag: "🇦🇺",
          name: "Australia",
          tagline: "The Land Down Under - Where Life is a Beach",
          image: "australia.jpg",
          description:
            "The land down under combines laid-back beach culture with modern cities and unique wildlife. Australia offers excellent work-life balance, beautiful coastlines, and a friendly, outdoor-focused lifestyle that's great for those who love sun, surf, and adventure. With cities like Sydney and Melbourne known for their livability, Australia provides a high quality of life for those seeking an active, beach-loving lifestyle.",
          highlights: [
            {
              title: "Lifestyle",
              text: "38-hour work week average with 4 weeks vacation",
            },
            {
              title: "Beaches",
              text: "Over 10,000 beaches and 34,000km of coastline",
            },
            {
              title: "Climate",
              text: "300+ sunny days per year in most regions",
            },
            {
              title: "Economy",
              text: "Minimum wage $21.38/hour, strong job market",
            },
            {
              title: "Healthcare",
              text: "Medicare universal healthcare system",
            },
            {
              title: "Cities",
              text: "5 cities in world's top 20 most liveable",
            },
          ],
          stats: [
            { number: "High", label: "Happiness Level" },
            { number: "25M", label: "Population" },
            { number: "$51K", label: "GDP per Capita" },
            { number: "83", label: "Life Expectancy" },
          ],
        },
        singapore: {
          flag: "🇸🇬",
          name: "Singapore",
          tagline: "The Lion City - Where East Meets West",
          image: "singapore.jpg",
          description:
            "A modern city-state that blends East and West, Singapore offers excellent infrastructure, diverse food culture, and strong career opportunities. This tropical location is great for those who want urban sophistication with cultural diversity and economic prosperity. As a major Asian financial hub with excellent connectivity and a large expat community, Singapore provides good opportunities for career growth and international networking.",
          highlights: [
            {
              title: "Economy",
              text: "Major financial hub with excellent career opportunities",
            },
            {
              title: "Culture",
              text: "4 official languages and diverse international community",
            },
            {
              title: "Infrastructure",
              text: "World-class airport and excellent connectivity",
            },
            {
              title: "Location",
              text: "Strategic gateway to Asia-Pacific region",
            },
            {
              title: "Safety",
              text: "Very low crime rates and safe environment",
            },
            { title: "Tax", text: "Competitive personal income tax rates" },
          ],
          stats: [
            { number: "Major", label: "Business Hub" },
            { number: "5.9M", label: "Population" },
            { number: "$65K", label: "GDP per Capita" },
            { number: "85", label: "Life Expectancy" },
          ],
        },
        switzerland: {
          flag: "🇨🇭",
          name: "Switzerland",
          tagline: "The Alpine Paradise - Where Precision Meets Beauty",
          image: "switzerland.jpg",
          description:
            "The heart of Europe offers stunning Alpine landscapes, precision in everything, and a very high standard of living. Switzerland is great for those who appreciate natural beauty, excellent public services, and a culture of quality and reliability. With high salaries, political stability, and access to all of Europe, Switzerland provides a premium lifestyle for those who can afford it.",
          highlights: [
            {
              title: "Economy",
              text: "High salaries and excellent earning potential",
            },
            {
              title: "Nature",
              text: "Alpine mountains, pristine lakes, and wilderness",
            },
            {
              title: "Innovation",
              text: "Leading hub for innovation and technology",
            },
            {
              title: "Stability",
              text: "Long tradition of political neutrality and stability",
            },
            {
              title: "Transport",
              text: "Excellent and efficient public transportation",
            },
            {
              title: "Location",
              text: "Central European location with easy travel access",
            },
          ],
          stats: [
            { number: "High", label: "Innovation Level" },
            { number: "8.7M", label: "Population" },
            { number: "$95K", label: "GDP per Capita" },
            { number: "84", label: "Life Expectancy" },
          ],
        },
        japan: {
          flag: "🇯🇵",
          name: "Japan",
          tagline:
            "The Land of the Rising Sun - Where Tradition Meets Innovation",
          image: "japan.jpg",
          description:
            "A fascinating blend of ancient traditions and cutting-edge technology, Japan offers a unique cultural experience with excellent food, efficient systems, and deep respect for craftsmanship. Great for those who appreciate innovation, culture, and attention to detail.",
          highlights: [
            {
              title: "Culture",
              text: "Rich traditions blended with modern innovation",
            },
            {
              title: "Technology",
              text: "Advanced technology and innovation culture",
            },
            { title: "Food", text: "Rich cuisine and food culture" },
            { title: "Safety", text: "Very low crime rates and safe society" },
          ],
          stats: [
            { number: "High", label: "Innovation Level" },
            { number: "125M", label: "Population" },
            { number: "$40K", label: "GDP per Capita" },
            { number: "84", label: "Life Expectancy" },
          ],
        },
        newzealand: {
          flag: "🇳🇿",
          name: "New Zealand",
          tagline: "Aotearoa - The Adventure Capital of the World",
          image: "newzealand.jpg",
          description:
            "Middle-earth offers some of the world's most spectacular natural beauty with a relaxed, friendly culture. New Zealand is ideal for those seeking outdoor adventures, work-life balance, and a peaceful environment with stunning landscapes around every corner.",
          highlights: [
            {
              title: "Nature",
              text: "Stunning landscapes and outdoor activities",
            },
            { title: "Peace", text: "Tranquil, safe environment" },
            { title: "Adventure", text: "World's adventure capital" },
            { title: "Community", text: "Friendly, welcoming people" },
          ],
          stats: [
            { number: "High", label: "Happiness Level" },
            { number: "5.1M", label: "Population" },
            { number: "$42K", label: "GDP per Capita" },
            { number: "82", label: "Life Expectancy" },
          ],
        },
        netherlands: {
          flag: "🇳🇱",
          name: "Netherlands",
          tagline: "The Progressive Paradise - Where Freedom Meets Innovation",
          image: "netherlands.jpg",
          description:
            "A progressive nation known for its liberal values, excellent work-life balance, and charming cities filled with canals and bikes. The Netherlands offers high quality of life, innovative thinking, and a culture that values both individual freedom and social responsibility.",
          highlights: [
            { title: "Progressive", text: "Liberal, forward-thinking society" },
            { title: "Cycling", text: "Bike-friendly infrastructure" },
            { title: "Balance", text: "Excellent work-life balance" },
            { title: "Innovation", text: "Leading in sustainability" },
          ],
          stats: [
            { number: "High", label: "Happiness Level" },
            { number: "17M", label: "Population" },
            { number: "$53K", label: "GDP per Capita" },
            { number: "82", label: "Life Expectancy" },
          ],
        },
        thailand: {
          flag: "🇹🇭",
          name: "Thailand",
          tagline: "The Land of Smiles - Tropical Paradise for Less",
          image: "thailand.jpg",
          description:
            "The Land of Smiles offers tropical paradise living with excellent food, warm people, and very affordable costs. Thailand is great for those seeking a relaxed lifestyle, cultural richness, beautiful beaches, and the opportunity to live well on a budget.",
          highlights: [
            { title: "Affordability", text: "Low cost of living" },
            { title: "Culture", text: "Rich traditions and warm hospitality" },
            { title: "Beaches", text: "Tropical paradise islands" },
            { title: "Food", text: "World-renowned cuisine" },
          ],
          stats: [
            { number: "Good", label: "Life Satisfaction" },
            { number: "70M", label: "Population" },
            { number: "$7K", label: "GDP per Capita" },
            { number: "77", label: "Life Expectancy" },
          ],
        },
        spain: {
          flag: "🇪🇸",
          name: "Spain",
          tagline: "Mediterranean Living with Modern Convenience",
          image: "spain.jpg",
          description:
            "Spain blends Mediterranean sunshine, vibrant cities, and a relaxed yet modern lifestyle. From Barcelona's creative energy to Valencia's beach culture and Madrid's cosmopolitan buzz, Spain offers a balance of affordability, community, and rich traditions.",
          highlights: [
            {
              title: "Climate",
              text: "300+ days of sunshine in many coastal regions",
            },
            {
              title: "Lifestyle",
              text: "Community-focused living with long lunches and late evenings",
            },
            {
              title: "Healthcare",
              text: "Highly ranked universal healthcare system",
            },
            {
              title: "Nomad Visa",
              text: "Digital nomad program with competitive tax incentives",
            },
          ],
          stats: [
            { number: "48M", label: "Population" },
            { number: "83", label: "Life Expectancy" },
            { number: "$33K", label: "GDP per Capita" },
            { number: "High", label: "Quality of Life" },
          ],
        },
        portugal: {
          flag: "🇵🇹",
          name: "Portugal",
          tagline: "Atlantic Calm with Creative Energy",
          image: "portugal.jpg",
          description:
            "Portugal offers ocean breezes, historic cities, and a welcoming culture that prizes slow living. Lisbon and Porto attract entrepreneurs and remote workers, while the Algarve delivers sun-soaked coastal communities.",
          highlights: [
            {
              title: "Climate",
              text: "Mild winters and warm summers along the Atlantic",
            },
            {
              title: "Community",
              text: "Friendly locals and growing international scene",
            },
            {
              title: "Cost",
              text: "Lower living costs compared to Western Europe",
            },
            {
              title: "Residency",
              text: "Flexible visas for investors, retirees, and digital nomads",
            },
          ],
          stats: [
            { number: "10M", label: "Population" },
            { number: "82", label: "Life Expectancy" },
            { number: "$26K", label: "GDP per Capita" },
            { number: "Top 10", label: "Safety Ranking" },
          ],
        },
        italy: {
          flag: "🇮🇹",
          name: "Italy",
          tagline: "La Dolce Vita with World-Class Culture",
          image: "italy.jpg",
          description:
            "Italy pairs culinary excellence and design heritage with Mediterranean coastlines and alpine escapes. Whether you crave Rome's arts, Milan's fashion scene, or Tuscany's vineyards, Italy delivers a lifestyle built around beauty and family.",
          highlights: [
            {
              title: "Cuisine",
              text: "Global capital for food, wine, and regional specialties",
            },
            {
              title: "Culture",
              text: "UNESCO sites, art, and timeless architecture",
            },
            {
              title: "Healthcare",
              text: "Universal coverage with high satisfaction rates",
            },
            {
              title: "Lifestyle",
              text: "Community-centric living with vibrant local traditions",
            },
          ],
          stats: [
            { number: "59M", label: "Population" },
            { number: "84", label: "Life Expectancy" },
            { number: "$35K", label: "GDP per Capita" },
            { number: "Very High", label: "Cultural Index" },
          ],
        },
        greece: {
          flag: "🇬🇷",
          name: "Greece",
          tagline: "Island Sunsets and Ancient Spirit",
          image: "greece.jpg",
          description:
            "Greece combines azure seas, whitewashed villages, and an inviting culture ready to share long dinners and history. From Athens' urban renewal to the serene islands, Greece suits seekers of sunshine and community.",
          highlights: [
            {
              title: "Coastline",
              text: "6,000+ islands and islets with swimmable waters",
            },
            {
              title: "History",
              text: "Ancient heritage woven into daily life",
            },
            {
              title: "Cost",
              text: "Lower living costs than many EU countries",
            },
            {
              title: "Golden Visa",
              text: "Popular residency path tied to real estate",
            },
          ],
          stats: [
            { number: "10.4M", label: "Population" },
            { number: "81", label: "Life Expectancy" },
            { number: "$22K", label: "GDP per Capita" },
            { number: "Mediterranean", label: "Climate" },
          ],
        },
        malta: {
          flag: "🇲🇹",
          name: "Malta",
          tagline: "Sunny Microstate with Big Opportunities",
          image: "malta.jpg",
          description:
            "Malta delivers year-round sunshine, English-speaking communities, and a booming digital economy. Its compact size makes it easy to access beaches, nightlife, and historic UNESCO-listed architecture.",
          highlights: [
            { title: "Sunshine", text: "300+ sunny days each year" },
            {
              title: "Language",
              text: "English widely spoken alongside Maltese",
            },
            {
              title: "Business",
              text: "Growing hub for iGaming, fintech, and startups",
            },
            {
              title: "Connectivity",
              text: "Daily flights to Europe, North Africa, and the Middle East",
            },
          ],
          stats: [
            { number: "520K", label: "Population" },
            { number: "82", label: "Life Expectancy" },
            { number: "$34K", label: "GDP per Capita" },
            { number: "EU Member", label: "Status" },
          ],
        },
        france: {
          flag: "🇫🇷",
          name: "France",
          tagline: "Art, Cuisine, and Global Innovation",
          image: "france.jpg",
          description:
            "France offers an elegant mix of cutting-edge innovation, iconic culture, and enviable public services. From Parisian boulevards to Bordeaux vineyards and Alpine slopes, it's a country for gourmets and creatives alike.",
          highlights: [
            {
              title: "Healthcare",
              text: "Ranked among the world's best universal systems",
            },
            {
              title: "Culture",
              text: "Museums, fashion, and a flourishing arts scene",
            },
            {
              title: "Transport",
              text: "High-speed rail connecting major regions",
            },
            {
              title: "Work-Life",
              text: "35-hour work week and generous vacation",
            },
          ],
          stats: [
            { number: "68M", label: "Population" },
            { number: "82", label: "Life Expectancy" },
            { number: "$45K", label: "GDP per Capita" },
            { number: "Top 15", label: "Innovation Ranking" },
          ],
        },
        germany: {
          flag: "🇩🇪",
          name: "Germany",
          tagline: "Engineering Excellence with Social Stability",
          image: "germany.jpg",
          description:
            "Germany blends strong social support with a powerhouse economy. Modern infrastructure, thriving tech hubs, and green spaces make it ideal for professionals seeking both security and opportunity.",
          highlights: [
            {
              title: "Economy",
              text: "Europe's largest economy with global career paths",
            },
            {
              title: "Transport",
              text: "Efficient trains, autobahns, and cycling infrastructure",
            },
            {
              title: "Education",
              text: "Low-cost or free higher education options",
            },
            {
              title: "Sustainability",
              text: "Leading the EU in renewable energy adoption",
            },
          ],
          stats: [
            { number: "84M", label: "Population" },
            { number: "81", label: "Life Expectancy" },
            { number: "$51K", label: "GDP per Capita" },
            { number: "Very High", label: "Innovation Level" },
          ],
        },
        sweden: {
          flag: "🇸🇪",
          name: "Sweden",
          tagline: "Scandi Design Meets Outdoor Freedom",
          image: "sweden.jpg",
          description:
            "Sweden's cities mix waterfront beauty with minimalist design, while vast forests invite weekend escapes. With generous parental leave and innovative industries, Sweden suits balanced lifestyles and creative careers.",
          highlights: [
            {
              title: "Work-Life",
              text: "Extensive parental leave and flexible schedules",
            },
            {
              title: "Nature",
              text: "Right to roam across forests, lakes, and archipelagos",
            },
            {
              title: "Innovation",
              text: "Birthplace of Spotify, IKEA, and leading tech firms",
            },
            {
              title: "Equality",
              text: "Consistently high gender-equality rankings",
            },
          ],
          stats: [
            { number: "10.5M", label: "Population" },
            { number: "83", label: "Life Expectancy" },
            { number: "$55K", label: "GDP per Capita" },
            { number: "Top 5", label: "Happiness Ranking" },
          ],
        },
        norway: {
          flag: "🇳🇴",
          name: "Norway",
          tagline: "Fjords, Fresh Air, and Future Thinking",
          image: "norway.jpg",
          description:
            "Norway pairs dramatic fjords with high salaries and strong social systems. Sustainability and outdoor adventure are central to Norwegian life, making it ideal for nature lovers with ambitious careers.",
          highlights: [
            {
              title: "Income",
              text: "Among the world's highest median salaries",
            },
            {
              title: "Nature",
              text: "Fjords, northern lights, and endless hiking trails",
            },
            {
              title: "Green Energy",
              text: "Major investments in renewables and electric mobility",
            },
            { title: "Safety", text: "One of the safest countries globally" },
          ],
          stats: [
            { number: "5.5M", label: "Population" },
            { number: "83", label: "Life Expectancy" },
            { number: "$89K", label: "GDP per Capita" },
            { number: "Top 3", label: "Happiness Ranking" },
          ],
        },
        denmark: {
          flag: "🇩🇰",
          name: "Denmark",
          tagline: "Hygge Lifestyle and Human-Centered Cities",
          image: "denmark.jpg",
          description:
            "Denmark's cozy hygge culture, bike-friendly cities, and progressive policies make it a haven for balance. Copenhagen leads in design, sustainability, and culinary creativity.",
          highlights: [
            {
              title: "Cycling",
              text: "Superb bike infrastructure for daily commutes",
            },
            {
              title: "Work Culture",
              text: "Short work weeks with trust-based management",
            },
            {
              title: "Education",
              text: "Tuition-free universities for residents and EU citizens",
            },
            {
              title: "Design",
              text: "World-renowned Scandinavian design aesthetic",
            },
          ],
          stats: [
            { number: "5.9M", label: "Population" },
            { number: "82", label: "Life Expectancy" },
            { number: "$68K", label: "GDP per Capita" },
            { number: "Top 5", label: "Happiness Ranking" },
          ],
        },
        finland: {
          flag: "🇫🇮",
          name: "Finland",
          tagline: "Calm, Clean, and Technologically Advanced",
          image: "finland.jpg",
          description:
            "Finland's forests, lakes, and saunas shape a culture focused on wellbeing. The country leads in education and digital innovation while delivering immaculate public services and safety.",
          highlights: [
            {
              title: "Education",
              text: "World-leading schools emphasizing equality",
            },
            {
              title: "Wellbeing",
              text: "Repeatedly ranked the happiest nation",
            },
            {
              title: "Nature",
              text: "188,000 lakes and vast protected wilderness",
            },
            { title: "Tech", text: "Strong startup ecosystem in Helsinki" },
          ],
          stats: [
            { number: "5.6M", label: "Population" },
            { number: "82", label: "Life Expectancy" },
            { number: "$55K", label: "GDP per Capita" },
            { number: "#1", label: "Happiness Ranking" },
          ],
        },
        iceland: {
          flag: "🇮🇸",
          name: "Iceland",
          tagline: "Adventure Island with Nordic Warmth",
          image: "iceland.jpg",
          description:
            "Iceland combines volcanic landscapes, geothermal baths, and a tight-knit society. Remote professionals value its safety, strong internet, and surreal natural wonders.",
          highlights: [
            {
              title: "Safety",
              text: "Consistently ranks among the safest countries",
            },
            {
              title: "Nature",
              text: "Waterfalls, glaciers, and a midnight sun",
            },
            {
              title: "Equality",
              text: "Progressive policies and inclusive culture",
            },
            {
              title: "Connectivity",
              text: "Robust infrastructure for remote workers",
            },
          ],
          stats: [
            { number: "380K", label: "Population" },
            { number: "83", label: "Life Expectancy" },
            { number: "$73K", label: "GDP per Capita" },
            { number: "Top Tier", label: "Safety Index" },
          ],
        },
        ireland: {
          flag: "🇮🇪",
          name: "Ireland",
          tagline: "Emerald Isle of Creativity and Community",
          image: "ireland.jpg",
          description:
            "Ireland's friendly pub culture, tech-driven economy, and lush landscapes charm expats. Dublin's innovation scene thrives alongside coastal villages and wild Atlantic views.",
          highlights: [
            {
              title: "Language",
              text: "English-speaking with welcoming locals",
            },
            {
              title: "Tech",
              text: "European base for Google, Meta, and global startups",
            },
            {
              title: "Nature",
              text: "Cliffs, trails, and surfable western shores",
            },
            { title: "Culture", text: "Rich literary and musical traditions" },
          ],
          stats: [
            { number: "5.1M", label: "Population" },
            { number: "82", label: "Life Expectancy" },
            { number: "$104K", label: "GDP per Capita" },
            { number: "High", label: "Happiness Ranking" },
          ],
        },
        unitedkingdom: {
          flag: "🇬🇧",
          name: "United Kingdom",
          tagline: "Global Hub with Deep Heritage",
          image: "unitedkingdom.jpg",
          description:
            "The UK offers world-class universities, diverse cities, and countryside charm. London anchors finance and fashion, while Edinburgh, Manchester, and Bristol add creative energy and livability.",
          highlights: [
            {
              title: "Culture",
              text: "Broad cultural scene from theatre to live music",
            },
            {
              title: "Education",
              text: "Top global universities and research hubs",
            },
            {
              title: "Diversity",
              text: "Multicultural communities across the country",
            },
            {
              title: "Transport",
              text: "Extensive public transit and international airports",
            },
          ],
          stats: [
            { number: "67M", label: "Population" },
            { number: "81", label: "Life Expectancy" },
            { number: "$46K", label: "GDP per Capita" },
            { number: "Global", label: "Business Hub" },
          ],
        },
        southkorea: {
          flag: "🇰🇷",
          name: "South Korea",
          tagline: "Tech-Forward Nation with Tradition at Heart",
          image: "southkorea.jpg",
          description:
            "South Korea's dynamic cities blend innovation, pop culture, and deep-rooted traditions. Seoul offers cutting-edge transportation, nightlife, and career opportunities in tech and entertainment.",
          highlights: [
            {
              title: "Connectivity",
              text: "World-leading internet speeds and 5G coverage",
            },
            {
              title: "Culture",
              text: "K-pop, cuisine, and vibrant traditional festivals",
            },
            {
              title: "Safety",
              text: "Low crime rates in major metropolitan areas",
            },
            {
              title: "Healthcare",
              text: "High-quality national insurance system",
            },
          ],
          stats: [
            { number: "51M", label: "Population" },
            { number: "83", label: "Life Expectancy" },
            { number: "$35K", label: "GDP per Capita" },
            { number: "Top 15", label: "Innovation Ranking" },
          ],
        },
        taiwan: {
          flag: "🇹🇼",
          name: "Taiwan",
          tagline: "Island Innovation with Friendly Vibes",
          image: "taiwan.jpg",
          description:
            "Taiwan pairs tropical mountains and night markets with a thriving semiconductor economy. Expats value its safety, affordability, and community-oriented culture.",
          highlights: [
            {
              title: "Healthcare",
              text: "Affordable, efficient national health insurance",
            },
            {
              title: "Nature",
              text: "Lush hiking trails and hot springs close to cities",
            },
            {
              title: "Tech",
              text: "Global leader in hardware and chip manufacturing",
            },
            {
              title: "Community",
              text: "Friendly locals and active expat networks",
            },
          ],
          stats: [
            { number: "23.5M", label: "Population" },
            { number: "81", label: "Life Expectancy" },
            { number: "$36K", label: "GDP per Capita" },
            { number: "High", label: "Safety Index" },
          ],
        },
        malaysia: {
          flag: "🇲🇾",
          name: "Malaysia",
          tagline: "Multicultural Gateway to Southeast Asia",
          image: "malaysia.jpg",
          description:
            "Malaysia offers modern cities, lush rainforests, and a multilingual society where English is common. Kuala Lumpur's skyline contrasts with island retreats like Penang and Langkawi.",
          highlights: [
            {
              title: "Affordability",
              text: "Low living costs with high comfort",
            },
            {
              title: "Diversity",
              text: "Malay, Chinese, Indian, and expat cultures",
            },
            {
              title: "Infrastructure",
              text: "Excellent airports and fiber internet in cities",
            },
            {
              title: "Residency",
              text: "MM2H program for retirees and long-term stays",
            },
          ],
          stats: [
            { number: "33M", label: "Population" },
            { number: "76", label: "Life Expectancy" },
            { number: "$12K", label: "GDP per Capita" },
            { number: "Tropical", label: "Climate" },
          ],
        },
        vietnam: {
          flag: "🇻🇳",
          name: "Vietnam",
          tagline: "Dynamic Growth with Rich Heritage",
          image: "vietnam.jpg",
          description:
            "Vietnam's booming cities and charming towns offer street food, entrepreneurial spirit, and strong expat communities. From Da Nang's beaches to Hanoi's culture, it fits digital nomads and educators alike.",
          highlights: [
            {
              title: "Cost of Living",
              text: "Comfortable lifestyle on modest budgets",
            },
            { title: "Cuisine", text: "Internationally-loved food culture" },
            {
              title: "Growth",
              text: "Fast-growing economy with new opportunities",
            },
            {
              title: "Adventure",
              text: "Mountains, deltas, and UNESCO heritage sites",
            },
          ],
          stats: [
            { number: "98M", label: "Population" },
            { number: "75", label: "Life Expectancy" },
            { number: "$4K", label: "GDP per Capita" },
            { number: "Tropical", label: "Climate" },
          ],
        },
        indonesia: {
          flag: "🇮🇩",
          name: "Indonesia",
          tagline: "Island Diversity and Tropical Potential",
          image: "indonesia.jpg",
          description:
            "Indonesia's 17,000 islands range from Bali's wellness retreats to Jakarta's megacity opportunities. It is ideal for remote workers and entrepreneurs seeking tropical escapes with supportive communities.",
          highlights: [
            {
              title: "Lifestyle",
              text: "Bali and Lombok offer surf, yoga, and nature",
            },
            {
              title: "Community",
              text: "Global digital nomad hubs and co-working spaces",
            },
            {
              title: "Diversity",
              text: "Hundreds of cultures across the archipelago",
            },
            {
              title: "Affordability",
              text: "Low daily costs with premium experiences available",
            },
          ],
          stats: [
            { number: "277M", label: "Population" },
            { number: "72", label: "Life Expectancy" },
            { number: "$4.8K", label: "GDP per Capita" },
            { number: "Tropical", label: "Climate" },
          ],
        },
        philippines: {
          flag: "🇵🇭",
          name: "Philippines",
          tagline: "Warm Welcomes and Waterfront Living",
          image: "philippines.jpg",
          description:
            "The Philippines combines English-friendly communities, island adventures, and an upbeat culture. Manila's startup scene is growing, while Cebu and Palawan deliver island serenity.",
          highlights: [
            { title: "Language", text: "Widespread English proficiency" },
            { title: "Beaches", text: "7,000+ islands with turquoise waters" },
            { title: "Community", text: "Known globally for hospitality" },
            {
              title: "Cost",
              text: "Affordable lifestyle with modern amenities",
            },
          ],
          stats: [
            { number: "114M", label: "Population" },
            { number: "71", label: "Life Expectancy" },
            { number: "$3.5K", label: "GDP per Capita" },
            { number: "Tropical", label: "Climate" },
          ],
        },
        unitedarabemirates: {
          flag: "🇦🇪",
          name: "United Arab Emirates",
          tagline: "Desert Metropolis Built for Ambition",
          image: "unitedarabemirates.jpg",
          description:
            "The UAE delivers futuristic skylines, tax-free salaries, and world-class amenities. Dubai and Abu Dhabi attract ambitious professionals who want luxury living, diverse communities, and rapid career growth.",
          highlights: [
            {
              title: "Income",
              text: "Tax-free salaries and competitive packages",
            },
            {
              title: "Infrastructure",
              text: "Smart-city services and luxury amenities",
            },
            {
              title: "Travel",
              text: "Global air hub connecting East and West",
            },
            { title: "Safety", text: "Low crime rates and modern security" },
          ],
          stats: [
            { number: "9.5M", label: "Population" },
            { number: "78", label: "Life Expectancy" },
            { number: "$47K", label: "GDP per Capita" },
            { number: "Very High", label: "Urbanization" },
          ],
        },
        costarica: {
          flag: "🇨🇷",
          name: "Costa Rica",
          tagline: "Pura Vida Lifestyle in Eco Paradise",
          image: "costarica.jpg",
          description:
            "Costa Rica's pura vida mindset celebrates nature, community, and wellbeing. Cloud forests, Pacific beaches, and a commitment to sustainability make it beloved by remote workers and retirees.",
          highlights: [
            {
              title: "Nature",
              text: "25% of the country protected as national parks",
            },
            {
              title: "Healthcare",
              text: "Affordable public and private healthcare options",
            },
            {
              title: "Sustainability",
              text: "Powered largely by renewable energy",
            },
            {
              title: "Community",
              text: "Friendly expatriate hubs in the Central Valley and coast",
            },
          ],
          stats: [
            { number: "5.2M", label: "Population" },
            { number: "80", label: "Life Expectancy" },
            { number: "$13K", label: "GDP per Capita" },
            { number: "Tropical", label: "Climate" },
          ],
        },
        panama: {
          flag: "🇵🇦",
          name: "Panama",
          tagline: "Canal City with Caribbean Calm",
          image: "panama.jpg",
          description:
            "Panama bridges continents with a dollarized economy, thriving logistics hub, and laid-back beaches. It attracts entrepreneurs, ship crews, and retirees seeking tax advantages.",
          highlights: [
            {
              title: "Residency",
              text: "Friendly Nations Visa offers easy long-term stay",
            },
            {
              title: "Business",
              text: "Growing financial center and startup scene",
            },
            { title: "Climate", text: "Warm tropical weather year-round" },
            {
              title: "Connectivity",
              text: "Direct flights across the Americas",
            },
          ],
          stats: [
            { number: "4.5M", label: "Population" },
            { number: "78", label: "Life Expectancy" },
            { number: "$18K", label: "GDP per Capita" },
            { number: "High", label: "Ease of Doing Business" },
          ],
        },
        chile: {
          flag: "🇨🇱",
          name: "Chile",
          tagline: "Andean Adventures and Pacific Prosperity",
          image: "chile.jpg",
          description:
            "Chile stretches from the Atacama Desert to Patagonia, offering Mediterranean climates and modern cities. Santiago is a regional tech hub with excellent infrastructure and mountain escapes nearby.",
          highlights: [
            {
              title: "Stability",
              text: "Strong banking system and macroeconomic stability",
            },
            {
              title: "Nature",
              text: "Mountains, vineyards, and surfing coastlines",
            },
            {
              title: "Innovation",
              text: "Startup Chile accelerator attracts global founders",
            },
            {
              title: "Safety",
              text: "One of Latin America's safest countries",
            },
          ],
          stats: [
            { number: "19M", label: "Population" },
            { number: "80", label: "Life Expectancy" },
            { number: "$17K", label: "GDP per Capita" },
            { number: "Mediterranean", label: "Central Climate" },
          ],
        },
        mexico: {
          flag: "🇲🇽",
          name: "Mexico",
          tagline: "Colorful Culture Meets Modern Opportunity",
          image: "mexico.jpg",
          description:
            "Mexico offers everything from Mexico City's urban energy to Riviera Maya beaches and colonial highlands. It attracts digital nomads, entrepreneurs, and families with its affordability and cultural richness.",
          highlights: [
            { title: "Cost", text: "Affordable living with vibrant amenities" },
            { title: "Cuisine", text: "UNESCO-recognized food culture" },
            {
              title: "Connectivity",
              text: "Close proximity to the U.S. with direct flights",
            },
            {
              title: "Community",
              text: "Large expat networks in cities and beach towns",
            },
          ],
          stats: [
            { number: "128M", label: "Population" },
            { number: "75", label: "Life Expectancy" },
            { number: "$11K", label: "GDP per Capita" },
            { number: "Diverse", label: "Climate Zones" },
          ],
        },
        unitedstates: {
          flag: "🇺🇸",
          name: "United States",
          tagline: "Opportunity Nation with Endless Variety",
          image: "unitedstates.jpg",
          description:
            "The United States pairs world-leading innovation hubs with national parks, coastal escapes, and cultural variety across 50 states. From New York startups to Pacific surf towns, it rewards ambition while offering every lifestyle imaginable.",
          highlights: [
            {
              title: "Economy",
              text: "Largest economy with deep job markets across industries",
            },
            {
              title: "Innovation",
              text: "Home to top tech hubs, universities, and research centers",
            },
            {
              title: "Lifestyle",
              text: "Choose between megacities, mountain towns, or beach communities",
            },
            {
              title: "Freedom",
              text: "Strong entrepreneurial culture and personal liberties",
            },
          ],
          stats: [
            { number: "333M", label: "Population" },
            { number: "$76K", label: "GDP per Capita" },
            { number: "78", label: "Life Expectancy" },
            { number: "63", label: "National Parks" },
          ],
        },
        austria: {
          flag: "🇦🇹",
          name: "Austria",
          tagline: "Alpine Elegance with European Ease",
          image: "austria.jpg",
          description:
            "Austria blends imperial heritage with clean cities, mountain villages, and efficient public services. Vienna consistently ranks among the world's most livable cities for its culture, safety, and transit.",
          highlights: [
            {
              title: "Culture",
              text: "Opera houses, classical music, and grand architecture",
            },
            {
              title: "Transport",
              text: "Exceptional public transit and high-speed rail",
            },
            {
              title: "Nature",
              text: "Alpine skiing, hiking, and lakes within easy reach",
            },
            {
              title: "Healthcare",
              text: "Comprehensive universal healthcare access",
            },
          ],
          stats: [
            { number: "9M", label: "Population" },
            { number: "$55K", label: "GDP per Capita" },
            { number: "82", label: "Life Expectancy" },
            { number: "Top 10", label: "Quality of Life" },
          ],
        },
        belgium: {
          flag: "🇧🇪",
          name: "Belgium",
          tagline: "Chocolate Cities and EU Connectivity",
          image: "belgium.jpg",
          description:
            "Belgium offers medieval towns, multilingual communities, and easy access to European capitals. Brussels hosts the EU and NATO, while Ghent and Antwerp deliver creative flair and walkable neighborhoods.",
          highlights: [
            {
              title: "Multilingual",
              text: "French, Dutch, and English widely used",
            },
            {
              title: "Location",
              text: "Reach Paris, Amsterdam, or London in under two hours",
            },
            {
              title: "Cuisine",
              text: "World-famous chocolate, waffles, and craft beer",
            },
            {
              title: "Healthcare",
              text: "Highly ranked hybrid public-private system",
            },
          ],
          stats: [
            { number: "11.7M", label: "Population" },
            { number: "$53K", label: "GDP per Capita" },
            { number: "81", label: "Life Expectancy" },
            { number: "EU Core", label: "Regional Role" },
          ],
        },
        luxembourg: {
          flag: "🇱🇺",
          name: "Luxembourg",
          tagline: "Boutique Nation with Big Careers",
          image: "luxembourg.jpg",
          description:
            "Luxembourg combines fairy-tale valleys with one of Europe's strongest economies. Multilingual workplaces, high salaries, and generous benefits make it a magnet for finance and EU professionals.",
          highlights: [
            {
              title: "Income",
              text: "Among the highest median salaries in Europe",
            },
            {
              title: "Safety",
              text: "Extremely low crime and carefully maintained public spaces",
            },
            {
              title: "Languages",
              text: "Luxembourgish, French, German, and English used daily",
            },
            { title: "Commute", text: "Free nationwide public transportation" },
          ],
          stats: [
            { number: "660K", label: "Population" },
            { number: "$128K", label: "GDP per Capita" },
            { number: "82", label: "Life Expectancy" },
            { number: "Top 5", label: "Safety Index" },
          ],
        },
        estonia: {
          flag: "🇪🇪",
          name: "Estonia",
          tagline: "Digital Society in a Nordic Setting",
          image: "estonia.jpg",
          description:
            "Estonia leads the world in digital governance while offering Baltic beaches, pine forests, and charming Old Towns. Its e-residency program empowers founders and remote professionals.",
          highlights: [
            {
              title: "E-Government",
              text: "Fully digital public services and secure ID",
            },
            {
              title: "Tech",
              text: "Fast-growing startup scene with global unicorns",
            },
            {
              title: "Lifestyle",
              text: "Accessible nature and compact, walkable cities",
            },
            {
              title: "Connectivity",
              text: "Fast internet and widespread coworking spaces",
            },
          ],
          stats: [
            { number: "1.3M", label: "Population" },
            { number: "$30K", label: "GDP per Capita" },
            { number: "79", label: "Life Expectancy" },
            { number: "Top 10", label: "Digital Readiness" },
          ],
        },
        latvia: {
          flag: "🇱🇻",
          name: "Latvia",
          tagline: "Baltic Balance of Nature and Innovation",
          image: "latvia.jpg",
          description:
            "Latvia offers art nouveau cities, dense forests, and growing tech talent. Riga's creative districts and seaside escapes make it attractive to EU residents seeking affordability and culture.",
          highlights: [
            {
              title: "Affordability",
              text: "Lower living costs while staying within the EU",
            },
            {
              title: "Nature",
              text: "Half the country covered in forests and wetlands",
            },
            {
              title: "Startup",
              text: "Supportive ecosystem for fintech and logistics",
            },
            {
              title: "Travel",
              text: "Short flights to Scandinavia and Central Europe",
            },
          ],
          stats: [
            { number: "1.9M", label: "Population" },
            { number: "$22K", label: "GDP per Capita" },
            { number: "75", label: "Life Expectancy" },
            { number: "EU", label: "Free Movement" },
          ],
        },
        lithuania: {
          flag: "🇱🇹",
          name: "Lithuania",
          tagline: "Baltic Creativity with Modern Momentum",
          image: "lithuania.jpg",
          description:
            "Lithuania mixes baroque cities, UNESCO-listed villages, and a rapidly digitizing economy. Vilnius is beloved for its compact size, vibrant arts, and rising startup credentials.",
          highlights: [
            {
              title: "Innovation",
              text: "European leader in fintech sandboxes",
            },
            {
              title: "Culture",
              text: "Design festivals, galleries, and music events",
            },
            {
              title: "Community",
              text: "Friendly, English-speaking younger population",
            },
            {
              title: "Outdoors",
              text: "National parks and lakes within an hour of the capital",
            },
          ],
          stats: [
            { number: "2.8M", label: "Population" },
            { number: "$26K", label: "GDP per Capita" },
            { number: "76", label: "Life Expectancy" },
            { number: "EU", label: "Schengen Access" },
          ],
        },
        poland: {
          flag: "🇵🇱",
          name: "Poland",
          tagline: "Central European Dynamo with Storybook Cities",
          image: "poland.jpg",
          description:
            "Poland combines a resilient economy, Gothic towns, and a thriving tech outsourcing sector. Warsaw, Krakow, and Wroclaw attract expats with affordable living and modern amenities.",
          highlights: [
            {
              title: "Economy",
              text: "Fast-growing EU market with strong manufacturing",
            },
            {
              title: "Cost",
              text: "Lower housing and food costs than Western Europe",
            },
            {
              title: "Education",
              text: "STEM-focused universities and multilingual graduates",
            },
            { title: "Heritage", text: "UNESCO-listed old towns and castles" },
          ],
          stats: [
            { number: "37.5M", label: "Population" },
            { number: "$20K", label: "GDP per Capita" },
            { number: "78", label: "Life Expectancy" },
            { number: "EU", label: "Single Market" },
          ],
        },
        czechia: {
          flag: "🇨🇿",
          name: "Czechia",
          tagline: "Bohemian Charm with Tech Opportunity",
          image: "czechia.jpg",
          description:
            "Czechia's capital Prague is famed for gothic bridges, beer culture, and friendly expats. The country balances industrial strength with relaxed work cultures and central European travel access.",
          highlights: [
            {
              title: "Livability",
              text: "Prague ranks high for safety and public transport",
            },
            {
              title: "Cost",
              text: "Affordable rent relative to Western capitals",
            },
            {
              title: "Community",
              text: "Large international population and coworking hubs",
            },
            {
              title: "Heritage",
              text: "Castles, forests, and storybook villages",
            },
          ],
          stats: [
            { number: "10.7M", label: "Population" },
            { number: "$27K", label: "GDP per Capita" },
            { number: "79", label: "Life Expectancy" },
            { number: "Top 20", label: "Safety Index" },
          ],
        },
        slovakia: {
          flag: "🇸🇰",
          name: "Slovakia",
          tagline: "Carpathian Peaks and Automotive Power",
          image: "slovakia.jpg",
          description:
            "Slovakia delivers mountain adventures, medieval towns, and a robust automotive industry. Bratislava offers Danube-side living only an hour from Vienna and Budapest.",
          highlights: [
            {
              title: "Nature",
              text: "High Tatras for hiking, skiing, and alpine lakes",
            },
            {
              title: "Industry",
              text: "Major car manufacturing hub with skilled jobs",
            },
            {
              title: "Location",
              text: "Easy access to Austria, Hungary, and Czechia",
            },
            {
              title: "Affordability",
              text: "Lower cost of living within the Eurozone",
            },
          ],
          stats: [
            { number: "5.4M", label: "Population" },
            { number: "$23K", label: "GDP per Capita" },
            { number: "77", label: "Life Expectancy" },
            { number: "Euro", label: "Currency" },
          ],
        },
        hungary: {
          flag: "🇭🇺",
          name: "Hungary",
          tagline: "Thermal Baths and Danube Nights",
          image: "hungary.jpg",
          description:
            "Hungary's capital Budapest dazzles with thermal spas, ruin bars, and art nouveau architecture. The country offers strong STEM talent, remote-work affordability, and central European travel connections.",
          highlights: [
            {
              title: "Lifestyle",
              text: "Thermal baths, nightlife, and family-friendly parks",
            },
            {
              title: "Tech",
              text: "Growing IT outsourcing and startup ecosystem",
            },
            {
              title: "Affordability",
              text: "Competitive rents and dining costs",
            },
            {
              title: "Heritage",
              text: "Rich history from Roman ruins to Austro-Hungarian elegance",
            },
          ],
          stats: [
            { number: "9.6M", label: "Population" },
            { number: "$18K", label: "GDP per Capita" },
            { number: "76", label: "Life Expectancy" },
            { number: "EU", label: "Member State" },
          ],
        },
        slovenia: {
          flag: "🇸🇮",
          name: "Slovenia",
          tagline: "Green Gateway Between Alps and Adriatic",
          image: "slovenia.jpg",
          description:
            "Slovenia offers alpine lakes, wine country, and a tech-savvy workforce. Ljubljana's bike lanes and riverside cafes complement outdoor adventures minutes from the city.",
          highlights: [
            {
              title: "Sustainability",
              text: "One of Europe's greenest capitals",
            },
            {
              title: "Access",
              text: "Short drives to Italy, Austria, and Croatia",
            },
            {
              title: "Nature",
              text: "Triglav National Park and Adriatic coastline",
            },
            {
              title: "Innovation",
              text: "High-tech manufacturing and research clusters",
            },
          ],
          stats: [
            { number: "2.1M", label: "Population" },
            { number: "$31K", label: "GDP per Capita" },
            { number: "81", label: "Life Expectancy" },
            { number: "EU", label: "Schengen Access" },
          ],
        },
        croatia: {
          flag: "🇭🇷",
          name: "Croatia",
          tagline: "Adriatic Coastlines and Creative Cities",
          image: "croatia.jpg",
          description:
            "Croatia brings island-hopping, UNESCO cities, and a digital nomad visa. Zagreb's startup scene grows alongside coastal hubs like Split and Dubrovnik.",
          highlights: [
            {
              title: "Coast",
              text: "Over one thousand islands with clear waters",
            },
            {
              title: "Residency",
              text: "One-year digital nomad visa with renewal options",
            },
            {
              title: "Heritage",
              text: "Roman palaces, medieval walls, and festivals",
            },
            {
              title: "Lifestyle",
              text: "Mediterranean rhythms with modern conveniences",
            },
          ],
          stats: [
            { number: "3.9M", label: "Population" },
            { number: "$18K", label: "GDP per Capita" },
            { number: "78", label: "Life Expectancy" },
            { number: "Euro", label: "Currency" },
          ],
        },
        romania: {
          flag: "🇷🇴",
          name: "Romania",
          tagline: "Carpathian Castles and IT Innovation",
          image: "romania.jpg",
          description:
            "Romania pairs Transylvanian scenery with some of Europe's fastest internet speeds. Cluj-Napoca and Bucharest attract tech companies while countryside villages preserve deep traditions.",
          highlights: [
            {
              title: "Tech",
              text: "Strong software engineering talent and outsourcing centers",
            },
            {
              title: "Affordability",
              text: "Low cost of living with EU market access",
            },
            {
              title: "Nature",
              text: "Carpathian hikes, Danube Delta, and Black Sea beaches",
            },
            {
              title: "Heritage",
              text: "Historic fortresses, monasteries, and folklore",
            },
          ],
          stats: [
            { number: "19M", label: "Population" },
            { number: "$16K", label: "GDP per Capita" },
            { number: "75", label: "Life Expectancy" },
            { number: "EU", label: "Member State" },
          ],
        },
        bulgaria: {
          flag: "🇧🇬",
          name: "Bulgaria",
          tagline: "Black Sea Beaches and Mountain Retreats",
          image: "bulgaria.jpg",
          description:
            "Bulgaria offers ski resorts, golden beaches, and a thriving outsourcing industry. Sofia's coworking spaces and Plovdiv's creative quarter draw remote workers seeking affordability.",
          highlights: [
            { title: "Cost", text: "Among the lowest living costs in the EU" },
            {
              title: "Nature",
              text: "Rila mountains, Black Sea coast, and mineral spas",
            },
            {
              title: "Business",
              text: "Flat 10% income tax and growing tech sector",
            },
            { title: "History", text: "Thracian, Roman, and Ottoman heritage" },
          ],
          stats: [
            { number: "6.8M", label: "Population" },
            { number: "$12K", label: "GDP per Capita" },
            { number: "74", label: "Life Expectancy" },
            { number: "EU", label: "Member State" },
          ],
        },
        cyprus: {
          flag: "🇨🇾",
          name: "Cyprus",
          tagline: "Mediterranean Sunshine with Island Ease",
          image: "cyprus.jpg",
          description:
            "Cyprus combines turquoise waters, English-friendly communities, and favorable taxes. Limassol and Nicosia attract fintech firms while coastal towns welcome slow-living seekers.",
          highlights: [
            { title: "Climate", text: "Around 340 days of sunshine each year" },
            {
              title: "Tax",
              text: "Attractive corporate and personal taxation",
            },
            {
              title: "Language",
              text: "English widely spoken alongside Greek and Turkish",
            },
            {
              title: "Lifestyle",
              text: "Beachfront cafes, diving spots, and mountain villages",
            },
          ],
          stats: [
            { number: "1.2M", label: "Population" },
            { number: "$33K", label: "GDP per Capita" },
            { number: "81", label: "Life Expectancy" },
            { number: "EU", label: "Member State" },
          ],
        },
        israel: {
          flag: "🇮🇱",
          name: "Israel",
          tagline: "Startup Nation with Mediterranean Energy",
          image: "israel.jpg",
          description:
            "Israel's innovation economy thrives alongside ancient history and coastal living. Tel Aviv blends beach culture with global tech, while Jerusalem offers spiritual depth and heritage.",
          highlights: [
            {
              title: "Innovation",
              text: "Highest startup density per capita globally",
            },
            { title: "Climate", text: "Sun-drenched Mediterranean weather" },
            {
              title: "Cuisine",
              text: "World-famous food markets and fusion restaurants",
            },
            {
              title: "Community",
              text: "Tight-knit networks and vibrant nightlife",
            },
          ],
          stats: [
            { number: "9.5M", label: "Population" },
            { number: "$55K", label: "GDP per Capita" },
            { number: "83", label: "Life Expectancy" },
            { number: "Top 5", label: "Innovation Ranking" },
          ],
        },
        uruguay: {
          flag: "🇺🇾",
          name: "Uruguay",
          tagline: "South America's Safe Harbor",
          image: "uruguay.jpg",
          description:
            "Uruguay offers stable politics, Atlantic beaches, and a relaxed mate-sipping lifestyle. Montevideo and Punta del Este attract expats seeking safety and progressive policies.",
          highlights: [
            {
              title: "Stability",
              text: "Consistently one of Latin America's safest nations",
            },
            {
              title: "Healthcare",
              text: "Accessible public and private healthcare plans",
            },
            {
              title: "Lifestyle",
              text: "Coastal living with European influences",
            },
            {
              title: "Residency",
              text: "Straightforward path to residence and citizenship",
            },
          ],
          stats: [
            { number: "3.4M", label: "Population" },
            { number: "$21K", label: "GDP per Capita" },
            { number: "78", label: "Life Expectancy" },
            { number: "Top 1", label: "LatAm Democracy" },
          ],
        },
        argentina: {
          flag: "🇦🇷",
          name: "Argentina",
          tagline: "Patagonia Peaks and Buenos Aires Nights",
          image: "argentina.jpg",
          description:
            "Argentina delivers tango-filled cities, Andean adventures, and fertile wine country. Remote workers value its cultural richness, affordable amenities, and new digital nomad visa.",
          highlights: [
            {
              title: "Culture",
              text: "World-class arts, futbol, and culinary scenes",
            },
            {
              title: "Nature",
              text: "Patagonia, Iguazu Falls, and Pampas plains",
            },
            {
              title: "Affordability",
              text: "Competitive costs for housing and dining",
            },
            {
              title: "Community",
              text: "Warm social culture with active nightlife",
            },
          ],
          stats: [
            { number: "45M", label: "Population" },
            { number: "$13K", label: "GDP per Capita" },
            { number: "76", label: "Life Expectancy" },
            { number: "Global", label: "Nomad Visa" },
          ],
        },
        barbados: {
          flag: "🇧🇧",
          name: "Barbados",
          tagline: "Caribbean Calm with Remote Work Perks",
          image: "barbados.jpg",
          description:
            "Barbados invites professionals to its twelve-month Welcome Stamp program, offering coral beaches, reliable infrastructure, and a welcoming island community.",
          highlights: [
            {
              title: "Remote Friendly",
              text: "Digital nomad visa with modern coworking spaces",
            },
            {
              title: "Lifestyle",
              text: "Sailing, surfing, and year-round sunshine",
            },
            {
              title: "Healthcare",
              text: "Quality private healthcare for residents",
            },
            { title: "Safety", text: "Stable democracy with low crime rates" },
          ],
          stats: [
            { number: "280K", label: "Population" },
            { number: "$19K", label: "GDP per Capita" },
            { number: "79", label: "Life Expectancy" },
            { number: "12 Mo", label: "Welcome Stamp" },
          ],
        },
        mauritius: {
          flag: "🇲🇺",
          name: "Mauritius",
          tagline: "Indian Ocean Innovation and Island Bliss",
          image: "mauritius.jpg",
          description:
            "Mauritius blends French, Creole, and Indian influences with turquoise lagoons and a stable financial services sector. Its Premium Visa welcomes remote workers and retirees alike.",
          highlights: [
            {
              title: "Residency",
              text: "Premium Visa and investor-friendly residency paths",
            },
            {
              title: "Lifestyle",
              text: "Snorkeling, golf, and upscale resorts",
            },
            { title: "Safety", text: "One of Africa's safest countries" },
            { title: "Business", text: "Robust banking and fintech ecosystem" },
          ],
          stats: [
            { number: "1.3M", label: "Population" },
            { number: "$24K", label: "GDP per Capita" },
            { number: "75", label: "Life Expectancy" },
            { number: "12 Mo", label: "Premium Visa" },
          ],
        },
        qatar: {
          flag: "🇶🇦",
          name: "Qatar",
          tagline: "Desert Futurism with Tax-Free Salaries",
          image: "qatar.jpg",
          description:
            "Qatar offers gleaming skylines, global airlines, and generous compensation packages. Doha's museums, waterfront promenades, and expat communities support ambitious professionals.",
          highlights: [
            {
              title: "Income",
              text: "Tax-free salaries with housing and education benefits",
            },
            {
              title: "Infrastructure",
              text: "State-of-the-art public transport and stadiums",
            },
            {
              title: "Air Travel",
              text: "Doha operates as a major global transit hub",
            },
            {
              title: "Safety",
              text: "Very low crime and high standards of living",
            },
          ],
          stats: [
            { number: "2.7M", label: "Population" },
            { number: "$83K", label: "GDP per Capita" },
            { number: "80", label: "Life Expectancy" },
            { number: "Top 5", label: "Income Level" },
          ],
        },
        oman: {
          flag: "🇴🇲",
          name: "Oman",
          tagline: "Arabian Hospitality and Coastal Serenity",
          image: "oman.jpg",
          description:
            "Oman pairs dramatic deserts with Indian Ocean beaches and a friendly, tradition-rich culture. Muscat offers safe, family-oriented neighborhoods with excellent infrastructure.",
          highlights: [
            {
              title: "Safety",
              text: "One of the safest destinations in the Middle East",
            },
            {
              title: "Nature",
              text: "Fjords, wadis, and mountains for off-road adventures",
            },
            {
              title: "Community",
              text: "Welcoming locals and multicultural expat circles",
            },
            {
              title: "Climate",
              text: "Warm winters and breezy coastal evenings",
            },
          ],
          stats: [
            { number: "4.6M", label: "Population" },
            { number: "$30K", label: "GDP per Capita" },
            { number: "77", label: "Life Expectancy" },
            { number: "Very High", label: "Safety Index" },
          ],
        },
        georgia: {
          flag: "🇬🇪",
          name: "Georgia",
          tagline: "Caucasus Crossroads for Creatives",
          image: "georgia.jpg",
          description:
            "Georgia invites remote workers with easy one-year stays, mountain villages, and a legendary food and wine scene. Tbilisi blends bohemian energy with emerging tech hubs.",
          highlights: [
            {
              title: "Visa",
              text: "Remotely from Georgia program for digital nomads",
            },
            { title: "Cost", text: "Affordable apartments and dining" },
            {
              title: "Nature",
              text: "Caucasus peaks, Black Sea coast, and wine valleys",
            },
            {
              title: "Culture",
              text: "Distinct alphabet, polyphonic singing, and hospitality",
            },
          ],
          stats: [
            { number: "3.7M", label: "Population" },
            { number: "$7K", label: "GDP per Capita" },
            { number: "73", label: "Life Expectancy" },
            { number: "1 Year", label: "Remote Visa" },
          ],
        },
        andorra: {
          flag: "🇦🇩",
          name: "Andorra",
          tagline: "Pyrenees Microstate with Mountain Luxury",
          image: "andorra.jpg",
          description:
            "Andorra offers tax advantages, ski resorts, and upscale wellness centers nestled between France and Spain. It suits outdoor enthusiasts who value safety and boutique living.",
          highlights: [
            {
              title: "Taxes",
              text: "Low personal taxes and attractive residency program",
            },
            {
              title: "Outdoor",
              text: "Roughly 300 km of ski slopes and hiking routes",
            },
            { title: "Wellness", text: "Thermal spas and alpine resorts" },
            {
              title: "Security",
              text: "High per-capita income with minimal crime",
            },
          ],
          stats: [
            { number: "80K", label: "Population" },
            { number: "$42K", label: "GDP per Capita" },
            { number: "83", label: "Life Expectancy" },
            { number: "EU Access", label: "Schengen Travel" },
          ],
        },
        brazil: {
          flag: "🇧🇷",
          name: "Brazil",
          tagline: "Creative Tropics with Megacity Momentum",
          image: "brazil.jpg",
          description:
            "Brazil blends rainforest biodiversity, Atlantic surf towns, and powerhouse cities like São Paulo. Remote workers tap into a year-round digital nomad visa, energetic co-working hubs, and a culture famous for music, food, and celebration.",
          highlights: [
            {
              title: "Lifestyle",
              text: "Beach living, Amazon adventures, and vibrant festivals",
            },
            {
              title: "Economy",
              text: "Largest economy in Latin America with creative industries",
            },
            {
              title: "Community",
              text: "Warm social culture with inclusive expat circles",
            },
            {
              title: "Visas",
              text: "Digital nomad and investor routes for extended stays",
            },
          ],
          stats: [
            { number: "215M", label: "Population" },
            { number: "$10K", label: "GDP per Capita" },
            { number: "76", label: "Life Expectancy" },
            { number: "12 Mo", label: "Nomad Visa" },
          ],
        },
        india: {
          flag: "🇮🇳",
          name: "India",
          tagline: "Megacity Innovation with Timeless Heritage",
          image: "india.jpg",
          description:
            "India fuses centuries of culture with a fast-scaling tech sector stretching from Bengaluru to Hyderabad. English is widely used in business, while metro systems, co-working lofts, and startup accelerators support ambitious professionals.",
          highlights: [
            {
              title: "Innovation",
              text: "World-class IT, fintech, and startup ecosystems",
            },
            {
              title: "Diversity",
              text: "22 official languages and wildly varied regional cuisines",
            },
            {
              title: "Heritage",
              text: "UNESCO forts, palaces, and festivals every season",
            },
            {
              title: "Opportunity",
              text: "Deep talent pools and global-scale companies",
            },
          ],
          stats: [
            { number: "1.4B", label: "Population" },
            { number: "$2.6K", label: "GDP per Capita" },
            { number: "70", label: "Life Expectancy" },
            { number: "22", label: "Official Languages" },
          ],
        },
        peru: {
          flag: "🇵🇪",
          name: "Peru",
          tagline: "Andean Highlands with Creative Coasts",
          image: "peru.jpg",
          description:
            "Peru moves between Lima's culinary boom, Cusco's Incan gateways, and surf-friendly Pacific towns. Affordable living and residency paths for retirees, investors, and remote workers make it a balanced option for explorers.",
          highlights: [
            {
              title: "History",
              text: "Incan cities, desert geoglyphs, and Spanish colonial plazas",
            },
            {
              title: "Nature",
              text: "Access to the Andes, Amazon, and Pacific beaches",
            },
            {
              title: "Cuisine",
              text: "Globally celebrated food scene led by Lima chefs",
            },
            {
              title: "Affordability",
              text: "Comfortable costs for housing, food, and travel",
            },
          ],
          stats: [
            { number: "34M", label: "Population" },
            { number: "$7K", label: "GDP per Capita" },
            { number: "76", label: "Life Expectancy" },
            { number: "3", label: "Climate Zones" },
          ],
        },
        turkey: {
          flag: "🇹🇷",
          name: "Turkey",
          tagline: "Eurasian Bridge of Innovation and Antiquity",
          image: "turkey.jpg",
          description:
            "Turkey pairs Istanbul's Bosphorus skyline with Mediterranean resort towns and Cappadocian valleys. Remote professionals gain access to a streamlined digital nomad visa plus thriving aviation, logistics, and creative sectors.",
          highlights: [
            {
              title: "Connectivity",
              text: "Istanbul Airport links 330+ destinations across continents",
            },
            {
              title: "Heritage",
              text: "Roman, Byzantine, and Ottoman landmarks in every region",
            },
            {
              title: "Cost",
              text: "Favorable currency exchange for housing and dining",
            },
            {
              title: "Residency",
              text: "Digital nomad and investment programs with clear criteria",
            },
          ],
          stats: [
            { number: "85M", label: "Population" },
            { number: "$10K", label: "GDP per Capita" },
            { number: "78", label: "Life Expectancy" },
            { number: "2", label: "Continents" },
          ],
        },
        morocco: {
          flag: "🇲🇦",
          name: "Morocco",
          tagline: "Atlantic Medinas and Desert Escapes",
          image: "morocco.jpg",
          description:
            "Morocco balances Marrakech souks, Casablanca fintech towers, and surf towns like Taghazout. French, Arabic, Tamazight, and English flow together, making it friendly for multilingual creatives and remote professionals.",
          highlights: [
            {
              title: "Culture",
              text: "Artisanship, music festivals, and film-ready medinas",
            },
            {
              title: "Climate",
              text: "Mediterranean coasts with mild winters and warm summers",
            },
            {
              title: "Affordability",
              text: "Lower rents and food costs than much of Europe",
            },
            {
              title: "Accessibility",
              text: "Visa-free entry for many passports and Schengen-proximate",
            },
          ],
          stats: [
            { number: "37M", label: "Population" },
            { number: "$3.5K", label: "GDP per Capita" },
            { number: "75", label: "Life Expectancy" },
            { number: "2", label: "Coastlines" },
          ],
        },
        southafrica: {
          flag: "🇿🇦",
          name: "South Africa",
          tagline: "Cape Creativity Meets Safari Energy",
          image: "southafrica.jpg",
          description:
            "South Africa mixes design-forward Cape Town, Johannesburg fintech towers, and Winelands retreats. A 2024 remote-worker visa plus critical-skills pathways support founders, engineers, and creatives chasing year-round sunshine.",
          highlights: [
            {
              title: "Nature",
              text: "Safaris, mountain hikes, and Indian/Pacific-facing beaches",
            },
            {
              title: "Industry",
              text: "Financial, media, and green-tech clusters on the rise",
            },
            {
              title: "Climate",
              text: "Mediterranean vibes in Cape Town and subtropical Durban",
            },
            {
              title: "Residency",
              text: "Remote-worker and skills visas for long stays",
            },
          ],
          stats: [
            { number: "60M", label: "Population" },
            { number: "$6K", label: "GDP per Capita" },
            { number: "65", label: "Life Expectancy" },
            { number: "11", label: "Official Languages" },
          ],
        },
        srilanka: {
          flag: "🇱🇰",
          name: "Sri Lanka",
          tagline: "Tea Country Wellness and Surf Towns",
          image: "srilanka.jpg",
          description:
            "Sri Lanka offers palm-lined coasts, hill-country retreats, and Ayurvedic wellness culture. Colombo's startup lanes, Galle Fort studios, and Arugam Bay surf breaks give digital nomads a restorative base at approachable prices.",
          highlights: [
            {
              title: "Wellbeing",
              text: "Ayurvedic retreats, yoga collectives, and spa culture",
            },
            {
              title: "Cuisine",
              text: "Spice-rich seafood, hoppers, and tea-country cafes",
            },
            {
              title: "Community",
              text: "English-speaking hospitality with global nomad hubs",
            },
            {
              title: "Long Stays",
              text: "Flexible long-term visas for remote professionals",
            },
          ],
          stats: [
            { number: "22M", label: "Population" },
            { number: "$4K", label: "GDP per Capita" },
            { number: "77", label: "Life Expectancy" },
            { number: "8", label: "UNESCO Sites" },
          ],
        },
        kenya: {
          flag: "🇰🇪",
          name: "Kenya",
          tagline: "Savanna Sunsets and Nairobi Startups",
          image: "kenya.jpg",
          description:
            "Kenya combines Nairobi's fintech corridor, Indian Ocean kite-surf towns, and Maasai Mara reserves. English and Swahili are official, coworking campuses abound, and new smart-city projects attract African scale-ups.",
          highlights: [
            {
              title: "Innovation",
              text: "Mobile money pioneers and a fast-growing tech scene",
            },
            {
              title: "Nature",
              text: "Year-round safaris, mountain treks, and coral coasts",
            },
            {
              title: "Language",
              text: "English-friendly business environment",
            },
            {
              title: "Affordability",
              text: "Lower living costs with premium travel nearby",
            },
          ],
          stats: [
            { number: "54M", label: "Population" },
            { number: "$2K", label: "GDP per Capita" },
            { number: "67", label: "Life Expectancy" },
            { number: "20+", label: "National Parks" },
          ],
        },
        egypt: {
          flag: "🇪🇬",
          name: "Egypt",
          tagline: "Nile Heritage with Mediterranean Sun",
          image: "egypt.jpg",
          description:
            "Egypt layers Cairo's creative tech labs with Red Sea dive resorts and Nile-side oases. Affordable living, improving infrastructure, and strategic time zones make it compelling for founders serving MENA markets.",
          highlights: [
            {
              title: "History",
              text: "Five millennia of pyramids, temples, and museum collections",
            },
            {
              title: "Cities",
              text: "Cairo, Alexandria, and New Administrative Capital growth",
            },
            {
              title: "Climate",
              text: "Warm weather with Mediterranean breezes in the north",
            },
            {
              title: "Value",
              text: "Competitive costs for housing, cuisine, and coworking",
            },
          ],
          stats: [
            { number: "110M", label: "Population" },
            { number: "$4K", label: "GDP per Capita" },
            { number: "71", label: "Life Expectancy" },
            { number: "7", label: "UNESCO Sites" },
          ],
        },

        afghanistan: {
          flag: "🇦🇫",
          name: "Afghanistan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        albania: {
          flag: "🇦🇱",
          name: "Albania",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        algeria: {
          flag: "🇩🇿",
          name: "Algeria",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        angola: {
          flag: "🇦🇴",
          name: "Angola",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        antiguaandbarbuda: {
          flag: "🇦🇬",
          name: "Antigua and Barbuda",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        armenia: {
          flag: "🇦🇲",
          name: "Armenia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        azerbaijan: {
          flag: "🇦🇿",
          name: "Azerbaijan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        bahamas: {
          flag: "🇧🇸",
          name: "Bahamas",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        bahrain: {
          flag: "🇧🇭",
          name: "Bahrain",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        bangladesh: {
          flag: "🇧🇩",
          name: "Bangladesh",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        belarus: {
          flag: "🇧🇾",
          name: "Belarus",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        belize: {
          flag: "🇧🇿",
          name: "Belize",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        benin: {
          flag: "🇧🇯",
          name: "Benin",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        bhutan: {
          flag: "🇧🇹",
          name: "Bhutan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        bolivia: {
          flag: "🇧🇴",
          name: "Bolivia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        bosniaandherzegovina: {
          flag: "🇧🇦",
          name: "Bosnia and Herzegovina",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        botswana: {
          flag: "🇧🇼",
          name: "Botswana",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        brunei: {
          flag: "🇧🇳",
          name: "Brunei",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        burkinafaso: {
          flag: "🇧🇫",
          name: "Burkina Faso",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        burundi: {
          flag: "🇧🇮",
          name: "Burundi",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        cambodia: {
          flag: "🇰🇭",
          name: "Cambodia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        cameroon: {
          flag: "🇨🇲",
          name: "Cameroon",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        capeverde: {
          flag: "🇨🇻",
          name: "Cape Verde",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        centralafricanrepublic: {
          flag: "🇨🇫",
          name: "Central African Republic",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        chad: {
          flag: "🇹🇩",
          name: "Chad",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        china: {
          flag: "🇨🇳",
          name: "China",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        colombia: {
          flag: "🇨🇴",
          name: "Colombia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        comoros: {
          flag: "🇰🇲",
          name: "Comoros",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        congo: {
          flag: "🇨🇬",
          name: "Congo",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        cuba: {
          flag: "🇨🇺",
          name: "Cuba",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        drcongo: {
          flag: "🇨🇩",
          name: "DR Congo",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        djibouti: {
          flag: "🇩🇯",
          name: "Djibouti",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        dominica: {
          flag: "🇩🇲",
          name: "Dominica",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        dominicanrepublic: {
          flag: "🇩🇴",
          name: "Dominican Republic",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        ecuador: {
          flag: "🇪🇨",
          name: "Ecuador",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        elsalvador: {
          flag: "🇸🇻",
          name: "El Salvador",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        equatorialguinea: {
          flag: "🇬🇶",
          name: "Equatorial Guinea",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        eritrea: {
          flag: "🇪🇷",
          name: "Eritrea",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        eswatini: {
          flag: "🇸🇿",
          name: "Eswatini",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        ethiopia: {
          flag: "🇪🇹",
          name: "Ethiopia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        fiji: {
          flag: "🇫🇯",
          name: "Fiji",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        gabon: {
          flag: "🇬🇦",
          name: "Gabon",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        gambia: {
          flag: "🇬🇲",
          name: "Gambia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        ghana: {
          flag: "🇬🇭",
          name: "Ghana",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        grenada: {
          flag: "🇬🇩",
          name: "Grenada",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        guatemala: {
          flag: "🇬🇹",
          name: "Guatemala",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        guinea: {
          flag: "🇬🇳",
          name: "Guinea",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        guineabissau: {
          flag: "🇬🇼",
          name: "Guinea-Bissau",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        guyana: {
          flag: "🇬🇾",
          name: "Guyana",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        haiti: {
          flag: "🇭🇹",
          name: "Haiti",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        honduras: {
          flag: "🇭🇳",
          name: "Honduras",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        iran: {
          flag: "🇮🇷",
          name: "Iran",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        iraq: {
          flag: "🇮🇶",
          name: "Iraq",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        ivorycoast: {
          flag: "🇨🇮",
          name: "Ivory Coast",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        jamaica: {
          flag: "🇯🇲",
          name: "Jamaica",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        jordan: {
          flag: "🇯🇴",
          name: "Jordan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        kazakhstan: {
          flag: "🇰🇿",
          name: "Kazakhstan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        kiribati: {
          flag: "🇰🇮",
          name: "Kiribati",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        kuwait: {
          flag: "🇰🇼",
          name: "Kuwait",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        kyrgyzstan: {
          flag: "🇰🇬",
          name: "Kyrgyzstan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        laos: {
          flag: "🇱🇦",
          name: "Laos",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        lebanon: {
          flag: "🇱🇧",
          name: "Lebanon",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        lesotho: {
          flag: "🇱🇸",
          name: "Lesotho",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        liberia: {
          flag: "🇱🇷",
          name: "Liberia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        libya: {
          flag: "🇱🇾",
          name: "Libya",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        liechtenstein: {
          flag: "🇱🇮",
          name: "Liechtenstein",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        madagascar: {
          flag: "🇲🇬",
          name: "Madagascar",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        malawi: {
          flag: "🇲🇼",
          name: "Malawi",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        maldives: {
          flag: "🇲🇻",
          name: "Maldives",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        mali: {
          flag: "🇲🇱",
          name: "Mali",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        marshallislands: {
          flag: "🇲🇭",
          name: "Marshall Islands",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        mauritania: {
          flag: "🇲🇷",
          name: "Mauritania",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        micronesia: {
          flag: "🇫🇲",
          name: "Micronesia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        moldova: {
          flag: "🇲🇩",
          name: "Moldova",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        monaco: {
          flag: "🇲🇨",
          name: "Monaco",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        mongolia: {
          flag: "🇲🇳",
          name: "Mongolia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        montenegro: {
          flag: "🇲🇪",
          name: "Montenegro",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        mozambique: {
          flag: "🇲🇿",
          name: "Mozambique",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        myanmar: {
          flag: "🇲🇲",
          name: "Myanmar",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        namibia: {
          flag: "🇳🇦",
          name: "Namibia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        nauru: {
          flag: "🇳🇷",
          name: "Nauru",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        nepal: {
          flag: "🇳🇵",
          name: "Nepal",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        nicaragua: {
          flag: "🇳🇮",
          name: "Nicaragua",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        niger: {
          flag: "🇳🇪",
          name: "Niger",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        nigeria: {
          flag: "🇳🇬",
          name: "Nigeria",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        northkorea: {
          flag: "🇰🇵",
          name: "North Korea",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        northmacedonia: {
          flag: "🇲🇰",
          name: "North Macedonia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        pakistan: {
          flag: "🇵🇰",
          name: "Pakistan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        palau: {
          flag: "🇵🇼",
          name: "Palau",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        papuanewguinea: {
          flag: "🇵🇬",
          name: "Papua New Guinea",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        paraguay: {
          flag: "🇵🇾",
          name: "Paraguay",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        russia: {
          flag: "🇷🇺",
          name: "Russia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        rwanda: {
          flag: "🇷🇼",
          name: "Rwanda",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        saintkittsandnevis: {
          flag: "🇰🇳",
          name: "Saint Kitts and Nevis",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        saintlucia: {
          flag: "🇱🇨",
          name: "Saint Lucia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        saintvincentandthegrenadines: {
          flag: "🇻🇨",
          name: "Saint Vincent and the Grenadines",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        samoa: {
          flag: "🇼🇸",
          name: "Samoa",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        sanmarino: {
          flag: "🇸🇲",
          name: "San Marino",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        saudiarabia: {
          flag: "🇸🇦",
          name: "Saudi Arabia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        senegal: {
          flag: "🇸🇳",
          name: "Senegal",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        serbia: {
          flag: "🇷🇸",
          name: "Serbia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        seychelles: {
          flag: "🇸🇨",
          name: "Seychelles",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        sierraleone: {
          flag: "🇸🇱",
          name: "Sierra Leone",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        solomonislands: {
          flag: "🇸🇧",
          name: "Solomon Islands",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        somalia: {
          flag: "🇸🇴",
          name: "Somalia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        southsudan: {
          flag: "🇸🇸",
          name: "South Sudan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        sudan: {
          flag: "🇸🇩",
          name: "Sudan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        suriname: {
          flag: "🇸🇷",
          name: "Suriname",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        syria: {
          flag: "🇸🇾",
          name: "Syria",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        saotomeandprincipe: {
          flag: "🇸🇹",
          name: "São Tomé and Príncipe",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        tajikistan: {
          flag: "🇹🇯",
          name: "Tajikistan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        tanzania: {
          flag: "🇹🇿",
          name: "Tanzania",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        timorleste: {
          flag: "🇹🇱",
          name: "Timor-Leste",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        togo: {
          flag: "🇹🇬",
          name: "Togo",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        tonga: {
          flag: "🇹🇴",
          name: "Tonga",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        trinidadandtobago: {
          flag: "🇹🇹",
          name: "Trinidad and Tobago",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        tunisia: {
          flag: "🇹🇳",
          name: "Tunisia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        turkmenistan: {
          flag: "🇹🇲",
          name: "Turkmenistan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        tuvalu: {
          flag: "🇹🇻",
          name: "Tuvalu",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        turkiye: {
          flag: "🇹🇷",
          name: "Türkiye",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        uganda: {
          flag: "🇺🇬",
          name: "Uganda",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        ukraine: {
          flag: "🇺🇦",
          name: "Ukraine",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        uzbekistan: {
          flag: "🇺🇿",
          name: "Uzbekistan",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        vanuatu: {
          flag: "🇻🇺",
          name: "Vanuatu",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        vaticancity: {
          flag: "🇻🇦",
          name: "Vatican City",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        venezuela: {
          flag: "🇻🇪",
          name: "Venezuela",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        yemen: {
          flag: "🇾🇪",
          name: "Yemen",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        zambia: {
          flag: "🇿🇲",
          name: "Zambia",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
        zimbabwe: {
          flag: "🇿🇼",
          name: "Zimbabwe",
          tagline: "Country profile coming soon",
          description:
            "We’re preparing a full country archetype profile for this destination.",
          highlights: [],
          stats: [],
        },
      };

      const assignScores = (keys, points = 3) =>
        keys.reduce((map, key) => {
          map[key] = points;
          return map;
        }, {});

      const scoringRules = {
        1: {
          tropical: {
            thailand: 3,
            singapore: 2,
            australia: 2,
            malaysia: 3,
            philippines: 3,
            indonesia: 3,
            vietnam: 3,
            costarica: 2,
            panama: 2,
            mexico: 2,
            unitedarabemirates: 2,
            taiwan: 2,
            barbados: 3,
            mauritius: 3,
            qatar: 2,
            oman: 2,
            ...assignScores(["brazil", "srilanka", "kenya"], 3),
            ...assignScores(["india"], 2),
          },
          temperate: {
            canada: 3,
            netherlands: 2,
            switzerland: 2,
            germany: 2,
            france: 2,
            unitedkingdom: 2,
            ireland: 2,
            japan: 2,
            southkorea: 2,
            taiwan: 2,
            newzealand: 2,
            chile: 2,
            sweden: 2,
            norway: 2,
            denmark: 2,
            finland: 2,
            iceland: 2,
            ...assignScores(["southafrica", "peru"], 2),
          },
          mediterranean: {
            spain: 3,
            portugal: 3,
            italy: 3,
            greece: 3,
            malta: 3,
            france: 2,
            australia: 2,
            iceland: 2,
            unitedstates: 3,
            austria: 2,
            belgium: 2,
            luxembourg: 2,
            estonia: 2,
            latvia: 2,
            lithuania: 2,
            poland: 2,
            czechia: 2,
            slovakia: 2,
            hungary: 2,
            slovenia: 2,
            croatia: 2,
            romania: 2,
            bulgaria: 2,
            uruguay: 2,
            andorra: 2,
            argentina: 2,
            georgia: 2,
            andorra: 2,
            mexico: 2,
            ...assignScores(["turkey", "morocco", "egypt"], 3),
            ...assignScores(["southafrica"], 2),
          },
          cool: {
            canada: 3,
            switzerland: 3,
            newzealand: 2,
            norway: 3,
            sweden: 3,
            finland: 3,
            iceland: 3,
            mexico: 2,
            unitedstates: 2,
            slovenia: 3,
            croatia: 3,
            cyprus: 3,
            israel: 3,
            argentina: 2,
            unitedkingdom: 2,
            germany: 2,
            denmark: 3,
            netherlands: 2,
            japan: 2,
            southkorea: 2,
            ...assignScores(["peru"], 2),
          },
        },
        2: {
          relaxed: {
            thailand: 3,
            newzealand: 2,
            australia: 2,
            portugal: 3,
            spain: 3,
            greece: 3,
            malta: 2,
            mexico: 2,
            costarica: 3,
            panama: 2,
            chile: 2,
            malaysia: 2,
            indonesia: 2,
            philippines: 2,
            uruguay: 3,
            croatia: 3,
            bulgaria: 3,
            cyprus: 3,
            barbados: 3,
            mauritius: 3,
            oman: 2,
            georgia: 2,
            argentina: 2,
            slovenia: 2,
            ...assignScores(["brazil", "peru", "morocco", "srilanka"], 3),
          },
          balanced: {
            netherlands: 3,
            canada: 2,
            switzerland: 2,
            sweden: 3,
            norway: 3,
            denmark: 3,
            finland: 3,
            germany: 2,
            france: 2,
            ireland: 2,
            unitedkingdom: 2,
            japan: 2,
            newzealand: 2,
            unitedstates: 2,
            austria: 3,
            belgium: 2,
            luxembourg: 2,
            estonia: 3,
            latvia: 2,
            lithuania: 2,
            poland: 2,
            czechia: 2,
            slovakia: 2,
            hungary: 2,
            slovenia: 3,
            croatia: 2,
            romania: 2,
            bulgaria: 2,
            cyprus: 2,
            israel: 2,
            uruguay: 3,
            argentina: 2,
            georgia: 2,
            andorra: 3,
            barbados: 2,
            mauritius: 2,
            ...assignScores(["southafrica", "turkey", "egypt"], 2),
          },
          ambitious: {
            singapore: 3,
            japan: 2,
            southkorea: 3,
            unitedarabemirates: 3,
            germany: 2,
            france: 2,
            unitedkingdom: 2,
            taiwan: 2,
            australia: 2,
            unitedstates: 3,
            austria: 2,
            belgium: 2,
            luxembourg: 3,
            israel: 3,
            qatar: 3,
            poland: 2,
            czechia: 2,
            argentina: 2,
            ...assignScores(["india"], 3),
            ...assignScores(["turkey", "southafrica"], 2),
          },
          flexible: {
            thailand: 2,
            netherlands: 2,
            portugal: 3,
            spain: 3,
            malta: 2,
            costarica: 3,
            panama: 3,
            mexico: 2,
            malaysia: 2,
            indonesia: 2,
            philippines: 2,
            vietnam: 2,
            taiwan: 2,
            chile: 2,
            greece: 2,
            estonia: 3,
            latvia: 3,
            lithuania: 3,
            poland: 2,
            czechia: 2,
            slovakia: 2,
            hungary: 2,
            slovenia: 2,
            croatia: 2,
            romania: 2,
            bulgaria: 3,
            cyprus: 2,
            uruguay: 2,
            argentina: 2,
            barbados: 3,
            mauritius: 3,
            oman: 2,
            georgia: 3,
            unitedstates: 2,
            andorra: 2,
            ...assignScores(["brazil", "kenya", "srilanka"], 3),
          },
        },
        3: {
          diverse: {
            canada: 3,
            singapore: 3,
            australia: 2,
            unitedkingdom: 3,
            france: 2,
            germany: 2,
            malaysia: 3,
            unitedarabemirates: 3,
            panama: 2,
            mexico: 2,
            taiwan: 2,
            netherlands: 2,
            philippines: 2,
            chile: 2,
            thailand: 2,
            unitedstates: 3,
            belgium: 3,
            luxembourg: 3,
            estonia: 2,
            cyprus: 3,
            israel: 3,
            uruguay: 2,
            argentina: 2,
            barbados: 3,
            mauritius: 3,
            qatar: 3,
            oman: 2,
            poland: 2,
            czechia: 2,
            slovenia: 2,
            croatia: 2,
            romania: 2,
            ...assignScores(["brazil", "india", "southafrica", "kenya"], 3),
          },
          traditional: {
            japan: 3,
            thailand: 2,
            italy: 2,
            greece: 2,
            portugal: 2,
            malta: 2,
            southkorea: 3,
            vietnam: 2,
            indonesia: 2,
            philippines: 2,
            spain: 2,
            mexico: 2,
            chile: 2,
            austria: 2,
            poland: 2,
            czechia: 2,
            slovakia: 2,
            hungary: 3,
            slovenia: 2,
            croatia: 3,
            romania: 3,
            bulgaria: 3,
            cyprus: 2,
            israel: 2,
            uruguay: 2,
            argentina: 2,
            georgia: 3,
            andorra: 2,
            oman: 3,
            qatar: 2,
            ...assignScores(
              ["turkey", "morocco", "peru", "egypt", "srilanka", "india"],
              3
            ),
          },
          progressive: {
            netherlands: 3,
            singapore: 2,
            sweden: 3,
            norway: 3,
            denmark: 3,
            finland: 3,
            germany: 3,
            ireland: 2,
            taiwan: 3,
            canada: 2,
            australia: 2,
            iceland: 2,
            france: 2,
            newzealand: 2,
            unitedkingdom: 2,
            unitedstates: 2,
            austria: 2,
            belgium: 3,
            luxembourg: 3,
            estonia: 3,
            lithuania: 2,
            poland: 2,
            czechia: 2,
            slovenia: 3,
            croatia: 2,
            romania: 2,
            israel: 3,
            uruguay: 2,
            barbados: 2,
            mauritius: 3,
            georgia: 2,
            andorra: 2,
            ...assignScores(["southafrica", "brazil", "india"], 2),
          },
          artistic: {
            netherlands: 2,
            canada: 2,
            france: 3,
            italy: 3,
            spain: 3,
            portugal: 2,
            greece: 2,
            ireland: 2,
            unitedkingdom: 2,
            mexico: 2,
            chile: 2,
            unitedstates: 3,
            austria: 3,
            belgium: 2,
            poland: 2,
            czechia: 2,
            hungary: 3,
            slovenia: 2,
            croatia: 2,
            romania: 2,
            uruguay: 2,
            argentina: 3,
            georgia: 2,
            ...assignScores(["brazil", "peru", "morocco"], 3),
            ...assignScores(["turkey"], 2),
          },
        },
        4: {
          nature: {
            newzealand: 3,
            canada: 3,
            switzerland: 2,
            norway: 3,
            sweden: 3,
            finland: 3,
            iceland: 3,
            chile: 3,
            costarica: 3,
            australia: 2,
            japan: 2,
            ireland: 2,
            germany: 2,
            portugal: 2,
            malaysia: 2,
            unitedstates: 2,
            austria: 3,
            estonia: 2,
            latvia: 2,
            lithuania: 2,
            poland: 2,
            czechia: 2,
            slovakia: 3,
            hungary: 2,
            slovenia: 3,
            croatia: 2,
            romania: 3,
            bulgaria: 3,
            uruguay: 2,
            argentina: 3,
            georgia: 3,
            andorra: 3,
            mauritius: 2,
            oman: 2,
            ...assignScores(["peru", "southafrica", "kenya", "srilanka"], 3),
          },
          urban: {
            singapore: 3,
            japan: 2,
            southkorea: 3,
            taiwan: 2,
            unitedkingdom: 2,
            france: 2,
            germany: 2,
            unitedarabemirates: 3,
            australia: 2,
            malaysia: 2,
            mexico: 2,
            netherlands: 2,
            unitedstates: 3,
            austria: 2,
            belgium: 3,
            luxembourg: 2,
            poland: 2,
            czechia: 2,
            hungary: 2,
            slovenia: 2,
            croatia: 2,
            romania: 2,
            cyprus: 2,
            israel: 3,
            qatar: 3,
            argentina: 3,
            uruguay: 2,
            georgia: 2,
            ...assignScores(
              ["india", "turkey", "egypt", "brazil", "southafrica"],
              2
            ),
          },
          coastal: {
            australia: 3,
            thailand: 2,
            spain: 3,
            portugal: 3,
            italy: 3,
            greece: 3,
            malta: 3,
            mexico: 3,
            philippines: 3,
            indonesia: 3,
            vietnam: 3,
            costarica: 3,
            panama: 3,
            singapore: 2,
            chile: 2,
            france: 2,
            unitedstates: 2,
            cyprus: 3,
            croatia: 3,
            slovenia: 2,
            romania: 2,
            bulgaria: 3,
            israel: 3,
            uruguay: 3,
            argentina: 2,
            barbados: 3,
            mauritius: 3,
            qatar: 2,
            oman: 3,
            georgia: 2,
            ...assignScores(
              [
                "brazil",
                "morocco",
                "srilanka",
                "southafrica",
                "egypt",
                "kenya",
              ],
              3
            ),
          },
          peaceful: {
            newzealand: 3,
            switzerland: 2,
            finland: 3,
            denmark: 3,
            iceland: 3,
            ireland: 3,
            portugal: 3,
            malta: 2,
            canada: 2,
            japan: 2,
            norway: 3,
            sweden: 3,
            costarica: 2,
            chile: 2,
            netherlands: 2,
            austria: 3,
            slovenia: 3,
            croatia: 2,
            romania: 2,
            bulgaria: 2,
            uruguay: 3,
            argentina: 2,
            georgia: 2,
            andorra: 3,
            mauritius: 3,
            oman: 2,
            barbados: 3,
            cyprus: 2,
            ...assignScores(["srilanka", "morocco", "peru"], 2),
          },
        },
        5: {
          healthcare: {
            andorra: 2,
            australia: 2,
            austria: 3,
            belgium: 3,
            canada: 3,
            chile: 2,
            costarica: 2,
            croatia: 2,
            czechia: 2,
            cyprus: 2,
            denmark: 3,
            estonia: 2,
            finland: 3,
            france: 3,
            germany: 3,
            greece: 2,
            hungary: 2,
            iceland: 2,
            ireland: 2,
            israel: 2,
            italy: 2,
            japan: 2,
            luxembourg: 3,
            malta: 2,
            malaysia: 2,
            netherlands: 3,
            newzealand: 2,
            norway: 3,
            oman: 2,
            panama: 2,
            poland: 2,
            portugal: 2,
            qatar: 2,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 2,
            southkorea: 2,
            spain: 2,
            sweden: 3,
            switzerland: 3,
            taiwan: 2,
            unitedarabemirates: 2,
            unitedkingdom: 3,
            unitedstates: 2,
            uruguay: 2,
            ...assignScores(["india", "turkey"], 2),
          },
          education: {
            andorra: 2,
            argentina: 2,
            australia: 2,
            austria: 2,
            belgium: 2,
            canada: 2,
            chile: 2,
            costarica: 2,
            croatia: 2,
            czechia: 2,
            denmark: 3,
            estonia: 3,
            finland: 3,
            france: 2,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 2,
            ireland: 2,
            israel: 2,
            italy: 2,
            japan: 3,
            latvia: 2,
            lithuania: 2,
            luxembourg: 2,
            malaysia: 2,
            malta: 2,
            netherlands: 2,
            newzealand: 2,
            norway: 2,
            poland: 2,
            portugal: 2,
            qatar: 2,
            romania: 2,
            singapore: 3,
            slovakia: 2,
            slovenia: 2,
            southkorea: 3,
            spain: 2,
            sweden: 2,
            switzerland: 2,
            taiwan: 3,
            unitedarabemirates: 2,
            unitedkingdom: 3,
            unitedstates: 2,
            uruguay: 2,
            ...assignScores(["india"], 3),
            ...assignScores(["turkey", "morocco", "egypt"], 2),
          },
          safety: {
            andorra: 3,
            argentina: 2,
            australia: 2,
            austria: 3,
            barbados: 3,
            belgium: 2,
            bulgaria: 2,
            canada: 2,
            chile: 2,
            costarica: 2,
            croatia: 2,
            cyprus: 2,
            czechia: 2,
            denmark: 3,
            estonia: 2,
            finland: 3,
            france: 2,
            georgia: 2,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 3,
            indonesia: 2,
            ireland: 2,
            israel: 2,
            italy: 2,
            japan: 3,
            latvia: 2,
            lithuania: 2,
            luxembourg: 3,
            malta: 2,
            mauritius: 3,
            mexico: 2,
            netherlands: 2,
            newzealand: 2,
            norway: 3,
            oman: 3,
            panama: 2,
            philippines: 2,
            poland: 2,
            portugal: 2,
            qatar: 3,
            romania: 2,
            singapore: 3,
            slovakia: 2,
            slovenia: 2,
            southkorea: 2,
            spain: 2,
            sweden: 2,
            switzerland: 3,
            taiwan: 2,
            thailand: 2,
            unitedarabemirates: 2,
            unitedkingdom: 2,
            uruguay: 3,
            vietnam: 2,
            ...assignScores(["srilanka", "morocco"], 2),
          },
          freedom: {
            argentina: 2,
            australia: 2,
            barbados: 2,
            belgium: 3,
            bulgaria: 2,
            canada: 2,
            chile: 2,
            costarica: 3,
            croatia: 2,
            cyprus: 2,
            czechia: 2,
            denmark: 3,
            estonia: 3,
            finland: 3,
            france: 2,
            georgia: 2,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 2,
            indonesia: 2,
            ireland: 3,
            israel: 2,
            italy: 2,
            japan: 2,
            latvia: 2,
            lithuania: 2,
            luxembourg: 3,
            malaysia: 2,
            malta: 2,
            mauritius: 2,
            mexico: 2,
            netherlands: 3,
            newzealand: 2,
            norway: 3,
            panama: 2,
            philippines: 2,
            poland: 2,
            portugal: 3,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 3,
            southkorea: 2,
            spain: 2,
            sweden: 3,
            switzerland: 2,
            thailand: 2,
            unitedkingdom: 2,
            unitedstates: 3,
            uruguay: 3,
            vietnam: 2,
            ...assignScores(
              ["brazil", "india", "southafrica", "peru", "kenya"],
              2
            ),
          },
        },
        6: {
          affordable: {
            argentina: 2,
            bulgaria: 3,
            chile: 2,
            costarica: 2,
            croatia: 2,
            czechia: 2,
            estonia: 2,
            georgia: 3,
            greece: 2,
            hungary: 2,
            indonesia: 3,
            latvia: 2,
            lithuania: 2,
            malaysia: 3,
            mexico: 3,
            panama: 2,
            philippines: 3,
            poland: 2,
            portugal: 2,
            romania: 2,
            slovakia: 2,
            slovenia: 2,
            spain: 2,
            thailand: 3,
            uruguay: 2,
            vietnam: 3,
            ...assignScores(
              [
                "brazil",
                "peru",
                "india",
                "morocco",
                "srilanka",
                "kenya",
                "egypt",
                "southafrica",
              ],
              2
            ),
          },
          moderate: {
            argentina: 2,
            australia: 2,
            austria: 2,
            belgium: 2,
            canada: 2,
            chile: 2,
            croatia: 2,
            czechia: 2,
            estonia: 2,
            france: 2,
            germany: 2,
            greece: 2,
            hungary: 2,
            ireland: 2,
            israel: 2,
            italy: 2,
            japan: 2,
            latvia: 2,
            lithuania: 2,
            malaysia: 2,
            malta: 2,
            mexico: 2,
            netherlands: 2,
            newzealand: 2,
            panama: 2,
            poland: 2,
            portugal: 2,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 2,
            southkorea: 2,
            spain: 2,
            sweden: 2,
            taiwan: 2,
            unitedstates: 2,
            uruguay: 2,
            cyprus: 2,
            georgia: 2,
            ...assignScores(
              ["turkey", "southafrica", "brazil", "india", "egypt"],
              2
            ),
          },
          premium: {
            andorra: 3,
            australia: 2,
            austria: 2,
            barbados: 3,
            belgium: 2,
            canada: 2,
            denmark: 3,
            finland: 3,
            france: 2,
            germany: 2,
            iceland: 3,
            ireland: 2,
            israel: 2,
            italy: 2,
            japan: 2,
            luxembourg: 3,
            malta: 2,
            mauritius: 2,
            netherlands: 2,
            newzealand: 2,
            norway: 3,
            oman: 2,
            qatar: 3,
            singapore: 3,
            sweden: 2,
            switzerland: 3,
            unitedarabemirates: 3,
            unitedkingdom: 3,
            unitedstates: 2,
            cyprus: 2,
          },
          investment: {
            andorra: 3,
            argentina: 2,
            australia: 2,
            austria: 2,
            barbados: 3,
            bulgaria: 2,
            canada: 2,
            chile: 3,
            costarica: 2,
            croatia: 2,
            cyprus: 3,
            czechia: 2,
            estonia: 2,
            france: 2,
            georgia: 3,
            greece: 3,
            hungary: 2,
            indonesia: 2,
            italy: 3,
            malaysia: 2,
            malta: 3,
            mauritius: 3,
            mexico: 2,
            oman: 2,
            panama: 3,
            philippines: 2,
            poland: 2,
            portugal: 3,
            qatar: 2,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 2,
            spain: 3,
            thailand: 2,
            unitedarabemirates: 2,
            unitedstates: 2,
            uruguay: 2,
            vietnam: 2,
            ...assignScores(
              [
                "turkey",
                "brazil",
                "southafrica",
                "egypt",
                "morocco",
                "india",
                "kenya",
                "peru",
              ],
              2
            ),
          },
        },
        7: {
          english: {
            australia: 3,
            barbados: 3,
            canada: 3,
            costarica: 2,
            cyprus: 2,
            ireland: 3,
            malaysia: 2,
            malta: 3,
            mauritius: 2,
            newzealand: 3,
            oman: 2,
            panama: 2,
            philippines: 3,
            qatar: 2,
            singapore: 2,
            unitedarabemirates: 2,
            unitedkingdom: 3,
            unitedstates: 3,
            ...assignScores(["india", "southafrica", "srilanka", "kenya"], 3),
          },
          multilingual: {
            andorra: 3,
            argentina: 2,
            austria: 2,
            belgium: 3,
            bulgaria: 2,
            canada: 2,
            chile: 2,
            costarica: 2,
            croatia: 2,
            cyprus: 2,
            czechia: 2,
            denmark: 2,
            estonia: 2,
            finland: 2,
            france: 2,
            georgia: 2,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 2,
            indonesia: 2,
            israel: 2,
            italy: 2,
            latvia: 2,
            lithuania: 2,
            luxembourg: 3,
            malaysia: 2,
            malta: 2,
            mauritius: 2,
            mexico: 2,
            netherlands: 3,
            norway: 2,
            panama: 2,
            poland: 2,
            portugal: 2,
            qatar: 2,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 2,
            southkorea: 2,
            spain: 2,
            sweden: 2,
            switzerland: 3,
            taiwan: 2,
            thailand: 2,
            unitedarabemirates: 3,
            uruguay: 2,
            vietnam: 2,
            oman: 2,
            ...assignScores(
              [
                "morocco",
                "egypt",
                "turkey",
                "brazil",
                "peru",
                "southafrica",
                "india",
              ],
              2
            ),
          },
          learning: {
            andorra: 2,
            argentina: 2,
            austria: 2,
            belgium: 2,
            bulgaria: 2,
            chile: 2,
            croatia: 2,
            czechia: 2,
            denmark: 2,
            estonia: 2,
            finland: 2,
            france: 2,
            georgia: 3,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 2,
            indonesia: 3,
            israel: 2,
            italy: 2,
            japan: 3,
            latvia: 2,
            lithuania: 2,
            luxembourg: 2,
            netherlands: 2,
            norway: 2,
            poland: 2,
            portugal: 2,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 2,
            southkorea: 3,
            spain: 2,
            sweden: 2,
            switzerland: 2,
            taiwan: 3,
            thailand: 3,
            uruguay: 2,
            vietnam: 3,
            ...assignScores(
              ["morocco", "turkey", "peru", "egypt", "brazil"],
              2
            ),
          },
          similar: {
            andorra: 2,
            argentina: 2,
            australia: 2,
            austria: 2,
            belgium: 2,
            canada: 2,
            chile: 2,
            costarica: 2,
            cyprus: 2,
            denmark: 2,
            france: 2,
            germany: 2,
            greece: 2,
            iceland: 2,
            ireland: 2,
            italy: 2,
            luxembourg: 2,
            malta: 2,
            mexico: 2,
            netherlands: 2,
            newzealand: 2,
            norway: 2,
            portugal: 3,
            spain: 3,
            sweden: 2,
            switzerland: 2,
            unitedkingdom: 2,
            unitedstates: 2,
            uruguay: 2,
          },
        },
        8: {
          megacity: {
            argentina: 2,
            australia: 2,
            canada: 2,
            chile: 2,
            france: 2,
            germany: 2,
            indonesia: 3,
            israel: 2,
            italy: 2,
            japan: 3,
            malaysia: 2,
            mexico: 3,
            netherlands: 2,
            panama: 2,
            philippines: 3,
            qatar: 2,
            singapore: 3,
            southkorea: 3,
            spain: 2,
            taiwan: 2,
            thailand: 2,
            unitedarabemirates: 3,
            unitedkingdom: 2,
            unitedstates: 3,
            vietnam: 2,
            ...assignScores(["india", "brazil", "egypt"], 3),
          },
          city: {
            andorra: 2,
            argentina: 2,
            australia: 2,
            austria: 2,
            belgium: 2,
            canada: 2,
            chile: 2,
            croatia: 2,
            cyprus: 2,
            czechia: 2,
            denmark: 2,
            estonia: 2,
            finland: 2,
            france: 2,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 2,
            ireland: 2,
            israel: 2,
            italy: 2,
            japan: 2,
            latvia: 2,
            lithuania: 2,
            luxembourg: 2,
            malaysia: 2,
            malta: 2,
            mexico: 2,
            netherlands: 2,
            newzealand: 2,
            norway: 2,
            oman: 2,
            panama: 2,
            poland: 2,
            portugal: 2,
            qatar: 2,
            romania: 2,
            singapore: 2,
            slovakia: 2,
            slovenia: 2,
            southkorea: 2,
            spain: 2,
            sweden: 2,
            switzerland: 2,
            taiwan: 2,
            thailand: 2,
            unitedarabemirates: 2,
            unitedkingdom: 2,
            unitedstates: 2,
            uruguay: 2,
            ...assignScores(["turkey", "southafrica", "morocco", "peru"], 2),
          },
          town: {
            andorra: 3,
            argentina: 2,
            austria: 2,
            barbados: 3,
            belgium: 2,
            bulgaria: 2,
            canada: 2,
            chile: 2,
            costarica: 3,
            croatia: 2,
            cyprus: 2,
            czechia: 2,
            denmark: 3,
            estonia: 2,
            finland: 3,
            georgia: 2,
            greece: 2,
            hungary: 2,
            iceland: 3,
            indonesia: 2,
            ireland: 2,
            latvia: 2,
            lithuania: 2,
            luxembourg: 2,
            malaysia: 2,
            malta: 2,
            mauritius: 3,
            mexico: 2,
            netherlands: 2,
            newzealand: 3,
            norway: 3,
            panama: 2,
            poland: 2,
            portugal: 2,
            romania: 2,
            slovakia: 2,
            slovenia: 3,
            spain: 2,
            sweden: 3,
            switzerland: 3,
            thailand: 2,
            uruguay: 3,
            vietnam: 2,
            ...assignScores(["srilanka", "kenya", "morocco", "peru"], 2),
          },
          rural: {
            andorra: 2,
            argentina: 3,
            australia: 3,
            austria: 2,
            barbados: 2,
            belgium: 2,
            bulgaria: 2,
            canada: 3,
            chile: 2,
            costarica: 3,
            croatia: 2,
            czechia: 2,
            cyprus: 2,
            denmark: 2,
            estonia: 2,
            finland: 3,
            france: 2,
            georgia: 3,
            germany: 2,
            greece: 2,
            hungary: 2,
            iceland: 2,
            indonesia: 2,
            ireland: 2,
            israel: 2,
            italy: 2,
            latvia: 2,
            lithuania: 2,
            malaysia: 2,
            mauritius: 2,
            mexico: 2,
            netherlands: 2,
            newzealand: 3,
            norway: 3,
            oman: 2,
            panama: 2,
            philippines: 2,
            poland: 2,
            portugal: 2,
            romania: 3,
            slovakia: 2,
            slovenia: 3,
            spain: 2,
            sweden: 3,
            switzerland: 2,
            taiwan: 2,
            thailand: 2,
            unitedkingdom: 2,
            unitedstates: 2,
            uruguay: 2,
            vietnam: 2,
            ...assignScores(["peru", "kenya", "srilanka", "morocco"], 2),
          },
        },
        9: {
          remotevisa: {
            ...assignScores(
              [
                "portugal",
                "spain",
                "greece",
                "malta",
                "croatia",
                "estonia",
                "latvia",
                "lithuania",
                "czechia",
                "slovakia",
                "hungary",
                "slovenia",
                "romania",
                "bulgaria",
                "georgia",
                "thailand",
                "malaysia",
                "indonesia",
                "philippines",
                "vietnam",
                "costarica",
                "panama",
                "mexico",
                "chile",
                "argentina",
                "uruguay",
                "barbados",
                "mauritius",
                "andorra",
                "iceland",
                "brazil",
                "turkey",
                "southafrica",
                "srilanka",
              ],
              3
            ),
            ...assignScores(
              ["italy", "cyprus", "poland", "france", "germany", "netherlands"],
              2
            ),
          },
          investorfriendly: {
            ...assignScores(
              [
                "portugal",
                "spain",
                "greece",
                "italy",
                "malta",
                "cyprus",
                "andorra",
                "unitedarabemirates",
                "qatar",
                "oman",
                "singapore",
                "unitedstates",
                "canada",
                "australia",
                "newzealand",
                "austria",
                "belgium",
                "luxembourg",
                "switzerland",
                "france",
                "germany",
                "ireland",
                "unitedkingdom",
                "israel",
                "panama",
                "mexico",
                "barbados",
                "mauritius",
                "turkey",
                "egypt",
                "brazil",
              ],
              3
            ),
            ...assignScores(
              [
                "thailand",
                "malaysia",
                "indonesia",
                "philippines",
                "chile",
                "argentina",
                "uruguay",
                "georgia",
                "romania",
                "bulgaria",
                "poland",
                "czechia",
                "slovakia",
                "hungary",
                "slovenia",
                "croatia",
                "latvia",
                "lithuania",
                "estonia",
                "costarica",
                "morocco",
                "southafrica",
                "india",
                "kenya",
                "peru",
              ],
              2
            ),
          },
          careertrack: {
            ...assignScores(
              [
                "unitedstates",
                "canada",
                "australia",
                "newzealand",
                "unitedkingdom",
                "ireland",
                "germany",
                "france",
                "netherlands",
                "switzerland",
                "sweden",
                "norway",
                "denmark",
                "finland",
                "austria",
                "belgium",
                "luxembourg",
                "japan",
                "southkorea",
                "taiwan",
                "singapore",
                "unitedarabemirates",
                "qatar",
                "israel",
                "india",
                "southafrica",
                "turkey",
              ],
              3
            ),
            ...assignScores(
              [
                "portugal",
                "spain",
                "italy",
                "malta",
                "estonia",
                "latvia",
                "lithuania",
                "poland",
                "czechia",
                "slovakia",
                "hungary",
                "slovenia",
                "croatia",
                "romania",
                "bulgaria",
                "cyprus",
                "thailand",
                "malaysia",
                "chile",
                "mexico",
                "panama",
                "costarica",
                "argentina",
                "uruguay",
                "egypt",
                "kenya",
                "brazil",
              ],
              2
            ),
          },
          easysettlement: {
            ...assignScores(
              [
                "argentina",
                "uruguay",
                "chile",
                "mexico",
                "costarica",
                "panama",
                "georgia",
                "thailand",
                "malaysia",
                "indonesia",
                "philippines",
                "portugal",
                "spain",
                "greece",
                "malta",
                "croatia",
                "slovenia",
                "romania",
                "bulgaria",
                "poland",
                "czechia",
                "slovakia",
                "hungary",
                "latvia",
                "lithuania",
                "estonia",
                "iceland",
                "andorra",
                "barbados",
                "mauritius",
                "cyprus",
                "peru",
                "morocco",
                "srilanka",
                "brazil",
                "egypt",
                "kenya",
              ],
              3
            ),
            ...assignScores(
              [
                "italy",
                "france",
                "germany",
                "ireland",
                "unitedkingdom",
                "austria",
                "belgium",
                "luxembourg",
                "switzerland",
                "sweden",
                "norway",
                "denmark",
                "finland",
                "netherlands",
                "unitedstates",
                "canada",
                "australia",
                "newzealand",
                "japan",
                "southkorea",
                "taiwan",
                "singapore",
                "unitedarabemirates",
                "qatar",
                "israel",
                "oman",
              ],
              2
            ),
          },
        },
        10: {
          innovation: {
            ...assignScores(
              [
                "unitedstates",
                "canada",
                "australia",
                "newzealand",
                "singapore",
                "switzerland",
                "japan",
                "southkorea",
                "taiwan",
                "netherlands",
                "germany",
                "france",
                "sweden",
                "norway",
                "denmark",
                "finland",
                "ireland",
                "unitedkingdom",
                "austria",
                "belgium",
                "luxembourg",
                "estonia",
                "israel",
                "unitedarabemirates",
                "qatar",
                "india",
                "turkey",
                "southafrica",
                "brazil",
                "egypt",
              ],
              3
            ),
            ...assignScores(
              [
                "portugal",
                "spain",
                "italy",
                "greece",
                "malta",
                "czechia",
                "poland",
                "hungary",
                "slovenia",
                "croatia",
                "romania",
                "bulgaria",
                "cyprus",
                "malaysia",
                "thailand",
              ],
              2
            ),
          },
          heritage: {
            ...assignScores(
              [
                "spain",
                "portugal",
                "italy",
                "greece",
                "malta",
                "france",
                "ireland",
                "unitedkingdom",
                "austria",
                "belgium",
                "luxembourg",
                "germany",
                "netherlands",
                "poland",
                "czechia",
                "slovakia",
                "hungary",
                "slovenia",
                "croatia",
                "romania",
                "bulgaria",
                "cyprus",
                "georgia",
                "andorra",
                "mexico",
                "chile",
                "argentina",
                "uruguay",
                "latvia",
                "lithuania",
                "estonia",
                "iceland",
                "peru",
                "india",
                "turkey",
                "morocco",
                "egypt",
                "srilanka",
              ],
              3
            ),
          },
          wellbeing: {
            ...assignScores(
              [
                "canada",
                "newzealand",
                "switzerland",
                "norway",
                "sweden",
                "denmark",
                "finland",
                "iceland",
                "portugal",
                "costarica",
                "uruguay",
                "austria",
                "germany",
                "netherlands",
                "australia",
                "ireland",
                "slovenia",
                "mauritius",
                "barbados",
                "japan",
                "srilanka",
                "peru",
                "southafrica",
                "morocco",
              ],
              3
            ),
            ...assignScores(
              ["france", "belgium", "luxembourg", "spain", "italy"],
              2
            ),
          },
          adventure: {
            ...assignScores(
              [
                "thailand",
                "vietnam",
                "indonesia",
                "philippines",
                "malaysia",
                "mexico",
                "chile",
                "argentina",
                "uruguay",
                "costarica",
                "panama",
                "georgia",
                "oman",
                "unitedarabemirates",
                "qatar",
                "andorra",
                "iceland",
                "newzealand",
                "australia",
                "spain",
                "greece",
                "portugal",
                "croatia",
                "slovenia",
                "brazil",
                "peru",
                "southafrica",
                "kenya",
                "morocco",
                "srilanka",
                "egypt",
              ],
              3
            ),
            ...assignScores(["barbados", "mauritius", "israel"], 2),
          },
        },
        11: {
          emerging: {
            ...assignScores(
              [
                "brazil",
                "india",
                "peru",
                "turkey",
                "morocco",
                "southafrica",
                "srilanka",
                "kenya",
                "egypt",
                "thailand",
                "vietnam",
                "indonesia",
                "philippines",
                "malaysia",
                "mexico",
                "chile",
                "argentina",
                "uruguay",
                "romania",
                "bulgaria",
                "georgia",
              ],
              3
            ),
            ...assignScores(
              ["poland", "czechia", "slovakia", "hungary", "slovenia"],
              2
            ),
          },
          stablegrowth: {
            ...assignScores(
              [
                "canada",
                "australia",
                "newzealand",
                "portugal",
                "spain",
                "italy",
                "greece",
                "france",
                "germany",
                "netherlands",
                "belgium",
                "luxembourg",
                "austria",
                "switzerland",
                "ireland",
                "unitedkingdom",
                "japan",
                "southkorea",
                "taiwan",
                "sweden",
                "norway",
                "denmark",
                "finland",
                "estonia",
                "latvia",
                "lithuania",
                "cyprus",
                "uruguay",
                "costarica",
              ],
              3
            ),
            ...assignScores(
              [
                "israel",
                "unitedarabemirates",
                "qatar",
                "unitedstates",
                "singapore",
              ],
              2
            ),
          },
          hyperinnovation: {
            ...assignScores(
              [
                "unitedstates",
                "canada",
                "singapore",
                "japan",
                "southkorea",
                "taiwan",
                "germany",
                "france",
                "unitedkingdom",
                "ireland",
                "switzerland",
                "sweden",
                "norway",
                "denmark",
                "finland",
                "estonia",
                "israel",
                "unitedarabemirates",
                "qatar",
                "australia",
                "netherlands",
                "luxembourg",
              ],
              3
            ),
            ...assignScores(
              ["india", "turkey", "southafrica", "brazil", "egypt"],
              2
            ),
          },
          resource: {
            ...assignScores(
              [
                "qatar",
                "oman",
                "unitedarabemirates",
                "norway",
                "australia",
                "canada",
                "chile",
                "peru",
                "argentina",
                "brazil",
                "mexico",
                "southafrica",
                "kenya",
                "egypt",
              ],
              3
            ),
            ...assignScores(["uruguay", "morocco"], 2),
          },
        },
        12: {
          climateresilient: {
            ...assignScores(
              [
                "singapore",
                "netherlands",
                "japan",
                "southkorea",
                "taiwan",
                "germany",
                "canada",
                "unitedstates",
                "qatar",
                "unitedarabemirates",
                "norway",
                "denmark",
                "sweden",
                "finland",
                "switzerland",
                "australia",
                "newzealand",
              ],
              3
            ),
            ...assignScores(
              ["france", "unitedkingdom", "ireland", "israel"],
              2
            ),
          },
          sustainability: {
            ...assignScores(
              [
                "costarica",
                "portugal",
                "newzealand",
                "iceland",
                "denmark",
                "sweden",
                "finland",
                "germany",
                "austria",
                "netherlands",
                "canada",
                "japan",
                "slovenia",
                "mauritius",
                "barbados",
                "srilanka",
                "norway",
              ],
              3
            ),
            ...assignScores(
              ["france", "spain", "italy", "chile", "uruguay"],
              2
            ),
          },
          adaptive: {
            ...assignScores(
              [
                "india",
                "brazil",
                "turkey",
                "morocco",
                "southafrica",
                "kenya",
                "egypt",
                "indonesia",
                "philippines",
                "vietnam",
                "thailand",
                "mexico",
                "chile",
                "argentina",
                "peru",
                "uruguay",
                "georgia",
                "romania",
                "bulgaria",
              ],
              3
            ),
            ...assignScores(
              ["malaysia", "czechia", "poland", "slovakia", "hungary"],
              2
            ),
          },
          lowimpact: {
            ...assignScores(
              [
                "newzealand",
                "iceland",
                "norway",
                "finland",
                "portugal",
                "uruguay",
                "costarica",
                "slovenia",
                "croatia",
                "srilanka",
                "mauritius",
                "barbados",
                "peru",
                "kenya",
                "georgia",
              ],
              3
            ),
            ...assignScores(
              [
                "australia",
                "canada",
                "mexico",
                "argentina",
                "chile",
                "southafrica",
              ],
              2
            ),
          },
        },
      };

      const guideTagRules = [
        {
          tag: "coastal",
          keywords: [
            "coast",
            "coastal",
            "beach",
            "beaches",
            "island",
            "islands",
            "mediterranean",
            "atlantic",
            "pacific",
            "ocean",
            "sea",
            "surf",
            "harbor",
            "port",
            "caribbean",
            "gulf",
          ],
        },
        {
          tag: "ambitious",
          keywords: [
            "innovation",
            "tech",
            "technology",
            "startup",
            "finance",
            "financial",
            "career",
            "business",
            "hub",
            "ambition",
            "entrepreneur",
            "tax-free",
            "logistics",
            "infrastructure",
            "metropolis",
          ],
        },
        {
          tag: "nature",
          keywords: [
            "nature",
            "natural",
            "mountain",
            "mountains",
            "outdoor",
            "wilderness",
            "park",
            "parks",
            "forest",
            "forests",
            "fjord",
            "fjords",
            "alpine",
            "hiking",
            "trail",
            "trails",
            "volcano",
            "rainforest",
            "wildlife",
            "desert",
            "lake",
            "lakes",
          ],
        },
        {
          tag: "remote",
          keywords: [
            "remote",
            "digital nomad",
            "nomad",
            "visa",
            "flexible",
            "work-life",
            "remote-work",
            "remote work",
            "freelance",
            "location-independent",
            "retiree",
            "affordable",
            "low cost",
          ],
        },
        {
          tag: "cultural",
          keywords: [
            "culture",
            "cultural",
            "heritage",
            "history",
            "historical",
            "art",
            "arts",
            "museum",
            "museums",
            "tradition",
            "culinary",
            "food",
            "festival",
            "design",
            "architecture",
            "literary",
          ],
        },
      ];

      const guideImagePlaceholder =
        "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";

      let guideImageObserver = null;

      function getOptimizedImageSources(path) {
        if (!path) {
          return { fallback: "", webp: "" };
        }

        // If this is a remote URL or a path without a file extension, don't
        // attempt to guess a .webp variant.
        const isRemote = /^https?:\/\//i.test(path);
        const hasExtension = /\.[a-z0-9]{2,5}(\?.*)?$/i.test(path);
        if (isRemote || !hasExtension) {
          return { fallback: path, webp: "" };
        }

        const extensionMatch = path.match(/\.([a-z0-9]+)$/i);
        if (!extensionMatch) {
          return { fallback: path, webp: "" };
        }

        const extension = extensionMatch[1].toLowerCase();
        if (!["jpg", "jpeg", "png"].includes(extension)) {
          return { fallback: path, webp: "" };
        }

        return {
          fallback: path,
          webp: path.replace(/\.[^.]+$/, ".webp"),
        };
      }

      let worldCountriesHydrated = false;
      let worldCountriesHydrating = null;

      // Maps alternate/duplicate keys to a canonical key (e.g., { turkey: "turkiye" }).
      const countryKeyAliases = Object.create(null);

      function slugifyCountryName(name) {
        return (name || "")
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "")
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, "")
          .trim();
      }

      function resolveCountryKey(key) {
        return countryKeyAliases[key] || key;
      }

      const OPENVERSE_ENDPOINT = "https://api.openverse.engineering/v1/images/";
      const openverseMemoryCache = new Map();

      function formatOpenverseLicense(license, version) {
        const code = (license || "").toLowerCase();
        const ver = (version || "").trim();
        if (code === "cc0") return "CC0";
        if (code === "pdm") return "Public Domain";
        if (code === "by") return `CC BY${ver ? ` ${ver}` : ""}`;
        if (code === "by-sa") return `CC BY-SA${ver ? ` ${ver}` : ""}`;
        if (code === "by-nc") return `CC BY-NC${ver ? ` ${ver}` : ""}`;
        if (code === "by-nd") return `CC BY-ND${ver ? ` ${ver}` : ""}`;
        if (code === "by-nc-sa") return `CC BY-NC-SA${ver ? ` ${ver}` : ""}`;
        if (code === "by-nc-nd") return `CC BY-NC-ND${ver ? ` ${ver}` : ""}`;
        return (license || "License").toUpperCase();
      }

      function getOpenverseStorage() {
        try {
          const raw = sessionStorage.getItem("openverseImageCacheV1");
          return raw ? JSON.parse(raw) : {};
        } catch {
          return {};
        }
      }

      function setOpenverseStorage(data) {
        try {
          sessionStorage.setItem("openverseImageCacheV1", JSON.stringify(data));
        } catch {
          // ignore
        }
      }

      function getOpenverseCacheKey(countryKey, query) {
        return `${countryKey}::${(query || "").toLowerCase()}`;
      }

      function getOpenverseCached(countryKey, query) {
        const key = getOpenverseCacheKey(countryKey, query);
        if (openverseMemoryCache.has(key)) return openverseMemoryCache.get(key);
        const stored = getOpenverseStorage();
        const value = stored[key];
        if (value) {
          openverseMemoryCache.set(key, value);
          return value;
        }
        return null;
      }

      function setOpenverseCached(countryKey, query, value) {
        const key = getOpenverseCacheKey(countryKey, query);
        openverseMemoryCache.set(key, value);
        const stored = getOpenverseStorage();
        stored[key] = value;
        // Keep session cache reasonably small.
        const keys = Object.keys(stored);
        if (keys.length > 500) {
          keys.slice(0, keys.length - 500).forEach((k) => delete stored[k]);
        }
        setOpenverseStorage(stored);
      }

      async function fetchOpenverseImage(query) {
        const q = (query || "").trim();
        if (!q) return null;

        const params = new URLSearchParams({
          q,
          license: "cc0,pdm,by,by-sa",
          size: "large",
          page_size: "1",
        });

        const url = `${OPENVERSE_ENDPOINT}?${params.toString()}`;
        const response = await fetch(url, {
          headers: { Accept: "application/json" },
          cache: "no-store",
        });
        if (!response.ok) {
          throw new Error(`Openverse HTTP ${response.status}`);
        }

        const data = await response.json();
        const item = Array.isArray(data?.results) ? data.results[0] : null;
        if (!item) return null;

        const record = {
          url: item.url || "",
          title: item.title || "",
          creator: item.creator || "",
          creator_url: item.creator_url || "",
          license: item.license || "",
          license_version: item.license_version || "",
          license_url: item.license_url || "",
          landing_url: item.foreign_landing_url || item.source || "",
          source: item.source || "Openverse",
        };

        if (!record.url) return null;
        return record;
      }

      async function ensureOpenverseCountryImage(countryKey) {
        const key = resolveCountryKey(countryKey);
        const country = countries[key];
        if (!country) return null;

        if (country.image && country.imageCredit) {
          return {
            url: country.image,
            credit: country.imageCredit,
          };
        }

        const queryBase = (
          country.imageQuery ||
          country.name ||
          key ||
          ""
        ).trim();
        const query = `${queryBase} landscape`;

        const cached = getOpenverseCached(key, query);
        if (cached?.url) {
          countries[key] = {
            ...country,
            imageProvider: "openverse",
            image: cached.url,
            imageCredit: cached,
          };
          return { url: cached.url, credit: cached };
        }

        const record = await fetchOpenverseImage(query);
        if (!record) return null;

        setOpenverseCached(key, query, record);
        countries[key] = {
          ...country,
          imageProvider: "openverse",
          image: record.url,
          imageCredit: record,
        };

        return { url: record.url, credit: record };
      }

      function setImageCreditFor(img, credit) {
        const cover =
          img.closest(".card-cover") || img.closest(".result-media");
        const el = cover ? cover.querySelector(".img-credit") : null;
        if (!el) return;
        if (!credit || !credit.url) {
          el.textContent = "";
          return;
        }

        const licenseText = formatOpenverseLicense(
          credit.license,
          credit.license_version
        );
        const creator = credit.creator || "Creator";
        const creatorUrl = credit.creator_url || "";
        const landingUrl = credit.landing_url || credit.url;
        const licenseUrl = credit.license_url || "";

        const safeCreator = escapeHtml(creator);
        const safeLanding = escapeHtml(landingUrl);
        const safeLicenseText = escapeHtml(licenseText);
        const safeLicenseUrl = escapeHtml(licenseUrl);
        const safeCreatorUrl = escapeHtml(creatorUrl);

        const creatorMarkup = creatorUrl
          ? `<a href="${safeCreatorUrl}" target="_blank" rel="noopener">${safeCreator}</a>`
          : safeCreator;
        const licenseMarkup = licenseUrl
          ? `<a href="${safeLicenseUrl}" target="_blank" rel="noopener">${safeLicenseText}</a>`
          : safeLicenseText;

        el.innerHTML = `Photo: <a href="${safeLanding}" target="_blank" rel="noopener">source</a> · ${creatorMarkup} · ${licenseMarkup}`;
      }

      function computeScoringCountryKeys() {
        const set = new Set();
        try {
          Object.values(scoringRules).forEach((byAnswer) => {
            if (!byAnswer) return;
            Object.values(byAnswer).forEach((adjustments) => {
              if (!adjustments) return;
              Object.keys(adjustments).forEach((k) => set.add(k));
            });
          });
        } catch {
          // ignore
        }
        return set;
      }

      function mergeCountryRecords(primary, secondary) {
        // Preserve any richer, hand-authored fields.
        return {
          ...secondary,
          ...primary,
          // Prefer explicit images/flags if present
          image: primary.image || secondary.image,
          flag: primary.flag || secondary.flag,
          // Prefer non-placeholder descriptions
          tagline: isPlaceholderCountryProfile(primary)
            ? secondary.tagline || primary.tagline
            : primary.tagline || secondary.tagline,
          description: isPlaceholderCountryProfile(primary)
            ? secondary.description || primary.description
            : primary.description || secondary.description,
          highlights:
            Array.isArray(primary.highlights) && primary.highlights.length
              ? primary.highlights
              : secondary.highlights,
          stats:
            Array.isArray(primary.stats) && primary.stats.length
              ? primary.stats
              : secondary.stats,
        };
      }

      function dedupeCountriesByCca3() {
        const scoringKeys = computeScoringCountryKeys();
        const groups = new Map();

        Object.entries(countries).forEach(([key, country]) => {
          const cca3 = (country?.cca3 || "").trim();
          if (!cca3) return;
          if (!groups.has(cca3)) groups.set(cca3, []);
          groups.get(cca3).push(key);
        });

        groups.forEach((keys, cca3) => {
          if (!keys || keys.length < 2) return;

          // Choose canonical: prefer one used by scoringRules; otherwise prefer
          // the one that looks more official (diacritics-normalized slug from dataset).
          const usedByScoring = keys.find((k) => scoringKeys.has(k));
          const canonicalKey = usedByScoring || keys.slice().sort()[0];

          keys.forEach((k) => {
            if (k === canonicalKey) return;
            countryKeyAliases[k] = canonicalKey;
            countries[canonicalKey] = mergeCountryRecords(
              countries[canonicalKey] || {},
              countries[k] || {}
            );
            delete countries[k];
          });
        });
      }

      function formatCompactNumber(value) {
        const num =
          typeof value === "number" && Number.isFinite(value) ? value : null;
        if (!num) return "N/A";
        const abs = Math.abs(num);
        if (abs >= 1_000_000_000) return `${(num / 1_000_000_000).toFixed(1)}B`;
        if (abs >= 1_000_000) return `${(num / 1_000_000).toFixed(1)}M`;
        if (abs >= 1_000) return `${Math.round(num / 1_000)}K`;
        return String(num);
      }

      function formatAreaKm2(area) {
        const num =
          typeof area === "number" && Number.isFinite(area) && area > 0
            ? area
            : null;
        if (!num) return "N/A";
        try {
          return `${Math.round(num).toLocaleString()} km²`;
        } catch {
          return `${Math.round(num)} km²`;
        }
      }

      function yesNoUnknown(value) {
        if (value === true) return "Yes";
        if (value === false) return "No";
        return "Unknown";
      }

      function isPlaceholderCountryProfile(country) {
        const tagline = (country?.tagline || "").toLowerCase();
        const description = (country?.description || "").toLowerCase();
        return (
          tagline.includes("coming soon") ||
          description.includes("we're preparing") ||
          description.includes("we’re preparing")
        );
      }

      function buildAutoTagline(meta) {
        const region = meta?.region || "";
        const sub = meta?.subregion || "";
        const where = [sub, region].filter(Boolean).join(" · ") || "Global";
        const statusParts = [];
        if (meta?.unMember === true) statusParts.push("UN member");
        if (meta?.independent === false) statusParts.push("territory");
        if (meta?.landlocked === true) statusParts.push("landlocked");
        const status = statusParts.length
          ? `${statusParts.join(", ")} in ${where}`
          : `Destination in ${where}`;
        return status.charAt(0).toUpperCase() + status.slice(1);
      }

      function buildAutoDescription(meta) {
        const name = meta?.name || "This destination";
        const region = meta?.region || "";
        const sub = meta?.subregion || "";
        const capital = meta?.capital || "N/A";
        const languages = Array.isArray(meta?.languages)
          ? meta.languages.filter(Boolean)
          : [];
        const langText = languages.length
          ? languages.slice(0, 4).join(", ")
          : "N/A";
        const where =
          [sub, region].filter(Boolean).join(", ") || "multiple regions";
        const borders = Array.isArray(meta?.borders) ? meta.borders.length : 0;
        const borderText = borders
          ? `${borders} land border${borders === 1 ? "" : "s"}`
          : "no listed land borders";
        return `${name} sits in ${where}. Capital: ${capital}. Languages: ${langText}. It has ${borderText}.`;
      }

      function buildAutoHighlights(meta) {
        const region = meta?.region || "N/A";
        const sub = meta?.subregion || "N/A";
        const capital = meta?.capital || "N/A";
        const languages = Array.isArray(meta?.languages)
          ? meta.languages.filter(Boolean)
          : [];
        const langText = languages.length
          ? languages.slice(0, 4).join(", ")
          : "N/A";
        const borders = Array.isArray(meta?.borders) ? meta.borders.length : 0;
        return [
          {
            title: "Region",
            text: `${region}${sub && sub !== region ? ` · ${sub}` : ""}`,
          },
          { title: "Capital", text: capital },
          { title: "Languages", text: langText },
          {
            title: "Status",
            text: `UN member: ${yesNoUnknown(
              meta?.unMember
            )} · Independent: ${yesNoUnknown(
              meta?.independent
            )} · Landlocked: ${yesNoUnknown(
              meta?.landlocked
            )} · Borders: ${borders}`,
          },
        ];
      }

      function buildAutoStats(meta) {
        const population = meta?.population;
        const area = meta?.area;
        const capital = meta?.capital;
        const borders = Array.isArray(meta?.borders)
          ? meta.borders.length
          : null;
        return [
          { number: formatCompactNumber(population), label: "Population" },
          { number: formatAreaKm2(area), label: "Area" },
          { number: capital || "N/A", label: "Capital" },
          {
            number: borders === null ? "N/A" : String(borders),
            label: "Borders",
          },
        ];
      }

      async function hydrateWorldCountryProfiles() {
        if (worldCountriesHydrated) return;
        if (worldCountriesHydrating) return worldCountriesHydrating;

        worldCountriesHydrating = (async () => {
          try {
            const response = await fetch("data/world-countries.json", {
              cache: "force-cache",
            });
            if (!response.ok) {
              throw new Error(`world-countries.json HTTP ${response.status}`);
            }

            const list = await response.json();
            if (!Array.isArray(list)) {
              throw new Error("world-countries.json is not an array");
            }

            const metaByKey = new Map();
            list.forEach((meta) => {
              if (!meta || !meta.name) return;
              const key = slugifyCountryName(meta.name);
              if (!key) return;
              metaByKey.set(key, meta);
            });

            metaByKey.forEach((meta, key) => {
              const existing = countries[key];

              if (!existing) {
                countries[key] = {
                  flag: "🌍",
                  cca3: meta.cca3 || "",
                  name: meta.name,
                  tagline: buildAutoTagline(meta),
                  description: buildAutoDescription(meta),
                  highlights: buildAutoHighlights(meta),
                  stats: buildAutoStats(meta),
                  imageProvider: "openverse",
                  imageQuery: meta.name,
                };
                return;
              }

              if (isPlaceholderCountryProfile(existing)) {
                countries[key] = {
                  ...existing,
                  cca3: existing.cca3 || meta.cca3 || "",
                  name: existing.name || meta.name,
                  tagline: buildAutoTagline(meta),
                  description: buildAutoDescription(meta),
                  highlights: buildAutoHighlights(meta),
                  stats: buildAutoStats(meta),
                  imageProvider: existing.image
                    ? existing.imageProvider || ""
                    : "openverse",
                  imageQuery: existing.image
                    ? existing.imageQuery || ""
                    : meta.name,
                };
              } else {
                // Still attach cca3 so we can dedupe reliably.
                countries[key] = {
                  ...existing,
                  cca3: existing.cca3 || meta.cca3 || "",
                  imageProvider: existing.image
                    ? existing.imageProvider || ""
                    : "openverse",
                  imageQuery: existing.image
                    ? existing.imageQuery || ""
                    : meta.name,
                };
              }
            });

            // After hydration, merge duplicates like Turkey/Türkiye.
            dedupeCountriesByCca3();
          } catch (e) {
            console.warn("Could not hydrate world country profiles", e);
          } finally {
            worldCountriesHydrated = true;
            worldCountriesHydrating = null;
          }
        })();

        return worldCountriesHydrating;
      }

      function hydratePictureSources(img) {
        const picture = img.closest("picture");
        if (!picture) {
          return;
        }
        picture.querySelectorAll("source[data-srcset]").forEach((source) => {
          const value = source.getAttribute("data-srcset");
          if (value) {
            source.setAttribute("srcset", value);
            source.removeAttribute("data-srcset");
          }
        });
      }

      function escapeHtml(value = "") {
        return value
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#39;");
      }

      function summarizeDescription(text, limit = 220) {
        const clean = (text || "").replace(/\s+/g, " ").trim();
        if (!clean) {
          return "Discover how this destination could align with your priorities.";
        }
        if (clean.length <= limit) {
          return clean;
        }
        return `${clean.slice(0, limit).trimEnd()}...`;
      }

      function deriveGuideTags(text) {
        const normalized = (text || "").toLowerCase();
        const tags = new Set(["balanced"]);
        guideTagRules.forEach(({ tag, keywords }) => {
          if (keywords.some((keyword) => normalized.includes(keyword))) {
            tags.add(tag);
          }
        });
        return Array.from(tags);
      }

      function loadGuideImage(img) {
        const provider = img.getAttribute("data-provider");
        if (provider === "openverse") {
          const countryKey = img.getAttribute("data-country") || "";
          ensureOpenverseCountryImage(countryKey)
            .then((res) => {
              if (res?.url) {
                img.src = res.url;
                img.removeAttribute("data-provider");
                img.removeAttribute("data-country");
                setImageCreditFor(img, res.credit);
              }
            })
            .catch((e) => {
              console.warn("Openverse image load failed", e);
            });
          return;
        }

        const src = img.getAttribute("data-src");
        if (!src) return;
        hydratePictureSources(img);
        img.src = src;
        img.removeAttribute("data-src");
      }

      function setupGuideImageLazyLoad(container) {
        const root = container || document;
        const pending = root.querySelectorAll(
          ".guide-cover-img[data-src], .guide-cover-img[data-provider]"
        );
        if (!pending.length) {
          return;
        }

        if ("IntersectionObserver" in window) {
          guideImageObserver =
            guideImageObserver ||
            new IntersectionObserver(
              (entries, observer) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const target = entry.target;
                    observer.unobserve(target);
                    loadGuideImage(target);
                  }
                });
              },
              { rootMargin: "120px 0px" }
            );

          pending.forEach((img) => guideImageObserver.observe(img));
        } else {
          pending.forEach(loadGuideImage);
        }
      }

      // Replace emoji flags with Twemoji SVGs for consistent rendering across devices.
      function emojiToCodePoints(emoji) {
        const codePoints = [];
        for (const ch of Array.from(emoji || "")) {
          codePoints.push(ch.codePointAt(0).toString(16));
        }
        return codePoints.join("-");
      }

      function twemojiifyFlags(root) {
        const rootEl = root || document;
        const nodes = rootEl.querySelectorAll(".flag-emoji");
        if (!nodes.length) return;

        nodes.forEach((span) => {
          const emoji = (
            span.getAttribute("data-emoji") ||
            span.textContent ||
            ""
          ).trim();
          if (!emoji) return;

          try {
            const cp = emojiToCodePoints(emoji);
            if (!cp) return;

            const img = document.createElement("img");
            img.src = `https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/${cp}.svg`;
            img.alt = emoji;
            img.className = "flag-img";
            img.loading = "lazy";

            if (
              span.parentElement &&
              span.parentElement.getAttribute("aria-hidden") === "true"
            ) {
              img.setAttribute("aria-hidden", "true");
            }

            span.replaceWith(img);
          } catch (e) {
            // non-fatal; fallback remains as text emoji
            console.warn("twemojiifyFlags failed", emoji, e);
          }
        });
      }

      function renderCountryGuideCards(gridElement) {
        const grid = gridElement || document.getElementById("countryGuideGrid");
        if (!grid) {
          return [];
        }

        const entries = Object.entries(countries).sort(([, a], [, b]) =>
          (a.name || "").localeCompare(b.name || "")
        );

        const fragment = document.createDocumentFragment();

        entries.forEach(([countryKey, country]) => {
          const hasCoverImage =
            !!country.image ||
            country.imageProvider === "openverse" ||
            !!country.imageQuery;
          const optimizedSources = getOptimizedImageSources(country.image);
          const textForTags = [
            country.tagline || "",
            country.description || "",
            ...(country.highlights || []).map(
              (highlight) => `${highlight.title || ""} ${highlight.text || ""}`
            ),
          ].join(" ");

          const tags = deriveGuideTags(textForTags);
          const summary = summarizeDescription(
            country.description || country.tagline || ""
          );
          const highlights = (country.highlights || []).slice(0, 3);
          const card = document.createElement("article");
          card.className = "guide-card";
          card.setAttribute("data-tags", tags.join(" ").trim());
          card.setAttribute("data-country", countryKey);

          const highlightList = highlights.length
            ? `<ul class="traits">${highlights
                .map(
                  (highlight) =>
                    `<li>${escapeHtml(
                      highlight.text || highlight.title || ""
                    )}</li>`
                )
                .join("")}</ul>`
            : "";

          const imageMarkup = hasCoverImage
            ? `<div class="card-cover">
                <picture>
                  ${
                    optimizedSources.webp
                      ? `<source data-srcset="${escapeHtml(
                          optimizedSources.webp
                        )}" type="image/webp" />`
                      : ""
                  }
                  <img class="guide-cover-img" src="${guideImagePlaceholder}" ${
                country.image
                  ? `data-src="${escapeHtml(optimizedSources.fallback)}"`
                  : `data-provider="openverse" data-country="${escapeHtml(
                      countryKey
                    )}"`
              } alt="${escapeHtml(
                `${country.name || countryKey} landscape photo`
              )}" loading="lazy" decoding="async" fetchpriority="low" width="640" height="360" sizes="(max-width: 600px) 100vw, 360px" />
                </picture>
                <span class="flag-chip" aria-hidden="true"><span class="flag-emoji" data-emoji="${escapeHtml(
                  country.flag || "🌍"
                )}">${escapeHtml(country.flag || "🌍")}</span></span>
                <span class="img-credit" aria-label="Photo credit"></span>
              </div>`
            : "";

          card.innerHTML = `
            ${imageMarkup}
            <div class="card-head">
              <div class="avatar" aria-hidden="true"><span class="flag-emoji" data-emoji="${escapeHtml(
                country.flag || "🌍"
              )}">${escapeHtml(country.flag || "🌍")}</span></div>
              <div>
                <h4>${escapeHtml(country.name || countryKey)}</h4>
                <p class="card-meta">${escapeHtml(
                  country.tagline || "Lifestyle snapshot"
                )}</p>
              </div>
            </div>
            <p class="summary">${escapeHtml(summary)}</p>
            ${highlightList}
            <a class="guide-cta" href="#quizSection">Compare fit</a>
          `;
          fragment.appendChild(card);
        });

        grid.innerHTML = "";
        grid.appendChild(fragment);
        try {
          twemojiifyFlags(grid);
        } catch (e) {
          console.warn("twemojiifyFlags grid error", e);
        }
        setupGuideImageLazyLoad(grid);
        return Array.from(grid.querySelectorAll(".guide-card"));
      }

      function selectOption(button) {
        const question = button.closest(".question");
        if (!question) {
          return;
        }

        question.querySelectorAll(".answer-btn").forEach((answerBtn) => {
          answerBtn.classList.remove("selected");
        });
        button.classList.add("selected");

        const questionNum = question.dataset.question;
        answers[questionNum] = button.dataset.value;

        trackQuizEvent("answer_selected", {
          question: Number(questionNum),
          answer: button.dataset.value,
        });

        setTimeout(() => {
          if (currentQuestion < totalQuestions) {
            changeQuestion(1, false);
          } else {
            calculateResult();
          }
        }, 150);
      }

      function changeQuestion(direction, doScroll = true) {
        const questions = document.querySelectorAll(".question");
        const currentIndex = currentQuestion - 1;
        if (questions[currentIndex]) {
          questions[currentIndex].classList.remove("active");
        }

        currentQuestion += direction;

        const nextIndex = currentQuestion - 1;
        const nextQuestion = questions[nextIndex];
        if (nextQuestion) {
          nextQuestion.classList.add("active");
        }

        updateQuestionIndicators();
        updateProgress();

        const quizSection = document.getElementById("quizSection");
        if (doScroll && quizSection) {
          quizSection.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      }

      function updateQuestionIndicators() {
        const bottomIndicator = document.getElementById("questionNumber");
        const topIndicator = document.getElementById("questionNumberTop");
        const bottomTotalIndicator = document.getElementById("questionTotal");
        const topTotalIndicator = document.getElementById("questionTotalTop");
        if (bottomIndicator) {
          bottomIndicator.textContent = currentQuestion;
        }
        if (topIndicator) {
          topIndicator.textContent = currentQuestion;
        }
        if (bottomTotalIndicator) {
          bottomTotalIndicator.textContent = totalQuestions;
        }
        if (topTotalIndicator) {
          topTotalIndicator.textContent = totalQuestions;
        }
      }

      function updateProgress(forceValue) {
        const progressBar = document.getElementById("progressBar");
        const progressLabel = document.getElementById("progressLabel");
        const progressDialValue = document.getElementById("progressDialValue");
        const progressOrb = document.getElementById("progressOrb");
        const progressValue =
          forceValue !== undefined
            ? forceValue
            : Math.round(((currentQuestion - 1) / totalQuestions) * 100);

        if (progressBar) {
          progressBar.style.width = progressValue + "%";
          progressBar.setAttribute("aria-valuenow", String(progressValue));
        }
        if (progressLabel) {
          progressLabel.textContent = progressValue + "%";
        }
        if (progressDialValue) {
          progressDialValue.textContent = progressValue + "%";
        }
        if (progressOrb) {
          progressOrb.style.setProperty("--progress", progressValue + "%");
        }
      }

      function calculateResult() {
        const scores = {};
        Object.keys(countries).forEach((countryKey) => {
          scores[countryKey] = 0;
        });

        Object.keys(scoringRules).forEach((questionKey) => {
          const answer = answers[questionKey];
          if (!answer) {
            return;
          }

          const adjustments = scoringRules[questionKey][answer];
          if (!adjustments) {
            return;
          }

          Object.entries(adjustments).forEach(([countryKey, points]) => {
            const resolvedKey = resolveCountryKey(countryKey);
            if (scores[resolvedKey] !== undefined) {
              scores[resolvedKey] += points;
            }
          });
        });

        const scoreValues = Object.values(scores);
        const maxScore = scoreValues.length ? Math.max(...scoreValues) : 0;
        const topCountries = Object.entries(scores)
          .filter(([, score]) => score === maxScore)
          .map(([countryKey]) => countryKey);

        const resultCountry =
          topCountries.length === 1
            ? topCountries[0]
            : deterministicPick(topCountries);

        updateProgress(100);
        updateQuestionIndicators();
        displayResultEnhanced(resolveCountryKey(resultCountry), maxScore);
      }

      function deterministicPick(options) {
        if (!options.length) {
          return Object.keys(countries)[0];
        }

        const signature = Object.keys(answers)
          .sort()
          .map((key) => `${key}:${answers[key] ?? ""}`)
          .join("|");

        let hash = 0;
        for (let i = 0; i < signature.length; i++) {
          hash = (hash * 31 + signature.charCodeAt(i)) | 0;
        }

        const orderedOptions = [...options].sort();
        const index = Math.abs(hash) % orderedOptions.length;
        return orderedOptions[index];
      }

      function displayResult(countryKey, matchScore) {
        const country = countries[countryKey];
        if (!country) {
          return;
        }

        const optimizedSources = getOptimizedImageSources(country.image);
        const maxPossibleScore = totalQuestions * 3;
        const safeScore =
          typeof matchScore === "number" ? matchScore : maxPossibleScore * 0.75;
        const normalizedScore = Math.min(
          100,
          Math.max(55, Math.round((safeScore / maxPossibleScore) * 100))
        );
        const pillItems = (country.highlights || [])
          .slice(0, 3)
          .map(
            (highlight) =>
              `<span class="result-pill">${escapeHtml(
                highlight.title || highlight.text || "Signature pillar"
              )}</span>`
          )
          .join("");

        const hasHeroImage =
          !!country.image ||
          country.imageProvider === "openverse" ||
          !!country.imageQuery;

        const heroImageMarkup = hasHeroImage
          ? `<div class="result-media">
                <picture class="country-picture">
                  ${
                    optimizedSources.webp
                      ? `<source srcset="${escapeHtml(
                          optimizedSources.webp
                        )}" type="image/webp" />`
                      : ""
                  }
                  <img src="${
                    country.image
                      ? escapeHtml(optimizedSources.fallback)
                      : guideImagePlaceholder
                  }" ${
              country.image
                ? ""
                : `data-provider="openverse" data-country="${escapeHtml(
                    countryKey
                  )}"`
            } alt="${escapeHtml(
              country.name || "Country landscape"
            )}" loading="lazy" decoding="async" width="640" height="360" sizes="(max-width: 768px) 100vw, 320px" />
                </picture>
                <div class="result-score-chip">
                  <span>Lifestyle fit</span>
                  <strong>${normalizedScore}%</strong>
                </div>
                <div class="img-credit" aria-label="Photo credit"></div>
             </div>`
          : `<div class="result-media">
                <div class="result-score-chip">
                  <span>Lifestyle fit</span>
                  <strong>${normalizedScore}%</strong>
                </div>
             </div>`;

        const resultContainer = document.getElementById("result");
        if (!resultContainer) {
          return;
        }

        resultContainer.innerHTML = `
          <div class="result-shell">
            <div class="result-hero">
              <div class="result-identity">
                <span class="result-label">Top match</span>
                <div class="result-flag"><span class="flag-emoji" data-emoji="${escapeHtml(
                  country.flag || "🌍"
                )}">${escapeHtml(country.flag || "🌍")}</span></div>
                <div class="result-name">${escapeHtml(country.name || "")}</div>
                <p class="result-tagline">${escapeHtml(
                  country.tagline || ""
                )}</p>
                ${
                  pillItems
                    ? `<div class="result-pills">${pillItems}</div>`
                    : ""
                }
              </div>
              ${heroImageMarkup}
            </div>
            <div class="result-body">
              <article class="result-story">
                ${escapeHtml(
                  country.description ||
                    "Expect a balanced blend of experience and opportunity here."
                )}
              </article>
              <section class="result-stack">
                <div class="result-stats">
                  <div class="result-stats-head">
                    <h3>Signal Benchmarks</h3>
                    <p>Where ${escapeHtml(
                      country.name || "this country"
                    )} excels based on your inputs.</p>
                  </div>
                  <div class="stats-grid" id="statsGrid"></div>
                </div>
                <div class="result-next">
                  <h3>Next Mini-Moves</h3>
                  <ul class="next-steps">
                    <li>Bookmark visa and residency pathways for ${escapeHtml(
                      country.name || "this nation"
                    )}.</li>
                    <li>Model your monthly budget using local cost-of-living data.</li>
                    <li>Plan a scouting trip anchored around the highlights below.</li>
                  </ul>
                </div>
              </section>
              <section class="result-highlights" id="countryHighlights"></section>
              <div class="result-actions">
                <button class="restart-btn" onclick="restartQuiz()">Retake quiz</button>
                <div class="share-buttons">
                  <h4>Share your match</h4>
                  <div class="share-row">
                      <button onclick="shareToTwitter('${countryKey}')" class="share-btn twitter">Share on X</button>
                      <button onclick="shareToFacebook('${countryKey}')" class="share-btn facebook">Share on Facebook</button>
                      <button onclick="shareToLinkedIn('${countryKey}')" class="share-btn linkedin">LinkedIn</button>
                      <button onclick="shareToWhatsApp('${countryKey}')" class="share-btn whatsapp">WhatsApp</button>
                      <button onclick="copyResultLink()" class="share-btn copy">Copy link</button>
                    </div>
                  </div>

                  
              </div>
            </div>
          </div>
        `;

        try {
          twemojiifyFlags(resultContainer);
        } catch (e) {
          console.warn("twemojiifyFlags result error", e);
        }

        const statsGrid = document.getElementById("statsGrid");
        if (statsGrid && Array.isArray(country.stats)) {
          country.stats.forEach((stat) => {
            const statDiv = document.createElement("div");
            statDiv.className = "stat-item";
            statDiv.innerHTML = `
              <span class="stat-number">${escapeHtml(stat.number || "")}</span>
              <span class="stat-label">${escapeHtml(stat.label || "")}</span>
            `;
            statsGrid.appendChild(statDiv);
          });
        }

        const highlightsContainer =
          document.getElementById("countryHighlights");
        if (highlightsContainer && Array.isArray(country.highlights)) {
          country.highlights.forEach((highlight) => {
            const highlightDiv = document.createElement("div");
            highlightDiv.className = "highlight-card";
            highlightDiv.innerHTML = `
              <h4>${escapeHtml(highlight.title || "Key insight")}</h4>
              <p>${escapeHtml(
                highlight.text ||
                  "This destination nails a pillar you flagged earlier."
              )}</p>
            `;
            highlightsContainer.appendChild(highlightDiv);
          });
        }

        const quizContainer = document.querySelector(".quiz-container");
        if (quizContainer) {
          quizContainer.style.display = "none";
        }

        resultContainer.classList.add("show");

        // If the hero image is sourced from Openverse, resolve it on-demand and attach credit.
        try {
          const heroImg = resultContainer.querySelector(
            '.result-media img[data-provider="openverse"]'
          );
          if (heroImg) {
            loadGuideImage(heroImg);
          }
        } catch (e) {
          console.warn("Result image hydrate failed", e);
        }
      }

      function restartQuiz() {
        // Reset variables
        currentQuestion = 1;
        answers = {};

        // Reset UI
        document.querySelectorAll(".question").forEach((question, index) => {
          question.classList.toggle("active", index === 0);
          question.querySelectorAll(".answer-btn").forEach((answerBtn) => {
            answerBtn.classList.remove("selected");
          });
        });

        updateQuestionIndicators();
        updateProgress(0);

        const quizContainer = document.querySelector(".quiz-container");
        if (quizContainer) {
          quizContainer.style.display = "block";
        }

        const resultEl = document.getElementById("result");
        if (resultEl) {
          resultEl.classList.remove("show");
          resultEl.innerHTML = resultTemplate;
        }

        const quizSection = document.getElementById("quizSection");
        if (quizSection) {
          quizSection.scrollIntoView({ behavior: "smooth", block: "start" });
        }

        trackQuizEvent("quiz_restarted");
      }

      // Analytics tracking
      function trackQuizEvent(eventName, parameters = {}) {
        if (typeof gtag !== "undefined") {
          gtag("event", eventName, {
            event_category: "Perfect Country Quiz",
            ...parameters,
          });
        }
      }

      // Add click event listeners to all options
      document.addEventListener("DOMContentLoaded", function () {
        updateQuestionIndicators();
        updateProgress(0);

        function updateCountryCountUI() {
          const el = document.getElementById("countryCountStat");
          if (!el) return;
          try {
            el.textContent = String(Object.keys(countries).length);
          } catch {
            el.textContent = "—";
          }
        }

        updateCountryCountUI();
        hydrateWorldCountryProfiles()
          .then(updateCountryCountUI)
          .catch(updateCountryCountUI);

        const nav = document.querySelector("nav");
        const navToggle = nav?.querySelector("[data-nav-toggle]");
        const navMenu = document.getElementById("navMenu");
        const navOverlay = document.querySelector("[data-nav-overlay]");

        function setNavState(open) {
          if (!nav || !navToggle || !navMenu) {
            return;
          }

          nav.classList.toggle("menu-open", open);
          document.body.classList.toggle("nav-locked", open);
          navToggle.setAttribute("aria-expanded", open ? "true" : "false");
        }

        navToggle?.addEventListener("click", () => {
          const willOpen = !nav?.classList.contains("menu-open");
          setNavState(willOpen);
        });

        navOverlay?.addEventListener("click", () => setNavState(false));

        navMenu?.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            if (window.innerWidth <= 1024) {
              setNavState(false);
            }
          });
        });

        window.addEventListener("resize", () => {
          if (window.innerWidth > 1024) {
            setNavState(false);
          }
        });

        const guideSection = document.getElementById("countryGuide");
        if (guideSection) {
          const searchInput = guideSection.querySelector("#countryGuideSearch");
          const chips = guideSection.querySelectorAll(".filter-chips .chip");
          const gridElement = guideSection.querySelector("#countryGuideGrid");
          let cards = [];
          let activeFilter = "all";
          let guideInitialized = false;

          async function ensureGuideCards() {
            if (guideInitialized || !gridElement) {
              return;
            }
            guideInitialized = true;

            try {
              await hydrateWorldCountryProfiles();
            } catch (e) {
              console.warn("Guide hydration skipped", e);
            }

            cards = renderCountryGuideCards(gridElement);
            applyCountryGuideFilters();
          }

          function applyCountryGuideFilters() {
            if (!cards.length) {
              return;
            }
            const query = (searchInput?.value || "").toLowerCase();

            cards.forEach((card) => {
              const text = card.innerText.toLowerCase();
              const tags = (card.getAttribute("data-tags") || "").toLowerCase();
              const matchesText = !query || text.includes(query);
              const matchesFilter =
                activeFilter === "all" || tags.includes(activeFilter);
              card.style.display = matchesText && matchesFilter ? "" : "none";
            });
          }

          if (searchInput) {
            searchInput.addEventListener("input", () => {
              ensureGuideCards();
              applyCountryGuideFilters();
            });
          }

          if (chips.length) {
            chips.forEach((chip) => {
              chip.addEventListener("click", () => {
                ensureGuideCards();
                chips.forEach((c) => {
                  c.classList.remove("active");
                  c.setAttribute("aria-selected", "false");
                });

                chip.classList.add("active");
                chip.setAttribute("aria-selected", "true");

                activeFilter = chip.dataset.filter || "all";
                applyCountryGuideFilters();
              });
            });
          }

          if ("IntersectionObserver" in window && gridElement) {
            const guideObserver = new IntersectionObserver(
              (entries, observer) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    ensureGuideCards();
                    observer.disconnect();
                  }
                });
              },
              { rootMargin: "0px 0px 200px 0px" }
            );
            guideObserver.observe(guideSection);
          } else {
            setTimeout(ensureGuideCards, 400);
          }

          if ("requestIdleCallback" in window) {
            requestIdleCallback(ensureGuideCards, { timeout: 2000 });
          } else {
            setTimeout(ensureGuideCards, 1200);
          }
        }

        trackQuizEvent("quiz_started");

        // Smooth scroll for topbar nav links with offset for the fixed header
        (function () {
          const topbar = document.querySelector(".topbar");
          const links = document.querySelectorAll('.nav-link[href^="#"]');
          const mobileMenu = document.getElementById("mobileMenu");
          const menuToggle = document.getElementById("menuToggle");

          function getOffset() {
            if (topbar) return topbar.getBoundingClientRect().height + 8;
            const cssVar = getComputedStyle(
              document.documentElement
            ).getPropertyValue("--topbar-h");
            const parsed = parseInt(cssVar, 10);
            return Number.isFinite(parsed) ? parsed : 76;
          }

          function scrollToTarget(hash) {
            try {
              const el = document.querySelector(hash);
              if (!el) return;
              const offset = getOffset();
              const top =
                el.getBoundingClientRect().top + window.pageYOffset - offset;
              window.scrollTo({ top, behavior: "smooth" });
              // update hash without jumping
              history.replaceState(null, "", hash);
              // move focus for accessibility
              el.setAttribute("tabindex", "-1");
              el.focus({ preventScroll: true });
            } catch (e) {
              console.warn("nav scroll failed", e);
            }
          }

          links.forEach((a) => {
            a.addEventListener("click", (ev) => {
              const href = a.getAttribute("href");
              if (!href || !href.startsWith("#")) return;
              ev.preventDefault();
              // close mobile menu if open
              if (mobileMenu && mobileMenu.classList.contains("open")) {
                mobileMenu.classList.remove("open");
                if (menuToggle) {
                  menuToggle.classList.remove("active");
                  menuToggle.setAttribute("aria-expanded", "false");
                }
              }
              scrollToTarget(href);
            });
          });
        })();
      });

      // Enhanced result display with sharing
      function displayResultEnhanced(countryKey, matchScore) {
        displayResult(countryKey, matchScore);
        trackQuizEvent("quiz_completed", {
          result_country: countryKey,
        });
      }

      // Social sharing functions
      function shareToFacebook(country) {
        const base = window.location.href.split("#")[0];
        const params = new URLSearchParams({
          utm_source: "social",
          utm_medium: "facebook",
          utm_campaign: "perfect_country_quiz",
        }).toString();
        const shareUrlEncoded = encodeURIComponent(`${base}?${params}`);
        const text = encodeURIComponent(
          `I just discovered my perfect country to live in: ${countries[country].name}! Take the quiz to find yours.`
        );
        window.open(
          `https://www.facebook.com/sharer/sharer.php?u=${shareUrlEncoded}&quote=${text}`,
          "_blank"
        );
        trackQuizEvent("result_shared", {
          platform: "facebook",
          country: country,
        });
      }

      function shareToTwitter(country) {
        const base = window.location.href.split("#")[0];
        const params = new URLSearchParams({
          utm_source: "social",
          utm_medium: "twitter",
          utm_campaign: "perfect_country_quiz",
        }).toString();
        const shareUrl = `${base}?${params}`;
        const url = encodeURIComponent(shareUrl);
        const text = encodeURIComponent(
          `My perfect country to live in is ${countries[country].name} ${countries[country].flag}! Find yours with this helpful quiz:`
        );
        window.open(
          `https://twitter.com/intent/tweet?text=${text}&url=${url}`,
          "_blank"
        );
        trackQuizEvent("result_shared", {
          platform: "twitter",
          country: country,
        });
      }

      function shareToLinkedIn(country) {
        const base = window.location.href.split("#")[0];
        const params = new URLSearchParams({
          utm_source: "social",
          utm_medium: "linkedin",
          utm_campaign: "perfect_country_quiz",
        }).toString();
        const shareUrlEncoded = encodeURIComponent(`${base}?${params}`);
        window.open(
          `https://www.linkedin.com/sharing/share-offsite/?url=${shareUrlEncoded}`,
          "_blank"
        );
        trackQuizEvent("result_shared", {
          platform: "linkedin",
          country: country,
        });
      }

      function shareToWhatsApp(country) {
        const base = window.location.href.split("#")[0];
        const params = new URLSearchParams({
          utm_source: "social",
          utm_medium: "whatsapp",
          utm_campaign: "perfect_country_quiz",
        }).toString();
        const shareUrl = `${base}?${params}`;
        const text = encodeURIComponent(
          `My perfect country to live in is ${countries[country].name} ${countries[country].flag}! Find yours with this helpful quiz: ${shareUrl}`
        );
        const waUrl = `https://api.whatsapp.com/send?text=${text}`;
        window.open(waUrl, "_blank");
        trackQuizEvent("result_shared", {
          platform: "whatsapp",
          country: country,
        });
      }

      function copyResultLink() {
        const base = window.location.href.split("#")[0];
        const params = new URLSearchParams({
          utm_source: "social",
          utm_medium: "copy_link",
          utm_campaign: "perfect_country_quiz",
        }).toString();
        const linkWithUtm = `${base}?${params}`;
        navigator.clipboard.writeText(linkWithUtm).then(() => {
          alert("Link copied to clipboard!");
          trackQuizEvent("result_shared", { platform: "copy_link" });
        });
      }

      // Subscribe email handler (subtle in-quiz capture)
      async function subscribeEmail(country) {
        try {
          const emailInput = document.getElementById(
            `subscribeEmail-${country}`
          );
          const optInInput = document.getElementById(
            `subscribeOptIn-${country}`
          );
          const msgEl = document.getElementById(`subscribeMsg-${country}`);
          if (!emailInput || !msgEl) return;
          const email = (emailInput.value || "").trim();
          const optIn = !!(optInInput && optInInput.checked);
          if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
            msgEl.textContent = "Please enter a valid email.";
            msgEl.style.color = "#c0392b";
            return;
          }

          // Show quick feedback
          msgEl.textContent = "Saving...";
          msgEl.style.color = "var(--muted)";

          // Try to POST to an API endpoint (placeholder). If network fails, fallback to localStorage.
          const payload = {
            email: email,
            country: country,
            optIn: optIn,
            source: "perfect_country_quiz",
          };
          let method = "api";
          try {
            const res = await fetch("/api/subscribe", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
              credentials: "include",
            });
            if (!res.ok) throw new Error("Network response not ok");
            msgEl.textContent =
              "Thanks — we'll send occasional tips to this email.";
            msgEl.style.color = "green";
          } catch (err) {
            // fallback: save to localStorage so you can export later
            method = "local";
            try {
              const key = "zinvana_subscribers";
              const existing = JSON.parse(localStorage.getItem(key) || "[]");
              existing.push({
                email,
                country,
                optIn,
                date: new Date().toISOString(),
              });
              localStorage.setItem(key, JSON.stringify(existing));
              msgEl.textContent =
                "Saved locally (offline). We'll sync when available.";
              msgEl.style.color = "green";
            } catch (e2) {
              msgEl.textContent = "Unable to save. Try again later.";
              msgEl.style.color = "#c0392b";
            }
          }

          // disable form inputs after capture
          if (emailInput) emailInput.disabled = true;
          if (optInInput) optInInput.disabled = true;

          trackQuizEvent("email_collected", {
            country: country,
            method: method,
          });
        } catch (ex) {
          console.error("subscribeEmail error", ex);
        }
      }
    </script>
  </body>
</html>
